<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>INET Framework for OMNeT++/OMNEST: SimpleClassifier Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">INET Framework for OMNeT++/OMNEST
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_simple_classifier.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">SimpleClassifier Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="SimpleClassifier" --><!-- doxytag: inherits="IScriptable,IRSVPClassifier" -->
<p><code>#include &lt;<a class="el" href="_simple_classifier_8h_source.html">SimpleClassifier.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for SimpleClassifier:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_simple_classifier.png" usemap="#SimpleClassifier_map" alt=""/>
  <map id="SimpleClassifier_map" name="SimpleClassifier_map">
<area href="class_i_scriptable.html" alt="IScriptable" shape="rect" coords="0,56,102,80"/>
<area href="class_i_r_s_v_p_classifier.html" alt="IRSVPClassifier" shape="rect" coords="112,56,214,80"/>
<area href="class_i_classifier.html" alt="IClassifier" shape="rect" coords="112,0,214,24"/>
</map>
 </div></div>

<p><a href="class_simple_classifier-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_simple_classifier_1_1_f_e_c_entry.html">FECEntry</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simple_classifier.html#ae85c384685c8044120167752b771245d">SimpleClassifier</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simple_classifier.html#a2752f05725cbc2a1a723145d5b93b1d9">initialize</a> (int stage)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simple_classifier.html#a1eafd742086abed4ee80f23354e297dc">numInitStages</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simple_classifier.html#af579a60931cfc3fd2454e96179a56a65">handleMessage</a> (cMessage *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simple_classifier.html#ad7fc19a7f0da79e1e2977c4f4c7bc4ef">processCommand</a> (const cXMLElement &amp;node)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simple_classifier.html#a06b4668153f537bc02defabea2455639">lookupLabel</a> (<a class="el" href="class_i_p_datagram.html">IPDatagram</a> *ipdatagram, <a class="el" href="_l_i_b_table_8h.html#a40d505abe4d03bca1c9776ebb1a874e5">LabelOpVector</a> &amp;outLabel, std::string &amp;outInterface, int &amp;color)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simple_classifier.html#a3d59970551015f00944e859cbd1a1e7b">bind</a> (const <a class="el" href="struct_session_obj__t.html">SessionObj_t</a> &amp;session, const <a class="el" href="struct_sender_template_obj__t.html">SenderTemplateObj_t</a> &amp;sender, int inLabel)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simple_classifier.html#a5a24e2be606223f1b4f7c8575d612375">readTableFromXML</a> (const cXMLElement *fectable)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simple_classifier.html#a56186b812abd918d7355d5d6dd26aba0">readItemFromXML</a> (const cXMLElement *fec)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="struct_simple_classifier_1_1_f_e_c_entry.html">FECEntry</a> &gt;::iterator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simple_classifier.html#a02f5c62ed7a909b5ac56205e6b14aa6a">findFEC</a> (int fecid)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_i_p_address.html">IPAddress</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simple_classifier.html#aed95b913088b5824553817a65c281ab3">routerId</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simple_classifier.html#a36263a04fe1d139c3ddeb08763f7db08">maxLabel</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="struct_simple_classifier_1_1_f_e_c_entry.html">FECEntry</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simple_classifier.html#a18803de5a7a88ef8d06e4811b5734956">bindings</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_l_i_b_table.html">LIBTable</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simple_classifier.html#a742a51717e1578d5f133e877326d9d44">lt</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_r_s_v_p.html">RSVP</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_simple_classifier.html#af6bd06d2b82c85a07a6e98867fb70cd1">rsvp</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>TODO documentation </p>

<p>Definition at line <a class="el" href="_simple_classifier_8h_source.html#l00034">34</a> of file <a class="el" href="_simple_classifier_8h_source.html">SimpleClassifier.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae85c384685c8044120167752b771245d"></a><!-- doxytag: member="SimpleClassifier::SimpleClassifier" ref="ae85c384685c8044120167752b771245d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_simple_classifier.html#ae85c384685c8044120167752b771245d">SimpleClassifier::SimpleClassifier</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_simple_classifier_8h_source.html#l00059">59</a> of file <a class="el" href="_simple_classifier_8h_source.html">SimpleClassifier.h</a>.</p>
<div class="fragment"><pre class="fragment">{}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a3d59970551015f00944e859cbd1a1e7b"></a><!-- doxytag: member="SimpleClassifier::bind" ref="a3d59970551015f00944e859cbd1a1e7b" args="(const SessionObj_t &amp;session, const SenderTemplateObj_t &amp;sender, int inLabel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_simple_classifier.html#a3d59970551015f00944e859cbd1a1e7b">SimpleClassifier::bind</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_session_obj__t.html">SessionObj_t</a> &amp;&#160;</td>
          <td class="paramname"><em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_sender_template_obj__t.html">SenderTemplateObj_t</a> &amp;&#160;</td>
          <td class="paramname"><em>sender</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>inLabel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implements <a class="el" href="class_i_r_s_v_p_classifier.html#a4351df463434c522af578c9a66bac594">IRSVPClassifier</a>.</p>

<p>Definition at line <a class="el" href="_simple_classifier_8cc_source.html#l00093">93</a> of file <a class="el" href="_simple_classifier_8cc_source.html">SimpleClassifier.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    std::vector&lt;FECEntry&gt;::iterator it;
    <span class="keywordflow">for</span> (it = <a class="code" href="class_simple_classifier.html#a18803de5a7a88ef8d06e4811b5734956">bindings</a>.begin(); it != <a class="code" href="class_simple_classifier.html#a18803de5a7a88ef8d06e4811b5734956">bindings</a>.end(); it++)
    {
        <span class="keywordflow">if</span> (it-&gt;session != session)
            <span class="keywordflow">continue</span>;

        <span class="keywordflow">if</span> (it-&gt;sender != sender)
            <span class="keywordflow">continue</span>;

        it-&gt;inLabel = inLabel;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a02f5c62ed7a909b5ac56205e6b14aa6a"></a><!-- doxytag: member="SimpleClassifier::findFEC" ref="a02f5c62ed7a909b5ac56205e6b14aa6a" args="(int fecid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="struct_simple_classifier_1_1_f_e_c_entry.html">SimpleClassifier::FECEntry</a> &gt;::iterator <a class="el" href="class_simple_classifier.html#a02f5c62ed7a909b5ac56205e6b14aa6a">SimpleClassifier::findFEC</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fecid</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_simple_classifier_8cc_source.html#l00213">213</a> of file <a class="el" href="_simple_classifier_8cc_source.html">SimpleClassifier.cc</a>.</p>

<p>Referenced by <a class="el" href="_simple_classifier_8cc_source.html#l00133">readItemFromXML()</a>.</p>
<div class="fragment"><pre class="fragment">{
    std::vector&lt;FECEntry&gt;::iterator it;
    <span class="keywordflow">for</span> (it = <a class="code" href="class_simple_classifier.html#a18803de5a7a88ef8d06e4811b5734956">bindings</a>.begin(); it != <a class="code" href="class_simple_classifier.html#a18803de5a7a88ef8d06e4811b5734956">bindings</a>.end(); it++)
    {
        <span class="keywordflow">if</span> (it-&gt;id != fecid)
            <span class="keywordflow">continue</span>;

        <span class="keywordflow">break</span>;
    }
    <span class="keywordflow">return</span> it;
}
</pre></div>
</div>
</div>
<a class="anchor" id="af579a60931cfc3fd2454e96179a56a65"></a><!-- doxytag: member="SimpleClassifier::handleMessage" ref="af579a60931cfc3fd2454e96179a56a65" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_simple_classifier.html#af579a60931cfc3fd2454e96179a56a65">SimpleClassifier::handleMessage</a> </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_simple_classifier_8cc_source.html#l00048">48</a> of file <a class="el" href="_simple_classifier_8cc_source.html">SimpleClassifier.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    ASSERT(<span class="keyword">false</span>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2752f05725cbc2a1a723145d5b93b1d9"></a><!-- doxytag: member="SimpleClassifier::initialize" ref="a2752f05725cbc2a1a723145d5b93b1d9" args="(int stage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_simple_classifier.html#a2752f05725cbc2a1a723145d5b93b1d9">SimpleClassifier::initialize</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stage</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_simple_classifier_8cc_source.html#l00025">25</a> of file <a class="el" href="_simple_classifier_8cc_source.html">SimpleClassifier.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// we have to wait until routerId gets assigned in stage 3</span>
    <span class="keywordflow">if</span> (stage!=4)
        <span class="keywordflow">return</span>;

    <a class="code" href="class_simple_classifier.html#a36263a04fe1d139c3ddeb08763f7db08">maxLabel</a> = 0;

    <a class="code" href="class_routing_table_access.html">RoutingTableAccess</a> routingTableAccess;
    <a class="code" href="class_i_routing_table.html">IRoutingTable</a> *rt = routingTableAccess.<a class="code" href="class_module_access.html#a44956ddb52973612afbba0eeecf8bb66">get</a>();
    <a class="code" href="class_simple_classifier.html#aed95b913088b5824553817a65c281ab3">routerId</a> = rt-&gt;<a class="code" href="class_i_routing_table.html#a64a9a5b1414f4da0b7b0a3e079091f62">getRouterId</a>();

    <a class="code" href="class_l_i_b_table_access.html">LIBTableAccess</a> libTableAccess;
    <a class="code" href="class_simple_classifier.html#a742a51717e1578d5f133e877326d9d44">lt</a> = libTableAccess.<a class="code" href="class_module_access.html#a44956ddb52973612afbba0eeecf8bb66">get</a>();

    <a class="code" href="class_r_s_v_p_access.html">RSVPAccess</a> rsvpAccess;
    <a class="code" href="class_simple_classifier.html#af6bd06d2b82c85a07a6e98867fb70cd1">rsvp</a> = rsvpAccess.<a class="code" href="class_module_access.html#a44956ddb52973612afbba0eeecf8bb66">get</a>();

    <a class="code" href="class_simple_classifier.html#a5a24e2be606223f1b4f7c8575d612375">readTableFromXML</a>(par(<span class="stringliteral">&quot;conf&quot;</span>).xmlValue());

    WATCH_VECTOR(<a class="code" href="class_simple_classifier.html#a18803de5a7a88ef8d06e4811b5734956">bindings</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a06b4668153f537bc02defabea2455639"></a><!-- doxytag: member="SimpleClassifier::lookupLabel" ref="a06b4668153f537bc02defabea2455639" args="(IPDatagram *ipdatagram, LabelOpVector &amp;outLabel, std::string &amp;outInterface, int &amp;color)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_simple_classifier.html#a06b4668153f537bc02defabea2455639">SimpleClassifier::lookupLabel</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_i_p_datagram.html">IPDatagram</a> *&#160;</td>
          <td class="paramname"><em>ipdatagram</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_l_i_b_table_8h.html#a40d505abe4d03bca1c9776ebb1a874e5">LabelOpVector</a> &amp;&#160;</td>
          <td class="paramname"><em>outLabel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>outInterface</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>color</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The ipdatagram argument is an input parameter, the rest (outLabel, outInterface, color) are output parameters only.</p>
<p>In subclasses, this function should be implemented to determine the forwarding equivalence class for the <a class="el" href="class_i_p.html">IP</a> datagram passed, and map it to an outLabel and outInterface.</p>
<p>The color parameter (which can be set to an arbitrary value) will only be used for the NAM trace if one will be recorded. </p>

<p>Implements <a class="el" href="class_i_classifier.html#aba6e1b589f1c6a6416a6118001b33e31">IClassifier</a>.</p>

<p>Definition at line <a class="el" href="_simple_classifier_8cc_source.html#l00055">55</a> of file <a class="el" href="_simple_classifier_8cc_source.html">SimpleClassifier.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// never label OSPF(TED) and RSVP traffic</span>

    <span class="keywordflow">switch</span>(ipdatagram-&gt;<a class="code" href="class_i_p_datagram.html#acbe285538d27d18ab788c63399e81947">getTransportProtocol</a>())
    {
        <span class="keywordflow">case</span> <a class="code" href="_i_p_protocol_id__m_8h.html#a4297c2f400ba53cf6866e6d45bc81b70a286260df5de676497bee26c4c6ea7f1e">IP_PROT_OSPF</a>:
        <span class="keywordflow">case</span> <a class="code" href="_i_p_protocol_id__m_8h.html#a4297c2f400ba53cf6866e6d45bc81b70a8f7b8dd704fec55906379821c2814f46">IP_PROT_RSVP</a>:
            <span class="keywordflow">return</span> <span class="keyword">false</span>;

        <span class="keywordflow">default</span>:
            ;
    }

    <span class="comment">// forwarding decision for non-labeled datagrams</span>

    std::vector&lt;FECEntry&gt;::iterator it;
    <span class="keywordflow">for</span> (it = <a class="code" href="class_simple_classifier.html#a18803de5a7a88ef8d06e4811b5734956">bindings</a>.begin(); it != <a class="code" href="class_simple_classifier.html#a18803de5a7a88ef8d06e4811b5734956">bindings</a>.end(); it++)
    {
        <span class="keywordflow">if</span> (!it-&gt;dest.isUnspecified() &amp;&amp; !it-&gt;dest.equals(ipdatagram-&gt;<a class="code" href="class_i_p_datagram.html#afe5a14d5aefc5cc9e0ffeedb31a62d1c">getDestAddress</a>()))
            <span class="keywordflow">continue</span>;

        <span class="keywordflow">if</span> (!it-&gt;src.isUnspecified() &amp;&amp; !it-&gt;src.equals(ipdatagram-&gt;<a class="code" href="class_i_p_datagram.html#ab024d29cffd3dbb1ba4d34fe64794cdd">getSrcAddress</a>()))
            <span class="keywordflow">continue</span>;

        <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;packet belongs to fecid=&quot;</span> &lt;&lt; it-&gt;id &lt;&lt; endl;

        <span class="keywordflow">if</span> (it-&gt;inLabel &lt; 0)
            <span class="keywordflow">return</span> <span class="keyword">false</span>;

        <span class="keywordflow">return</span> <a class="code" href="class_simple_classifier.html#a742a51717e1578d5f133e877326d9d44">lt</a>-&gt;<a class="code" href="class_l_i_b_table.html#acb0eeffccd645fbd9e0d104fa1f45a41">resolveLabel</a>(<span class="stringliteral">&quot;&quot;</span>, it-&gt;inLabel, outLabel, outInterface, color);
    }

    <span class="keywordflow">return</span> <span class="keyword">false</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1eafd742086abed4ee80f23354e297dc"></a><!-- doxytag: member="SimpleClassifier::numInitStages" ref="a1eafd742086abed4ee80f23354e297dc" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int <a class="el" href="class_simple_classifier.html#a1eafd742086abed4ee80f23354e297dc">SimpleClassifier::numInitStages</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_simple_classifier_8h_source.html#l00063">63</a> of file <a class="el" href="_simple_classifier_8h_source.html">SimpleClassifier.h</a>.</p>
<div class="fragment"><pre class="fragment">{<span class="keywordflow">return</span> 5;}
</pre></div>
</div>
</div>
<a class="anchor" id="ad7fc19a7f0da79e1e2977c4f4c7bc4ef"></a><!-- doxytag: member="SimpleClassifier::processCommand" ref="ad7fc19a7f0da79e1e2977c4f4c7bc4ef" args="(const cXMLElement &amp;node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_simple_classifier.html#ad7fc19a7f0da79e1e2977c4f4c7bc4ef">SimpleClassifier::processCommand</a> </td>
          <td>(</td>
          <td class="paramtype">const cXMLElement &amp;&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called by <a class="el" href="class_scenario_manager.html">ScenarioManager</a> whenever a script command needs to be carried out by the module.</p>
<p>The command is represented by the XML element or element tree. The command name can be obtained as:</p>
<pre>
 const char *command = node-&gt;getTagName()
 </pre><p>Parameters are XML attributes, e.g. a "neighbour" parameter can be retrieved as:</p>
<pre>
 const char *attr = node-&gt;getAttribute("neighbour")
 </pre><p>More complex input can be passed in child elements.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>cXMLElement </dd></dl>

<p>Implements <a class="el" href="class_i_scriptable.html#a8bb88a1ef72797e9e9c9f30f72f9dafe">IScriptable</a>.</p>

<p>Definition at line <a class="el" href="_simple_classifier_8cc_source.html#l00110">110</a> of file <a class="el" href="_simple_classifier_8cc_source.html">SimpleClassifier.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!strcmp(node.getTagName(), <span class="stringliteral">&quot;bind-fec&quot;</span>))
    {
        <a class="code" href="class_simple_classifier.html#a56186b812abd918d7355d5d6dd26aba0">readItemFromXML</a>(&amp;node);
    }
    <span class="keywordflow">else</span>
        ASSERT(<span class="keyword">false</span>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a56186b812abd918d7355d5d6dd26aba0"></a><!-- doxytag: member="SimpleClassifier::readItemFromXML" ref="a56186b812abd918d7355d5d6dd26aba0" args="(const cXMLElement *fec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_simple_classifier.html#a56186b812abd918d7355d5d6dd26aba0">SimpleClassifier::readItemFromXML</a> </td>
          <td>(</td>
          <td class="paramtype">const cXMLElement *&#160;</td>
          <td class="paramname"><em>fec</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_simple_classifier_8cc_source.html#l00133">133</a> of file <a class="el" href="_simple_classifier_8cc_source.html">SimpleClassifier.cc</a>.</p>

<p>Referenced by <a class="el" href="_simple_classifier_8cc_source.html#l00110">processCommand()</a>, and <a class="el" href="_simple_classifier_8cc_source.html#l00123">readTableFromXML()</a>.</p>
<div class="fragment"><pre class="fragment">{
    ASSERT(fec);
    ASSERT(!strcmp(fec-&gt;getTagName(), <span class="stringliteral">&quot;fecentry&quot;</span>) || !strcmp(fec-&gt;getTagName(), <span class="stringliteral">&quot;bind-fec&quot;</span>));

    <span class="keywordtype">int</span> fecid = <a class="code" href="_x_m_l_utils_8cc.html#a904310d712761c82c65e7975800e817b">getParameterIntValue</a>(fec, <span class="stringliteral">&quot;id&quot;</span>);

    std::vector&lt;FECEntry&gt;::iterator it = <a class="code" href="class_simple_classifier.html#a02f5c62ed7a909b5ac56205e6b14aa6a">findFEC</a>(fecid);

    <span class="keywordflow">if</span> (<a class="code" href="_x_m_l_utils_8cc.html#a354dec476d4b54e6a7d45e7c02dfdab3">getUniqueChildIfExists</a>(fec, <span class="stringliteral">&quot;label&quot;</span>))
    {
        <span class="comment">// bind-fec to label</span>
        <a class="code" href="_x_m_l_utils_8cc.html#a10d193d56ab9828e48d984d940cc30c0">checkTags</a>(fec, <span class="stringliteral">&quot;id label destination source&quot;</span>);

        <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;binding to a given label&quot;</span> &lt;&lt; endl;

        FECEntry newFec;

        newFec.id = fecid;
        newFec.dest = <a class="code" href="_x_m_l_utils_8cc.html#abc530a666bb91e5d1305f0d0fc5525c7">getParameterIPAddressValue</a>(fec, <span class="stringliteral">&quot;destination&quot;</span>);
        newFec.src = <a class="code" href="_x_m_l_utils_8cc.html#abc530a666bb91e5d1305f0d0fc5525c7">getParameterIPAddressValue</a>(fec, <span class="stringliteral">&quot;source&quot;</span>, <a class="code" href="class_i_p_address.html">IPAddress</a>());

        newFec.inLabel = <a class="code" href="_x_m_l_utils_8cc.html#a904310d712761c82c65e7975800e817b">getParameterIntValue</a>(fec, <span class="stringliteral">&quot;label&quot;</span>);

        <span class="keywordflow">if</span> (it == <a class="code" href="class_simple_classifier.html#a18803de5a7a88ef8d06e4811b5734956">bindings</a>.end())
        {
            <span class="comment">// create new binding</span>
            <a class="code" href="class_simple_classifier.html#a18803de5a7a88ef8d06e4811b5734956">bindings</a>.push_back(newFec);
        }
        <span class="keywordflow">else</span>
        {
            <span class="comment">// update existing binding</span>
            *it = newFec;
        }
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="_x_m_l_utils_8cc.html#a354dec476d4b54e6a7d45e7c02dfdab3">getUniqueChildIfExists</a>(fec, <span class="stringliteral">&quot;lspid&quot;</span>))
    {
        <span class="comment">// bind-fec to LSP</span>
        <a class="code" href="_x_m_l_utils_8cc.html#a10d193d56ab9828e48d984d940cc30c0">checkTags</a>(fec, <span class="stringliteral">&quot;id destination source tunnel_id extended_tunnel_id endpoint lspid&quot;</span>);

        <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;binding to a given path&quot;</span> &lt;&lt; endl;

        FECEntry newFec;

        newFec.id = fecid;
        newFec.dest = <a class="code" href="_x_m_l_utils_8cc.html#abc530a666bb91e5d1305f0d0fc5525c7">getParameterIPAddressValue</a>(fec, <span class="stringliteral">&quot;destination&quot;</span>);
        newFec.src = <a class="code" href="_x_m_l_utils_8cc.html#abc530a666bb91e5d1305f0d0fc5525c7">getParameterIPAddressValue</a>(fec, <span class="stringliteral">&quot;source&quot;</span>, <a class="code" href="class_i_p_address.html">IPAddress</a>());

        newFec.session.Tunnel_Id = <a class="code" href="_x_m_l_utils_8cc.html#a904310d712761c82c65e7975800e817b">getParameterIntValue</a>(fec, <span class="stringliteral">&quot;tunnel_id&quot;</span>);
        newFec.session.Extended_Tunnel_Id = <a class="code" href="_x_m_l_utils_8cc.html#abc530a666bb91e5d1305f0d0fc5525c7">getParameterIPAddressValue</a>(fec, <span class="stringliteral">&quot;extened_tunnel_id&quot;</span>, <a class="code" href="class_simple_classifier.html#aed95b913088b5824553817a65c281ab3">routerId</a>).<a class="code" href="class_i_p_address.html#a807ca46964a8403cf0c70f0772179524">getInt</a>();
        newFec.session.DestAddress = <a class="code" href="_x_m_l_utils_8cc.html#abc530a666bb91e5d1305f0d0fc5525c7">getParameterIPAddressValue</a>(fec, <span class="stringliteral">&quot;endpoint&quot;</span>, newFec.dest); <span class="comment">// ??? always use newFec.dest ???</span>

        newFec.sender.Lsp_Id = <a class="code" href="_x_m_l_utils_8cc.html#a904310d712761c82c65e7975800e817b">getParameterIntValue</a>(fec, <span class="stringliteral">&quot;lspid&quot;</span>);
        newFec.sender.SrcAddress = <a class="code" href="class_simple_classifier.html#aed95b913088b5824553817a65c281ab3">routerId</a>;

        newFec.inLabel = <a class="code" href="class_simple_classifier.html#af6bd06d2b82c85a07a6e98867fb70cd1">rsvp</a>-&gt;<a class="code" href="class_r_s_v_p.html#a09621c3f70738316d5cc1380ed54212b">getInLabel</a>(newFec.session, newFec.sender);

        <span class="keywordflow">if</span> (it == <a class="code" href="class_simple_classifier.html#a18803de5a7a88ef8d06e4811b5734956">bindings</a>.end())
        {
            <span class="comment">// create new binding</span>
            <a class="code" href="class_simple_classifier.html#a18803de5a7a88ef8d06e4811b5734956">bindings</a>.push_back(newFec);
        }
        <span class="keywordflow">else</span>
        {
            <span class="comment">// update existing binding</span>
            *it = newFec;
        }
    }
    <span class="keywordflow">else</span>
    {
        <span class="comment">// un-bind</span>
        <a class="code" href="_x_m_l_utils_8cc.html#a10d193d56ab9828e48d984d940cc30c0">checkTags</a>(fec, <span class="stringliteral">&quot;id&quot;</span>);

        <span class="keywordflow">if</span> (it != <a class="code" href="class_simple_classifier.html#a18803de5a7a88ef8d06e4811b5734956">bindings</a>.end())
        {
            <a class="code" href="class_simple_classifier.html#a18803de5a7a88ef8d06e4811b5734956">bindings</a>.erase(it);
        }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5a24e2be606223f1b4f7c8575d612375"></a><!-- doxytag: member="SimpleClassifier::readTableFromXML" ref="a5a24e2be606223f1b4f7c8575d612375" args="(const cXMLElement *fectable)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_simple_classifier.html#a5a24e2be606223f1b4f7c8575d612375">SimpleClassifier::readTableFromXML</a> </td>
          <td>(</td>
          <td class="paramtype">const cXMLElement *&#160;</td>
          <td class="paramname"><em>fectable</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_simple_classifier_8cc_source.html#l00123">123</a> of file <a class="el" href="_simple_classifier_8cc_source.html">SimpleClassifier.cc</a>.</p>

<p>Referenced by <a class="el" href="_simple_classifier_8cc_source.html#l00025">initialize()</a>.</p>
<div class="fragment"><pre class="fragment">{
    ASSERT(fectable);
    ASSERT(!strcmp(fectable-&gt;getTagName(), <span class="stringliteral">&quot;fectable&quot;</span>));
    <a class="code" href="_x_m_l_utils_8cc.html#a10d193d56ab9828e48d984d940cc30c0">checkTags</a>(fectable, <span class="stringliteral">&quot;fecentry&quot;</span>);
    cXMLElementList list = fectable-&gt;getChildrenByTagName(<span class="stringliteral">&quot;fecentry&quot;</span>);
    <span class="keywordflow">for</span> (cXMLElementList::iterator it=list.begin(); it != list.end(); it++)
        <a class="code" href="class_simple_classifier.html#a56186b812abd918d7355d5d6dd26aba0">readItemFromXML</a>(*it);
}
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a18803de5a7a88ef8d06e4811b5734956"></a><!-- doxytag: member="SimpleClassifier::bindings" ref="a18803de5a7a88ef8d06e4811b5734956" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="struct_simple_classifier_1_1_f_e_c_entry.html">FECEntry</a>&gt; <a class="el" href="class_simple_classifier.html#a18803de5a7a88ef8d06e4811b5734956">SimpleClassifier::bindings</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_simple_classifier_8h_source.html#l00054">54</a> of file <a class="el" href="_simple_classifier_8h_source.html">SimpleClassifier.h</a>.</p>

<p>Referenced by <a class="el" href="_simple_classifier_8cc_source.html#l00093">bind()</a>, <a class="el" href="_simple_classifier_8cc_source.html#l00213">findFEC()</a>, <a class="el" href="_simple_classifier_8cc_source.html#l00025">initialize()</a>, <a class="el" href="_simple_classifier_8cc_source.html#l00055">lookupLabel()</a>, and <a class="el" href="_simple_classifier_8cc_source.html#l00133">readItemFromXML()</a>.</p>

</div>
</div>
<a class="anchor" id="a742a51717e1578d5f133e877326d9d44"></a><!-- doxytag: member="SimpleClassifier::lt" ref="a742a51717e1578d5f133e877326d9d44" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_l_i_b_table.html">LIBTable</a>* <a class="el" href="class_simple_classifier.html#a742a51717e1578d5f133e877326d9d44">SimpleClassifier::lt</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_simple_classifier_8h_source.html#l00055">55</a> of file <a class="el" href="_simple_classifier_8h_source.html">SimpleClassifier.h</a>.</p>

<p>Referenced by <a class="el" href="_simple_classifier_8cc_source.html#l00025">initialize()</a>, and <a class="el" href="_simple_classifier_8cc_source.html#l00055">lookupLabel()</a>.</p>

</div>
</div>
<a class="anchor" id="a36263a04fe1d139c3ddeb08763f7db08"></a><!-- doxytag: member="SimpleClassifier::maxLabel" ref="a36263a04fe1d139c3ddeb08763f7db08" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_simple_classifier.html#a36263a04fe1d139c3ddeb08763f7db08">SimpleClassifier::maxLabel</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_simple_classifier_8h_source.html#l00052">52</a> of file <a class="el" href="_simple_classifier_8h_source.html">SimpleClassifier.h</a>.</p>

<p>Referenced by <a class="el" href="_simple_classifier_8cc_source.html#l00025">initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="aed95b913088b5824553817a65c281ab3"></a><!-- doxytag: member="SimpleClassifier::routerId" ref="aed95b913088b5824553817a65c281ab3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_p_address.html">IPAddress</a> <a class="el" href="class_simple_classifier.html#aed95b913088b5824553817a65c281ab3">SimpleClassifier::routerId</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_simple_classifier_8h_source.html#l00051">51</a> of file <a class="el" href="_simple_classifier_8h_source.html">SimpleClassifier.h</a>.</p>

<p>Referenced by <a class="el" href="_simple_classifier_8cc_source.html#l00025">initialize()</a>, and <a class="el" href="_simple_classifier_8cc_source.html#l00133">readItemFromXML()</a>.</p>

</div>
</div>
<a class="anchor" id="af6bd06d2b82c85a07a6e98867fb70cd1"></a><!-- doxytag: member="SimpleClassifier::rsvp" ref="af6bd06d2b82c85a07a6e98867fb70cd1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_r_s_v_p.html">RSVP</a>* <a class="el" href="class_simple_classifier.html#af6bd06d2b82c85a07a6e98867fb70cd1">SimpleClassifier::rsvp</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_simple_classifier_8h_source.html#l00056">56</a> of file <a class="el" href="_simple_classifier_8h_source.html">SimpleClassifier.h</a>.</p>

<p>Referenced by <a class="el" href="_simple_classifier_8cc_source.html#l00025">initialize()</a>, and <a class="el" href="_simple_classifier_8cc_source.html#l00133">readItemFromXML()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_simple_classifier_8h_source.html">SimpleClassifier.h</a></li>
<li><a class="el" href="_simple_classifier_8cc_source.html">SimpleClassifier.cc</a></li>
</ul>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="class_simple_classifier.html">SimpleClassifier</a>      </li>

    <li class="footer">Generated on Thu Aug 30 2012 22:56:53 for INET Framework for OMNeT++/OMNEST by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
