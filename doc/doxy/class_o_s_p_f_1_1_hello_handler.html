<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>INET Framework for OMNeT++/OMNEST: OSPF::HelloHandler Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">INET Framework for OMNeT++/OMNEST
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_o_s_p_f_1_1_hello_handler.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">OSPF::HelloHandler Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="OSPF::HelloHandler" --><!-- doxytag: inherits="OSPF::IMessageHandler" -->
<p><code>#include &lt;HelloHandler.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for OSPF::HelloHandler:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_o_s_p_f_1_1_hello_handler.png" usemap="#OSPF::HelloHandler_map" alt=""/>
  <map id="OSPF::HelloHandler_map" name="OSPF::HelloHandler_map">
<area href="class_o_s_p_f_1_1_i_message_handler.html" alt="OSPF::IMessageHandler" shape="rect" coords="0,0,151,24"/>
</map>
 </div></div>

<p><a href="class_o_s_p_f_1_1_hello_handler-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_hello_handler.html#a68abd842d191000fd909a237f274c4b9">HelloHandler</a> (<a class="el" href="class_o_s_p_f_1_1_router.html">Router</a> *containingRouter)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_hello_handler.html#a71a21d430a2cc591824255b394675b1f">processPacket</a> (<a class="el" href="class_o_s_p_f_packet.html">OSPFPacket</a> *packet, <a class="el" href="class_o_s_p_f_1_1_interface.html">Interface</a> *intf, <a class="el" href="class_o_s_p_f_1_1_neighbor.html">Neighbor</a> *unused=<a class="el" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</td></tr>
</table>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a68abd842d191000fd909a237f274c4b9"></a><!-- doxytag: member="OSPF::HelloHandler::HelloHandler" ref="a68abd842d191000fd909a237f274c4b9" args="(Router *containingRouter)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_s_p_f_1_1_hello_handler.html#a68abd842d191000fd909a237f274c4b9">OSPF::HelloHandler::HelloHandler</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_s_p_f_1_1_router.html">OSPF::Router</a> *&#160;</td>
          <td class="paramname"><em>containingRouter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">                                                           :
    <a class="code" href="class_o_s_p_f_1_1_i_message_handler.html#afa003e6c747b4a1961dede68915231ee">OSPF::IMessageHandler</a>(containingRouter)
{
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a71a21d430a2cc591824255b394675b1f"></a><!-- doxytag: member="OSPF::HelloHandler::processPacket" ref="a71a21d430a2cc591824255b394675b1f" args="(OSPFPacket *packet, Interface *intf, Neighbor *unused=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_o_s_p_f_1_1_hello_handler.html#a71a21d430a2cc591824255b394675b1f">OSPF::HelloHandler::processPacket</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_s_p_f_packet.html">OSPFPacket</a> *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_o_s_p_f_1_1_interface.html">OSPF::Interface</a> *&#160;</td>
          <td class="paramname"><em>intf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_o_s_p_f_1_1_neighbor.html">OSPF::Neighbor</a> *&#160;</td>
          <td class="paramname"><em>unused</em> = <code><a class="el" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implements <a class="el" href="class_o_s_p_f_1_1_i_message_handler.html#a12324915dcb49ccc22e87a3e489d869c">OSPF::IMessageHandler</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_o_s_p_f_hello_packet.html" title="Class generated from networklayer/ospfv2/OSPFPacket.msg by opp_msgc.">OSPFHelloPacket</a>* helloPacket = check_and_cast&lt;<a class="code" href="class_o_s_p_f_hello_packet.html" title="Class generated from networklayer/ospfv2/OSPFPacket.msg by opp_msgc.">OSPFHelloPacket</a>*&gt; (packet);
    <span class="keywordtype">bool</span> shouldRebuildRoutingTable = <span class="keyword">false</span>;

    <span class="comment">/* The values of the Network Mask, HelloInterval,</span>
<span class="comment">       and RouterDeadInterval fields in the received Hello packet must</span>
<span class="comment">       be checked against the values configured for the receiving</span>
<span class="comment">       interface.  Any mismatch causes processing to stop and the</span>
<span class="comment">       packet to be dropped.</span>
<span class="comment">     */</span>
    <span class="keywordflow">if</span> ((intf-&gt;<a class="code" href="class_o_s_p_f_1_1_interface.html#a418bc6eef24a4321a4bc8f6e856803ef">getHelloInterval</a>() == helloPacket-&gt;<a class="code" href="class_o_s_p_f_hello_packet.html#a34cbf2d90eab0c4518af13d2b3e22f58">getHelloInterval</a>()) &amp;&amp;
        (intf-&gt;<a class="code" href="class_o_s_p_f_1_1_interface.html#a96392642a909c7206223e194b5a87945">getRouterDeadInterval</a>() == helloPacket-&gt;<a class="code" href="class_o_s_p_f_hello_packet.html#a543ae717d442d3415e9b94f52300e2e4">getRouterDeadInterval</a>()))
    {
        <a class="code" href="class_o_s_p_f_1_1_interface.html#a558b3988a38b079460b57f092eacf4ac">OSPF::Interface::OSPFInterfaceType</a> interfaceType = intf-&gt;<a class="code" href="class_o_s_p_f_1_1_interface.html#a29189950efe0c6411fb5181175d57310">getType</a>();
        <span class="comment">/* There is one exception to the above rule: on point-to-point</span>
<span class="comment">           networks and on virtual links, the Network Mask in the received</span>
<span class="comment">           Hello Packet should be ignored.</span>
<span class="comment">         */</span>
        <span class="keywordflow">if</span> (!((interfaceType != <a class="code" href="class_o_s_p_f_1_1_interface.html#a558b3988a38b079460b57f092eacf4acaa57573e6fff63738e0f342ee1d5d760f">OSPF::Interface::POINTTOPOINT</a>) &amp;&amp;
              (interfaceType != <a class="code" href="class_o_s_p_f_1_1_interface.html#a558b3988a38b079460b57f092eacf4aca5ea9dce97089a750f8ad3c1ec49fa389">OSPF::Interface::VIRTUAL</a>) &amp;&amp;
              (intf-&gt;<a class="code" href="class_o_s_p_f_1_1_interface.html#a19ed3a9f8223ee7339bf3cef15c16b61">getAddressRange</a>().<a class="code" href="struct_o_s_p_f_1_1_i_pv4_address_range.html#a452878c3f507f27d1de9c5b7cda2ae70">mask</a> != helloPacket-&gt;<a class="code" href="class_o_s_p_f_hello_packet.html#ae4e26d8acf218bd20f8d7528ca560999">getNetworkMask</a>())
             )
           )
        {
            <span class="comment">/* The setting of the E-bit found in the Hello Packet&#39;s Options field must match this area&#39;s</span>
<span class="comment">               ExternalRoutingCapability.</span>
<span class="comment">             */</span>
            <span class="keywordflow">if</span> (intf-&gt;<a class="code" href="class_o_s_p_f_1_1_interface.html#a42decc255df2e2adb5619f0d1cd52bc0">getArea</a>()-&gt;<a class="code" href="class_o_s_p_f_1_1_area.html#a9cc104b841d5013f399a8228953b2c7a">getExternalRoutingCapability</a>() == helloPacket-&gt;<a class="code" href="class_o_s_p_f_hello_packet.html#a109c71f09bef47b79002c969872769de">getOptions</a>().<a class="code" href="struct_o_s_p_f_options.html#ae52711a2db18ba8c2c34ffbb9ac162e9">E_ExternalRoutingCapability</a>) {
                <a class="code" href="class_i_pv4_control_info.html" title="Control information for sending/receiving packets over IPv4.">IPv4ControlInfo</a>* controlInfo = check_and_cast&lt;<a class="code" href="class_i_pv4_control_info.html" title="Control information for sending/receiving packets over IPv4.">IPv4ControlInfo</a> *&gt; (helloPacket-&gt;getControlInfo());
                <a class="code" href="class_i_pv4_address.html" title="IPv4 address.">IPv4Address</a> srcAddress = controlInfo-&gt;<a class="code" href="class_i_pv4_control_info___base.html#aebb0c14b75707e7678b4871934b56ee7">getSrcAddr</a>();
                <span class="keywordtype">bool</span> neighborChanged = <span class="keyword">false</span>;
                <span class="keywordtype">bool</span> neighborsDRStateChanged = <span class="keyword">false</span>;
                <span class="keywordtype">bool</span> drChanged = <span class="keyword">false</span>;
                <span class="keywordtype">bool</span> backupSeen = <span class="keyword">false</span>;
                <a class="code" href="class_o_s_p_f_1_1_neighbor.html">OSPF::Neighbor</a>* <a class="code" href="structneighbor.html">neighbor</a>;

                <span class="comment">/* If the receiving interface connects to a broadcast, Point-to-</span>
<span class="comment">                   MultiPoint or NBMA network the source is identified by the IP</span>
<span class="comment">                   source address found in the Hello&#39;s IP header.</span>
<span class="comment">                 */</span>
                <span class="keywordflow">if</span> ((interfaceType == <a class="code" href="class_o_s_p_f_1_1_interface.html#a558b3988a38b079460b57f092eacf4aca237bd0e7c65b27bf1d75ddeccf7f67f9">OSPF::Interface::BROADCAST</a>) ||
                    (interfaceType == <a class="code" href="class_o_s_p_f_1_1_interface.html#a558b3988a38b079460b57f092eacf4aca048ea4668fa4b417298ee23a29475233">OSPF::Interface::POINTTOMULTIPOINT</a>) ||
                    (interfaceType == <a class="code" href="class_o_s_p_f_1_1_interface.html#a558b3988a38b079460b57f092eacf4acae26d6f3ee5ee0f7c1ed2f2196c1dfe07">OSPF::Interface::NBMA</a>))
                {
                    neighbor = intf-&gt;<a class="code" href="class_o_s_p_f_1_1_interface.html#ad1216e7f6c1322fd24156d213c802454">getNeighborByAddress</a>(srcAddress);
                } <span class="keywordflow">else</span> {
                    <span class="comment">/* If the receiving interface connects to a point-to-point link or a virtual link,</span>
<span class="comment">                       the source is identified by the Router ID found in the Hello&#39;s OSPF packet header.</span>
<span class="comment">                     */</span>
                    neighbor = intf-&gt;<a class="code" href="class_o_s_p_f_1_1_interface.html#acd40d239f80a1de8986f3bc54729be75">getNeighborByID</a>(helloPacket-&gt;<a class="code" href="class_o_s_p_f_packet.html#a44fc6e992bdf09d9e77dc180b7265b93">getRouterID</a>());
                }

                <span class="keywordflow">if</span> (neighbor != <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
                    <a class="code" href="class_o_s_p_f_1_1_i_message_handler.html#a24cb6c6f9b62a4e403d5171a0d36f22a">router</a>-&gt;<a class="code" href="class_o_s_p_f_1_1_router.html#a0142a9cc0f45692f0af116de386f9d6b">getMessageHandler</a>()-&gt;<a class="code" href="class_o_s_p_f_1_1_message_handler.html#acb75420d7cb059d453368401786b053a">printEvent</a>(<span class="stringliteral">&quot;Hello packet received&quot;</span>, intf, neighbor);

                    <a class="code" href="class_i_pv4_address.html" title="IPv4 address.">IPv4Address</a> designatedAddress = neighbor-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#a4c01d848a5c55edaa4bfb56831bc30f2">getDesignatedRouter</a>().<a class="code" href="struct_o_s_p_f_1_1_designated_router_i_d.html#a3e44bfb89c52a2179bfe69cbd73fc30e">ipInterfaceAddress</a>;
                    <a class="code" href="class_i_pv4_address.html" title="IPv4 address.">IPv4Address</a> backupAddress = neighbor-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#a2a7f945525d41fe20b4e7e75363ed552">getBackupDesignatedRouter</a>().<a class="code" href="struct_o_s_p_f_1_1_designated_router_i_d.html#a3e44bfb89c52a2179bfe69cbd73fc30e">ipInterfaceAddress</a>;
                    <span class="keywordtype">char</span> newPriority = helloPacket-&gt;<a class="code" href="class_o_s_p_f_hello_packet.html#a274f7593284e8c64071368b31bf13eb8">getRouterPriority</a>();
                    <a class="code" href="class_i_pv4_address.html" title="IPv4 address.">IPv4Address</a> source = controlInfo-&gt;<a class="code" href="class_i_pv4_control_info___base.html#aebb0c14b75707e7678b4871934b56ee7">getSrcAddr</a>();
                    <a class="code" href="class_i_pv4_address.html" title="IPv4 address.">IPv4Address</a> newDesignatedRouter = helloPacket-&gt;<a class="code" href="class_o_s_p_f_hello_packet.html#a735575a538c945090dfb70681de64697">getDesignatedRouter</a>();
                    <a class="code" href="class_i_pv4_address.html" title="IPv4 address.">IPv4Address</a> newBackupRouter = helloPacket-&gt;<a class="code" href="class_o_s_p_f_hello_packet.html#a0f25f2531bdc6f6e07a0f7120f01828d">getBackupDesignatedRouter</a>();
                    <a class="code" href="struct_o_s_p_f_1_1_designated_router_i_d.html">OSPF::DesignatedRouterID</a> dRouterID;

                    <span class="keywordflow">if</span> ((interfaceType == <a class="code" href="class_o_s_p_f_1_1_interface.html#a558b3988a38b079460b57f092eacf4aca5ea9dce97089a750f8ad3c1ec49fa389">OSPF::Interface::VIRTUAL</a>) &amp;&amp;
                        (neighbor-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#a8402e724645d205d658bb9d166d99aa6">getState</a>() == <a class="code" href="class_o_s_p_f_1_1_neighbor.html#abe30518a64009a9ae44944c1036a4c0aa6dcb71451128297e8bbde9db501552c2">OSPF::Neighbor::DOWN_STATE</a>))
                    {
                        neighbor-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#af53ea0a4871ade5481b2861146ef3cd9">setPriority</a>(helloPacket-&gt;<a class="code" href="class_o_s_p_f_hello_packet.html#a274f7593284e8c64071368b31bf13eb8">getRouterPriority</a>());
                        neighbor-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#a9798adba38e2b81d779967a4dc1fdd1d">setRouterDeadInterval</a>(helloPacket-&gt;<a class="code" href="class_o_s_p_f_hello_packet.html#a543ae717d442d3415e9b94f52300e2e4">getRouterDeadInterval</a>());
                    }

                    <span class="comment">/* If a change in the neighbor&#39;s Router Priority field</span>
<span class="comment">                       was noted, the receiving interface&#39;s state machine is</span>
<span class="comment">                       scheduled with the event NEIGHBOR_CHANGE.</span>
<span class="comment">                     */</span>
                    <span class="keywordflow">if</span> (neighbor-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#a8f7e17d374d3bc20e79f071e9bc59d28">getPriority</a>() != newPriority) {
                        neighborChanged = <span class="keyword">true</span>;
                    }

                    <span class="comment">/* If the neighbor is both declaring itself to be Designated</span>
<span class="comment">                       Router(Hello Packet&#39;s Designated Router field = Neighbor IP</span>
<span class="comment">                       address) and the Backup Designated Router field in the</span>
<span class="comment">                       packet is equal to 0.0.0.0 and the receiving interface is in</span>
<span class="comment">                       state Waiting, the receiving interface&#39;s state machine is</span>
<span class="comment">                       scheduled with the event BACKUP_SEEN.</span>
<span class="comment">                     */</span>
                    <span class="keywordflow">if</span> ((newDesignatedRouter == source) &amp;&amp;
                        (newBackupRouter == <a class="code" href="namespace_o_s_p_f.html#a978dbeb0f114822d5e85797c3dcd03a4">OSPF::NULL_IPV4ADDRESS</a>) &amp;&amp;
                        (intf-&gt;<a class="code" href="class_o_s_p_f_1_1_interface.html#ad414101ce155a1956a4fe8a22be6d69f">getState</a>() == <a class="code" href="class_o_s_p_f_1_1_interface.html#a68805ad1115c7149d5f8a139437e6249a466fb613028467b9186db98b2a7e958c">OSPF::Interface::WAITING_STATE</a>))
                    {
                        backupSeen = <span class="keyword">true</span>;
                    } <span class="keywordflow">else</span> {
                        <span class="comment">/* Otherwise, if the neighbor is declaring itself to be Designated Router and it</span>
<span class="comment">                           had not previously, or the neighbor is not declaring itself</span>
<span class="comment">                           Designated Router where it had previously, the receiving</span>
<span class="comment">                           interface&#39;s state machine is scheduled with the event</span>
<span class="comment">                           NEIGHBOR_CHANGE.</span>
<span class="comment">                         */</span>
                        <span class="keywordflow">if</span> (((newDesignatedRouter == source) &amp;&amp;
                             (newDesignatedRouter != designatedAddress)) ||
                            ((newDesignatedRouter != source) &amp;&amp;
                             (source == designatedAddress)))
                        {
                            neighborChanged = <span class="keyword">true</span>;
                            neighborsDRStateChanged = <span class="keyword">true</span>;
                        }
                    }

                    <span class="comment">/* If the neighbor is declaring itself to be Backup Designated</span>
<span class="comment">                       Router(Hello Packet&#39;s Backup Designated Router field =</span>
<span class="comment">                       Neighbor IP address) and the receiving interface is in state</span>
<span class="comment">                       Waiting, the receiving interface&#39;s state machine is</span>
<span class="comment">                       scheduled with the event BACKUP_SEEN.</span>
<span class="comment">                     */</span>
                    <span class="keywordflow">if</span> ((newBackupRouter == source) &amp;&amp;
                        (intf-&gt;<a class="code" href="class_o_s_p_f_1_1_interface.html#ad414101ce155a1956a4fe8a22be6d69f">getState</a>() == <a class="code" href="class_o_s_p_f_1_1_interface.html#a68805ad1115c7149d5f8a139437e6249a466fb613028467b9186db98b2a7e958c">OSPF::Interface::WAITING_STATE</a>))
                    {
                        backupSeen = <span class="keyword">true</span>;
                    } <span class="keywordflow">else</span> {
                        <span class="comment">/* Otherwise, if the neighbor is declaring itself to be Backup Designated Router</span>
<span class="comment">                           and it had not previously, or the neighbor is not declaring</span>
<span class="comment">                           itself Backup Designated Router where it had previously, the</span>
<span class="comment">                           receiving interface&#39;s state machine is scheduled with the</span>
<span class="comment">                           event NEIGHBOR_CHANGE.</span>
<span class="comment">                         */</span>
                        <span class="keywordflow">if</span> (((newBackupRouter == source) &amp;&amp;
                             (newBackupRouter != backupAddress)) ||
                            ((newBackupRouter != source) &amp;&amp;
                             (source == backupAddress)))
                        {
                            neighborChanged = <span class="keyword">true</span>;
                        }
                    }

                    neighbor-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#a4dc2e6e989efcc4f36134cf416dc3895">setNeighborID</a>(helloPacket-&gt;<a class="code" href="class_o_s_p_f_packet.html#a44fc6e992bdf09d9e77dc180b7265b93">getRouterID</a>());
                    neighbor-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#af53ea0a4871ade5481b2861146ef3cd9">setPriority</a>(newPriority);
                    neighbor-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#a25f7b5f1a65145419b4dc87e1c3e6044">setAddress</a>(srcAddress);
                    dRouterID.<a class="code" href="struct_o_s_p_f_1_1_designated_router_i_d.html#a7132bdabe0f15493518622d1b9e84f0f">routerID</a> = newDesignatedRouter;
                    dRouterID.<a class="code" href="struct_o_s_p_f_1_1_designated_router_i_d.html#a3e44bfb89c52a2179bfe69cbd73fc30e">ipInterfaceAddress</a> = newDesignatedRouter;
                    <span class="keywordflow">if</span> (newDesignatedRouter != designatedAddress) {
                        designatedAddress = dRouterID.<a class="code" href="struct_o_s_p_f_1_1_designated_router_i_d.html#a3e44bfb89c52a2179bfe69cbd73fc30e">ipInterfaceAddress</a>;
                        drChanged = <span class="keyword">true</span>;
                    }
                    neighbor-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#ad21ac2b6cbfdd6476cc3f8d8c0b90f8a">setDesignatedRouter</a>(dRouterID);
                    dRouterID.<a class="code" href="struct_o_s_p_f_1_1_designated_router_i_d.html#a7132bdabe0f15493518622d1b9e84f0f">routerID</a> = newBackupRouter;
                    dRouterID.<a class="code" href="struct_o_s_p_f_1_1_designated_router_i_d.html#a3e44bfb89c52a2179bfe69cbd73fc30e">ipInterfaceAddress</a> = newBackupRouter;
                    <span class="keywordflow">if</span> (newBackupRouter != backupAddress) {
                        backupAddress = dRouterID.<a class="code" href="struct_o_s_p_f_1_1_designated_router_i_d.html#a3e44bfb89c52a2179bfe69cbd73fc30e">ipInterfaceAddress</a>;
                        drChanged = <span class="keyword">true</span>;
                    }
                    neighbor-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#ae9b53b0c388e870a1d41f7622993c358">setBackupDesignatedRouter</a>(dRouterID);
                    <span class="keywordflow">if</span> (drChanged) {
                        neighbor-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#a1369cd51026370d9f67026cccd527e71">setupDesignatedRouters</a>(<span class="keyword">false</span>);
                    }

                    <span class="comment">/* If the neighbor router&#39;s Designated or Backup Designated Router</span>
<span class="comment">                       has changed it&#39;s necessary to look up the Router IDs belonging to the</span>
<span class="comment">                       new addresses.</span>
<span class="comment">                     */</span>
                    <span class="keywordflow">if</span> (!neighbor-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#a1ae9a6efe6a4024444092479eb0a5421">designatedRoutersAreSetUp</a>()) {
                        <a class="code" href="class_o_s_p_f_1_1_neighbor.html">OSPF::Neighbor</a>* designated = intf-&gt;<a class="code" href="class_o_s_p_f_1_1_interface.html#ad1216e7f6c1322fd24156d213c802454">getNeighborByAddress</a>(designatedAddress);
                        <a class="code" href="class_o_s_p_f_1_1_neighbor.html">OSPF::Neighbor</a>* backup = intf-&gt;<a class="code" href="class_o_s_p_f_1_1_interface.html#ad1216e7f6c1322fd24156d213c802454">getNeighborByAddress</a>(backupAddress);

                        <span class="keywordflow">if</span> (designated != <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
                            dRouterID.<a class="code" href="struct_o_s_p_f_1_1_designated_router_i_d.html#a7132bdabe0f15493518622d1b9e84f0f">routerID</a> = designated-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#a9eb1e9184a0a45fe4c33870faf19e62f">getNeighborID</a>();
                            dRouterID.<a class="code" href="struct_o_s_p_f_1_1_designated_router_i_d.html#a3e44bfb89c52a2179bfe69cbd73fc30e">ipInterfaceAddress</a> = designated-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#a5de77058501383c2655be390494f1b92">getAddress</a>();
                            neighbor-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#ad21ac2b6cbfdd6476cc3f8d8c0b90f8a">setDesignatedRouter</a>(dRouterID);
                        }
                        <span class="keywordflow">if</span> (backup != <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
                            dRouterID.<a class="code" href="struct_o_s_p_f_1_1_designated_router_i_d.html#a7132bdabe0f15493518622d1b9e84f0f">routerID</a> = backup-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#a9eb1e9184a0a45fe4c33870faf19e62f">getNeighborID</a>();
                            dRouterID.<a class="code" href="struct_o_s_p_f_1_1_designated_router_i_d.html#a3e44bfb89c52a2179bfe69cbd73fc30e">ipInterfaceAddress</a> = backup-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#a5de77058501383c2655be390494f1b92">getAddress</a>();
                            neighbor-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#ae9b53b0c388e870a1d41f7622993c358">setBackupDesignatedRouter</a>(dRouterID);
                        }
                        <span class="keywordflow">if</span> ((designated != <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) &amp;&amp; (backup != <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {
                            neighbor-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#a1369cd51026370d9f67026cccd527e71">setupDesignatedRouters</a>(<span class="keyword">true</span>);
                        }
                    }
                } <span class="keywordflow">else</span> {
                    <a class="code" href="struct_o_s_p_f_1_1_designated_router_i_d.html">OSPF::DesignatedRouterID</a> dRouterID;
                    <span class="keywordtype">bool</span> designatedSetUp = <span class="keyword">false</span>;
                    <span class="keywordtype">bool</span> backupSetUp = <span class="keyword">false</span>;

                    neighbor = <span class="keyword">new</span> <a class="code" href="class_o_s_p_f_1_1_neighbor.html">OSPF::Neighbor</a>(helloPacket-&gt;<a class="code" href="class_o_s_p_f_packet.html#a44fc6e992bdf09d9e77dc180b7265b93">getRouterID</a>());
                    neighbor-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#af53ea0a4871ade5481b2861146ef3cd9">setPriority</a>(helloPacket-&gt;<a class="code" href="class_o_s_p_f_hello_packet.html#a274f7593284e8c64071368b31bf13eb8">getRouterPriority</a>());
                    neighbor-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#a25f7b5f1a65145419b4dc87e1c3e6044">setAddress</a>(srcAddress);
                    neighbor-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#a9798adba38e2b81d779967a4dc1fdd1d">setRouterDeadInterval</a>(helloPacket-&gt;<a class="code" href="class_o_s_p_f_hello_packet.html#a543ae717d442d3415e9b94f52300e2e4">getRouterDeadInterval</a>());

                    <a class="code" href="class_o_s_p_f_1_1_i_message_handler.html#a24cb6c6f9b62a4e403d5171a0d36f22a">router</a>-&gt;<a class="code" href="class_o_s_p_f_1_1_router.html#a0142a9cc0f45692f0af116de386f9d6b">getMessageHandler</a>()-&gt;<a class="code" href="class_o_s_p_f_1_1_message_handler.html#acb75420d7cb059d453368401786b053a">printEvent</a>(<span class="stringliteral">&quot;Hello packet received&quot;</span>, intf, neighbor);

                    dRouterID.<a class="code" href="struct_o_s_p_f_1_1_designated_router_i_d.html#a7132bdabe0f15493518622d1b9e84f0f">routerID</a> = helloPacket-&gt;<a class="code" href="class_o_s_p_f_hello_packet.html#a735575a538c945090dfb70681de64697">getDesignatedRouter</a>();
                    dRouterID.<a class="code" href="struct_o_s_p_f_1_1_designated_router_i_d.html#a3e44bfb89c52a2179bfe69cbd73fc30e">ipInterfaceAddress</a> = dRouterID.<a class="code" href="struct_o_s_p_f_1_1_designated_router_i_d.html#a7132bdabe0f15493518622d1b9e84f0f">routerID</a>;

                    <a class="code" href="class_o_s_p_f_1_1_neighbor.html">OSPF::Neighbor</a>* designated = intf-&gt;<a class="code" href="class_o_s_p_f_1_1_interface.html#ad1216e7f6c1322fd24156d213c802454">getNeighborByAddress</a>(dRouterID.<a class="code" href="struct_o_s_p_f_1_1_designated_router_i_d.html#a3e44bfb89c52a2179bfe69cbd73fc30e">ipInterfaceAddress</a>);

                    <span class="comment">// Get the Designated Router ID from the corresponding Neighbor Object.</span>
                    <span class="keywordflow">if</span> (designated != <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
                        <span class="keywordflow">if</span> (designated-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#a9eb1e9184a0a45fe4c33870faf19e62f">getNeighborID</a>() != dRouterID.<a class="code" href="struct_o_s_p_f_1_1_designated_router_i_d.html#a7132bdabe0f15493518622d1b9e84f0f">routerID</a>) {
                            dRouterID.<a class="code" href="struct_o_s_p_f_1_1_designated_router_i_d.html#a7132bdabe0f15493518622d1b9e84f0f">routerID</a> = designated-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#a9eb1e9184a0a45fe4c33870faf19e62f">getNeighborID</a>();
                        }
                        designatedSetUp = <span class="keyword">true</span>;
                    }
                    neighbor-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#ad21ac2b6cbfdd6476cc3f8d8c0b90f8a">setDesignatedRouter</a>(dRouterID);

                    dRouterID.<a class="code" href="struct_o_s_p_f_1_1_designated_router_i_d.html#a7132bdabe0f15493518622d1b9e84f0f">routerID</a> = helloPacket-&gt;<a class="code" href="class_o_s_p_f_hello_packet.html#a0f25f2531bdc6f6e07a0f7120f01828d">getBackupDesignatedRouter</a>();
                    dRouterID.<a class="code" href="struct_o_s_p_f_1_1_designated_router_i_d.html#a3e44bfb89c52a2179bfe69cbd73fc30e">ipInterfaceAddress</a> = dRouterID.<a class="code" href="struct_o_s_p_f_1_1_designated_router_i_d.html#a7132bdabe0f15493518622d1b9e84f0f">routerID</a>;

                    <a class="code" href="class_o_s_p_f_1_1_neighbor.html">OSPF::Neighbor</a>* backup = intf-&gt;<a class="code" href="class_o_s_p_f_1_1_interface.html#ad1216e7f6c1322fd24156d213c802454">getNeighborByAddress</a>(dRouterID.<a class="code" href="struct_o_s_p_f_1_1_designated_router_i_d.html#a3e44bfb89c52a2179bfe69cbd73fc30e">ipInterfaceAddress</a>);

                    <span class="comment">// Get the Backup Designated Router ID from the corresponding Neighbor Object.</span>
                    <span class="keywordflow">if</span> (backup != <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
                        <span class="keywordflow">if</span> (backup-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#a9eb1e9184a0a45fe4c33870faf19e62f">getNeighborID</a>() != dRouterID.<a class="code" href="struct_o_s_p_f_1_1_designated_router_i_d.html#a7132bdabe0f15493518622d1b9e84f0f">routerID</a>) {
                            dRouterID.<a class="code" href="struct_o_s_p_f_1_1_designated_router_i_d.html#a7132bdabe0f15493518622d1b9e84f0f">routerID</a> = backup-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#a9eb1e9184a0a45fe4c33870faf19e62f">getNeighborID</a>();
                        }
                        backupSetUp = <span class="keyword">true</span>;
                    }
                    neighbor-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#ae9b53b0c388e870a1d41f7622993c358">setBackupDesignatedRouter</a>(dRouterID);
                    <span class="keywordflow">if</span> (designatedSetUp &amp;&amp; backupSetUp) {
                        neighbor-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#a1369cd51026370d9f67026cccd527e71">setupDesignatedRouters</a>(<span class="keyword">true</span>);
                    }
                    intf-&gt;<a class="code" href="class_o_s_p_f_1_1_interface.html#a9b23637a8bdf545da35bfdd620b3106a">addNeighbor</a>(neighbor);
                }

                neighbor-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#a76006db06d34257a1c614a5e9e8fb878">processEvent</a>(<a class="code" href="class_o_s_p_f_1_1_neighbor.html#aa11c941b2bc4a36c36fba1cb453a4172a4dcab58b065438024e751d3530638848">OSPF::Neighbor::HELLO_RECEIVED</a>);
                <span class="keywordflow">if</span> ((interfaceType == <a class="code" href="class_o_s_p_f_1_1_interface.html#a558b3988a38b079460b57f092eacf4acae26d6f3ee5ee0f7c1ed2f2196c1dfe07">OSPF::Interface::NBMA</a>) &amp;&amp;
                    (intf-&gt;<a class="code" href="class_o_s_p_f_1_1_interface.html#a71bdafdfacc097207ad57e038e0cc184">getRouterPriority</a>() == 0) &amp;&amp;
                    (neighbor-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#a8402e724645d205d658bb9d166d99aa6">getState</a>() &gt;= <a class="code" href="class_o_s_p_f_1_1_neighbor.html#abe30518a64009a9ae44944c1036a4c0aae168224692379b7a04852cc7ac474de2">OSPF::Neighbor::INIT_STATE</a>))
                {
                    intf-&gt;<a class="code" href="class_o_s_p_f_1_1_interface.html#a178d166968863f6e8ab41a1011482bd0">sendHelloPacket</a>(neighbor-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#a5de77058501383c2655be390494f1b92">getAddress</a>());
                }

                <a class="code" href="class_i_pv4_address.html" title="IPv4 address.">IPv4Address</a> interfaceAddress = intf-&gt;<a class="code" href="class_o_s_p_f_1_1_interface.html#a19ed3a9f8223ee7339bf3cef15c16b61">getAddressRange</a>().<a class="code" href="struct_o_s_p_f_1_1_i_pv4_address_range.html#a74993d6571119644535ac918c4240722">address</a>;
                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> neighborsNeighborCount = helloPacket-&gt;<a class="code" href="class_o_s_p_f_hello_packet.html#aa06cc67f90255174e436e6595d3a6b22">getNeighborArraySize</a>();
                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;
                <span class="comment">/* The list of neighbors contained in the Hello Packet is</span>
<span class="comment">                   examined.  If the router itself appears in this list, the</span>
<span class="comment">                   neighbor state machine should be executed with the event TWOWAY_RECEIVED.</span>
<span class="comment">                 */</span>
                <span class="keywordflow">for</span> (i = 0; i &lt; neighborsNeighborCount; i++) {
                    <span class="keywordflow">if</span> (helloPacket-&gt;<a class="code" href="class_o_s_p_f_hello_packet.html#a794235758a2a667d61ca0a1d7763a52d">getNeighbor</a>(i) == interfaceAddress) {
                        neighbor-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#a76006db06d34257a1c614a5e9e8fb878">processEvent</a>(<a class="code" href="class_o_s_p_f_1_1_neighbor.html#aa11c941b2bc4a36c36fba1cb453a4172a0e6045407ac75f6527d687ceda6a3dca">OSPF::Neighbor::TWOWAY_RECEIVED</a>);
                        <span class="keywordflow">break</span>;
                    }
                }
                <span class="comment">/* Otherwise, the neighbor state machine should</span>
<span class="comment">                   be executed with the event ONEWAY_RECEIVED, and the processing</span>
<span class="comment">                   of the packet stops.</span>
<span class="comment">                 */</span>
                <span class="keywordflow">if</span> (i == neighborsNeighborCount) {
                    neighbor-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#a76006db06d34257a1c614a5e9e8fb878">processEvent</a>(<a class="code" href="class_o_s_p_f_1_1_neighbor.html#aa11c941b2bc4a36c36fba1cb453a4172ac17807b28b8674a62b9f056e36f1ad8d">OSPF::Neighbor::ONEWAY_RECEIVED</a>);
                }

                <span class="keywordflow">if</span> (neighborChanged) {
                    intf-&gt;<a class="code" href="class_o_s_p_f_1_1_interface.html#a6aa505b94c5dd62793403d02a78a3604">processEvent</a>(<a class="code" href="class_o_s_p_f_1_1_interface.html#ae0aca9ab8ca338c25d9afa6e65fc8824a74f85476a08ea113e7c1c4a8f1b17994">OSPF::Interface::NEIGHBOR_CHANGE</a>);
                    <span class="comment">/* In some cases neighbors get stuck in TwoWay state after a DR</span>
<span class="comment">                       or Backup change. (calculateDesignatedRouter runs before the</span>
<span class="comment">                       neighbors&#39; signal of DR change + this router does not become</span>
<span class="comment">                       neither DR nor backup -&gt; IS_ADJACENCY_OK does not get called.)</span>
<span class="comment">                       So to make it work(workaround) we&#39;ll call IS_ADJACENCY_OK for</span>
<span class="comment">                       all neighbors in TwoWay state from here. This shouldn&#39;t break</span>
<span class="comment">                       anything because if the neighbor state doesn&#39;t have to change</span>
<span class="comment">                       then needAdjacency returns false and nothing happnes in</span>
<span class="comment">                       IS_ADJACENCY_OK.</span>
<span class="comment">                     */</span>
                    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> neighborCount = intf-&gt;<a class="code" href="class_o_s_p_f_1_1_interface.html#a6a90e93cdcb3b46266e37a12b4cbe4fc">getNeighborCount</a>();
                    <span class="keywordflow">for</span> (i = 0; i &lt; neighborCount; i++) {
                        <a class="code" href="class_o_s_p_f_1_1_neighbor.html">OSPF::Neighbor</a>* stuckNeighbor = intf-&gt;<a class="code" href="class_o_s_p_f_1_1_interface.html#aea84966c1b8f7dec168a48131714569b">getNeighbor</a>(i);
                        <span class="keywordflow">if</span> (stuckNeighbor-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#a8402e724645d205d658bb9d166d99aa6">getState</a>() == <a class="code" href="class_o_s_p_f_1_1_neighbor.html#abe30518a64009a9ae44944c1036a4c0aaf5543ef8ca00f37422262f68442867c8">OSPF::Neighbor::TWOWAY_STATE</a>) {
                            stuckNeighbor-&gt;<a class="code" href="class_o_s_p_f_1_1_neighbor.html#a76006db06d34257a1c614a5e9e8fb878">processEvent</a>(<a class="code" href="class_o_s_p_f_1_1_neighbor.html#aa11c941b2bc4a36c36fba1cb453a4172ab7b2ca2341e15042b11d882361e75538">OSPF::Neighbor::IS_ADJACENCY_OK</a>);
                        }
                    }

                    <span class="keywordflow">if</span> (neighborsDRStateChanged) {
                        <a class="code" href="class_o_s_p_f_1_1_router_l_s_a.html">OSPF::RouterLSA</a>* routerLSA = intf-&gt;<a class="code" href="class_o_s_p_f_1_1_interface.html#a42decc255df2e2adb5619f0d1cd52bc0">getArea</a>()-&gt;<a class="code" href="class_o_s_p_f_1_1_area.html#adec82108c63b9b87d47d4ad3ccb0bfb0">findRouterLSA</a>(<a class="code" href="class_o_s_p_f_1_1_i_message_handler.html#a24cb6c6f9b62a4e403d5171a0d36f22a">router</a>-&gt;<a class="code" href="class_o_s_p_f_1_1_router.html#abf4855bc5ad7dfb4a47d1aae3b003751">getRouterID</a>());

                        <span class="keywordflow">if</span> (routerLSA != <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {
                            <span class="keywordtype">long</span> sequenceNumber = routerLSA-&gt;<a class="code" href="class_o_s_p_f_l_s_a.html#a2c9acdc68e5e66deb1826ee41a07b7d1">getHeader</a>().<a class="code" href="class_o_s_p_f_l_s_a_header.html#aa1fa1df57d84e20fef93e765a587ff1c">getLsSequenceNumber</a>();
                            <span class="keywordflow">if</span> (sequenceNumber == <a class="code" href="_o_s_p_fcommon_8h.html#a35f49b34e56993fe20d3a21d144c16d3">MAX_SEQUENCE_NUMBER</a>) {
                                routerLSA-&gt;<a class="code" href="class_o_s_p_f_l_s_a.html#a2c9acdc68e5e66deb1826ee41a07b7d1">getHeader</a>().<a class="code" href="class_o_s_p_f_l_s_a_header.html#a9851dc72d585835bfcffa08412c33f99">setLsAge</a>(<a class="code" href="_o_s_p_fcommon_8h.html#a22c87c874ff5382c5d082b860110e363">MAX_AGE</a>);
                                intf-&gt;<a class="code" href="class_o_s_p_f_1_1_interface.html#a42decc255df2e2adb5619f0d1cd52bc0">getArea</a>()-&gt;<a class="code" href="class_o_s_p_f_1_1_area.html#ad734e45bd64c8095f971c777005f28bb">floodLSA</a>(routerLSA);
                                routerLSA-&gt;<a class="code" href="class_o_s_p_f_1_1_l_s_a_tracking_info.html#a2a9bb2304005f0e95c44dfa3472efe48">incrementInstallTime</a>();
                            } <span class="keywordflow">else</span> {
                                <a class="code" href="class_o_s_p_f_1_1_router_l_s_a.html">OSPF::RouterLSA</a>* newLSA = intf-&gt;<a class="code" href="class_o_s_p_f_1_1_interface.html#a42decc255df2e2adb5619f0d1cd52bc0">getArea</a>()-&gt;<a class="code" href="class_o_s_p_f_1_1_area.html#af1287abae6d4623984fe95892c3dc514">originateRouterLSA</a>();

                                newLSA-&gt;<a class="code" href="class_o_s_p_f_l_s_a.html#a2c9acdc68e5e66deb1826ee41a07b7d1">getHeader</a>().<a class="code" href="class_o_s_p_f_l_s_a_header.html#ad1dd1ce9ff9b1c59f8638cdbb26b2d57">setLsSequenceNumber</a>(sequenceNumber + 1);
                                shouldRebuildRoutingTable |= routerLSA-&gt;<a class="code" href="class_o_s_p_f_1_1_router_l_s_a.html#a9ccbb9b6cb8f662db04d38e8154f3cf3">update</a>(newLSA);
                                <span class="keyword">delete</span> newLSA;

                                intf-&gt;<a class="code" href="class_o_s_p_f_1_1_interface.html#a42decc255df2e2adb5619f0d1cd52bc0">getArea</a>()-&gt;<a class="code" href="class_o_s_p_f_1_1_area.html#ad734e45bd64c8095f971c777005f28bb">floodLSA</a>(routerLSA);
                            }
                        }
                    }
                }

                <span class="keywordflow">if</span> (backupSeen) {
                    intf-&gt;<a class="code" href="class_o_s_p_f_1_1_interface.html#a6aa505b94c5dd62793403d02a78a3604">processEvent</a>(<a class="code" href="class_o_s_p_f_1_1_interface.html#ae0aca9ab8ca338c25d9afa6e65fc8824a12fa98710ca2411243166bf2d9e4ac92">OSPF::Interface::BACKUP_SEEN</a>);
                }
            }
        }
    }

    <span class="keywordflow">if</span> (shouldRebuildRoutingTable) {
        <a class="code" href="class_o_s_p_f_1_1_i_message_handler.html#a24cb6c6f9b62a4e403d5171a0d36f22a">router</a>-&gt;<a class="code" href="class_o_s_p_f_1_1_router.html#af849f36506ebf49917f4a7f4ebdbcf53" title="Rebuilds the routing table from scratch(based on the LSA database).">rebuildRoutingTable</a>();
    }
}
</pre></div>
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_hello_handler_8h.html">HelloHandler.h</a></li>
<li><a class="el" href="_hello_handler_8cc.html">HelloHandler.cc</a></li>
</ul>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespace_o_s_p_f.html">OSPF</a>      </li>
      <li class="navelem"><a class="el" href="class_o_s_p_f_1_1_hello_handler.html">HelloHandler</a>      </li>

    <li class="footer">Generated on Tue Aug 7 2012 16:01:33 for INET Framework for OMNeT++/OMNEST by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
