<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>INET Framework for OMNeT++/OMNEST: Blackboard Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">INET Framework for OMNeT++/OMNEST
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_blackboard.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle">
<div class="title">Blackboard Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="Blackboard" -->
<p><code>#include &lt;<a class="el" href="_blackboard_8h_source.html">Blackboard.h</a>&gt;</code></p>

<p><a href="class_blackboard-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard_1_1_b_b_item.html">BBItem</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard_1_1iterator.html">iterator</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef std::vector<br class="typebreak"/>
&lt; <a class="el" href="class_blackboard_access.html">BlackboardAccess</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#afcca5874bdc32029cb27de3a8c2c9896">SubscriberVector</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="class_blackboard_1_1_b_b_item.html">BBItem</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#a19ade3a7996ed60a05d70ff039aa4236">BBItemRef</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#a83b8477e21df0582ed1b57527f4631af">Blackboard</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#ad0c7a3c8f1d8074679b178631c262298">~Blackboard</a> ()</td></tr>
<tr><td colspan="2"><div class="groupHeader">Methods for publishers</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_blackboard.html#a19ade3a7996ed60a05d70ff039aa4236">BBItemRef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#a80a003f601b1906516e46e312ba5fe66">publish</a> (const char *label, cPolymorphic *item)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#ad9ea575d3f6de4c0ed797e5050f04271">withdraw</a> (<a class="el" href="class_blackboard.html#a19ade3a7996ed60a05d70ff039aa4236">BBItemRef</a> bbItem)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#ae081479b4a85d4eb9d863dbeb97d3612">changed</a> (<a class="el" href="class_blackboard.html#a19ade3a7996ed60a05d70ff039aa4236">BBItemRef</a> bbItem, cPolymorphic *item=NULL)</td></tr>
<tr><td colspan="2"><div class="groupHeader">Methods for subscribers</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_blackboard.html#a19ade3a7996ed60a05d70ff039aa4236">BBItemRef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#a3476b12db241a8c8e297d22272bf7c18">subscribe</a> (<a class="el" href="class_blackboard_access.html">BlackboardAccess</a> *bbClient, const char *label)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_blackboard.html#a19ade3a7996ed60a05d70ff039aa4236">BBItemRef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#aa120491baa07536fb85326e42878f5e2">find</a> (const char *label)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_blackboard.html#a19ade3a7996ed60a05d70ff039aa4236">BBItemRef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#ab50ce0f0f1b97b268d6be7c1e23d86e6">subscribe</a> (<a class="el" href="class_blackboard_access.html">BlackboardAccess</a> *bbClient, <a class="el" href="class_blackboard.html#a19ade3a7996ed60a05d70ff039aa4236">BBItemRef</a> bbItem)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#a83ae41a4d843dd302ae9763f9790e5c7">unsubscribe</a> (<a class="el" href="class_blackboard_access.html">BlackboardAccess</a> *bbClient, <a class="el" href="class_blackboard.html#a19ade3a7996ed60a05d70ff039aa4236">BBItemRef</a> bbItem)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#a8df76d28beac3e5ae68e60157687914b">registerClient</a> (<a class="el" href="class_blackboard_access.html">BlackboardAccess</a> *bbClient)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#a22f6532f3778e68afc07edad67f4fbf0">removeClient</a> (<a class="el" href="class_blackboard_access.html">BlackboardAccess</a> *bbClient)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#ab88b990f3902c2fa34dac6e76f94adca">getBlackboardContent</a> (<a class="el" href="class_blackboard_access.html">BlackboardAccess</a> *bbClient)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_blackboard_1_1iterator.html">iterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#a2c0820094ae4124a29b3693b8108fe03">begin</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_blackboard_1_1iterator.html">iterator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#a89792300829e387ccfd719bd0276a0c1">end</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; std::string, <br class="typebreak"/>
<a class="el" href="class_blackboard_1_1_b_b_item.html">BBItem</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#a428cddced037c11d65188ba48b808820">ContentsMap</a></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#a14d34ec889dc4debb4fb4968fc2bbcc0">initialize</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#a663ac4a5877cbba804cf22b7e75c6b4a">handleMessage</a> (cMessage *msg)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#a21366b51e0654dd9ff1b87727c93aaee">coreDebug</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set debugging for the basic module.  <a href="#a21366b51e0654dd9ff1b87727c93aaee"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_blackboard.html#a428cddced037c11d65188ba48b808820">ContentsMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">contents</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_blackboard.html#afcca5874bdc32029cb27de3a8c2c9896">SubscriberVector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#a5442b59653bb0eb50127aec2df33088a">registeredClients</a></td></tr>
<tr><td colspan="2"><h2><a name="friends"></a>
Friends</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#a9830fc407400559db7e7783cc10a9394">Iterator</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="class_blackboard.html">Blackboard</a> works as entity to enable inter-layer/inter-process communication.</p>
<p>NOTE: BLACKBOARD IS NO LONGER USED BY THE INET FRAMEWORK -- SUCCESSOR IS <a class="el" href="class_notification_board.html">NotificationBoard</a>.</p>
<p><a class="el" href="class_blackboard.html">Blackboard</a> makes it possible for several modules (representing e.g. protocol layers) to share information, in a publish-subscribe fashion. Participating modules or classes have to implement the <a class="el" href="class_blackboard_access.html">BlackboardAccess</a> interface (=have this abstract class as base class).</p>
<p>Anyone can publish data items on the blackboard. In order to allow for some type safety via dynamic_cast, items have to be subclassed from cPolymorphic.</p>
<p>Every item is published with a unique string label. The <a class="el" href="class_blackboard.html">Blackboard</a> makes no assumption about the format of the label, but it's generally a good idea to make it structured, e.g. with a dotted format ("nic1.linkstatus"). The label can be used by subscribers to identify an item ("I want to subscribe to nic1.linkstatus"). There are other ways to subscribe too, not only by label, e.g. one can browse through all <a class="el" href="class_blackboard.html">Blackboard</a> items, examine each (its label, C++ class, actual contents etc.) and decide individually whether to subscribe to it or not.</p>
<p>Labels are only used when publishing or subscribing to items. After that, items can be referred to using BBItemRefs. (BBItemRefs are sort of "handles" to blackboard items; think of file handles (fd's) or FILE* variables in Unix and C programming, or window handles (HWND) in the Windows API.) BBItemRefs allow very efficient (constant-time) access to <a class="el" href="class_blackboard.html">Blackboard</a> items.</p>
<p>Clients may browse blackboard contents and subscribe to items. After subscription, clients will receive notifications via <a class="el" href="class_blackboard_access.html">BlackboardAccess</a> callbacks whenever the subscribed item changes. Clients may also subscribe to get notified whenever items are published to or withdrawn from the blackboard.</p>
<p>Notifications are done with callback-like mechanism. Participating modules or classes have to subclass from the abstract base class <a class="el" href="class_blackboard_access.html">BlackboardAccess</a> and implement its methods (in Java, one would say clients should implement the <a class="el" href="class_blackboard_access.html">BlackboardAccess</a> interface.) This usually means multiple inheritance, but without the problems of multiple inheritance (Multiple inheritance is sometimes considered "evil", but never if used to do "mixins" as here.)</p>
<p>Some examples for usage. The first one, Foo demonstrates subscribe-by-name, the second one, Bar shows subscribe-when-published, and the third one, Zak does subscribe-by-browse.</p>
<pre>
 // subscribe-by-name
 class Foo : public cSimpleModule, public <a class="el" href="class_blackboard_access.html">BlackboardAccess</a>
 {
   protected:
     BBItemRef ref;
     ...
 };</pre><pre> void Foo::initialize(int stage)
 {
     // to avoid a subscribe-BEFORE-publish a two stage
     // initialization should be used and all publish calls should
     // go into the first stage (stage 0) whereas you should subscribe
     // in the second stage (stage 1)
     if(stage==0)
     {
         ...
     }
     else if(stage==1)
     {
         ref = getBlackboard()-&gt;subscribe(this,"routingTable");
         ...
     }
 }</pre><pre> void Foo::blackboardItemChanged(BBItemRef item)
 {
     if (item==ref)
     {
         <a class="el" href="class_i_routing_table.html">IRoutingTable</a> *rt = check_and_cast&lt;IRoutingTable *&gt;(ref-&gt;getData());
         ...
     }
     else ...
 }</pre><pre> // subscribe-when-published
 class Bar : public cSimpleModule, public <a class="el" href="class_blackboard_access.html">BlackboardAccess</a>
 {
    ...
 };</pre><pre> void Bar::initialize(int stage)
 {
     if(stage==0)
     {
         getBlackboard()-&gt;registerClient(this);
         // make sure we get what's already on the blackboard
         getBlackboard()-&gt;getBlackboardContent(this);
     }
 }</pre><pre> void Bar::blackboardItemPublished(BBItemRef item)
 {
     // if label begins with "nic." and it's a NetworkInterfaceData, subscribe
     if (!strncmp(item-&gt;getLabel(),"nic.",4) &amp;&amp;
         dynamic_cast&lt;NetworkInterfaceData *&gt;(item-&gt;getData()))
     {
         // new network interface appeared, subscribe to it and do whatever
         // other actions are necessary
         getBlackboard()-&gt;subscribe(this, item);
         ...
     }
 }</pre><pre> // subscribe-by-browse
 class Zak : public cSimpleModule, public <a class="el" href="class_blackboard_access.html">BlackboardAccess</a>
 {
    ...
 };</pre><pre> void Zak::letsCheckWhatIsOnTheBlackboard()
 {
     // subscribe to all NetworkInterfaceData
     <a class="el" href="class_blackboard.html">Blackboard</a> *bb = getBlackboard();
     for (<a class="el" href="class_blackboard_1_1iterator.html">Blackboard::iterator</a> i=bb-&gt;<a class="el" href="class_blackboard.html#a2c0820094ae4124a29b3693b8108fe03">begin()</a>; i!=bb-&gt;<a class="el" href="class_blackboard.html#a89792300829e387ccfd719bd0276a0c1">end()</a>; ++i)
         if (dynamic_cast&lt;NetworkInterfaceData *&gt;((*i)-&gt;getData()))
             bb-&gt;subscribe(this, *i);
 }
 </pre><dl class="author"><dt><b>Author:</b></dt><dd>Andras Varga </dd></dl>

<p>Definition at line <a class="el" href="_blackboard_8h_source.html#l00162">162</a> of file <a class="el" href="_blackboard_8h_source.html">Blackboard.h</a>.</p>
</div><hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="a19ade3a7996ed60a05d70ff039aa4236"></a><!-- doxytag: member="Blackboard::BBItemRef" ref="a19ade3a7996ed60a05d70ff039aa4236" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="class_blackboard_1_1_b_b_item.html">BBItem</a>* <a class="el" href="class_blackboard.html#a19ade3a7996ed60a05d70ff039aa4236">Blackboard::BBItemRef</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Handle" to blackboard items. To get the data or the label, write bbref-&gt;getData() and bbref-&gt;getLabel(), respectively. BBItemRefs become stale when the item gets withdrawn (unpublished) from the blackboard. </p>

<p>Definition at line <a class="el" href="_blackboard_8h_source.html#l00206">206</a> of file <a class="el" href="_blackboard_8h_source.html">Blackboard.h</a>.</p>

</div>
</div>
<a class="anchor" id="a428cddced037c11d65188ba48b808820"></a><!-- doxytag: member="Blackboard::ContentsMap" ref="a428cddced037c11d65188ba48b808820" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;std::string, <a class="el" href="class_blackboard_1_1_b_b_item.html">BBItem</a>*&gt; <a class="el" href="class_blackboard.html#a428cddced037c11d65188ba48b808820">Blackboard::ContentsMap</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_blackboard_8h_source.html#l00194">194</a> of file <a class="el" href="_blackboard_8h_source.html">Blackboard.h</a>.</p>

</div>
</div>
<a class="anchor" id="afcca5874bdc32029cb27de3a8c2c9896"></a><!-- doxytag: member="Blackboard::SubscriberVector" ref="afcca5874bdc32029cb27de3a8c2c9896" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt;<a class="el" href="class_blackboard_access.html">BlackboardAccess</a> *&gt; <a class="el" href="class_blackboard.html#afcca5874bdc32029cb27de3a8c2c9896">Blackboard::SubscriberVector</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_blackboard_8h_source.html#l00165">165</a> of file <a class="el" href="_blackboard_8h_source.html">Blackboard.h</a>.</p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a83b8477e21df0582ed1b57527f4631af"></a><!-- doxytag: member="Blackboard::Blackboard" ref="a83b8477e21df0582ed1b57527f4631af" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_blackboard.html#a83b8477e21df0582ed1b57527f4631af">Blackboard::Blackboard</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_blackboard_8cc_source.html#l00035">35</a> of file <a class="el" href="_blackboard_8cc_source.html">Blackboard.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad0c7a3c8f1d8074679b178631c262298"></a><!-- doxytag: member="Blackboard::~Blackboard" ref="ad0c7a3c8f1d8074679b178631c262298" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_blackboard.html#ad0c7a3c8f1d8074679b178631c262298">Blackboard::~Blackboard</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_blackboard_8cc_source.html#l00039">39</a> of file <a class="el" href="_blackboard_8cc_source.html">Blackboard.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">while</span> (!<a class="code" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">contents</a>.empty())
    {
        ContentsMap::iterator <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a> = <a class="code" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">contents</a>.begin();
        <span class="keyword">delete</span> (*i).second;
        <a class="code" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">contents</a>.erase(i);
    }
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a2c0820094ae4124a29b3693b8108fe03"></a><!-- doxytag: member="Blackboard::begin" ref="a2c0820094ae4124a29b3693b8108fe03" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_blackboard_1_1iterator.html">iterator</a> <a class="el" href="class_blackboard.html#a2c0820094ae4124a29b3693b8108fe03">Blackboard::begin</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>As with standard C++ classes. </p>

<p>Definition at line <a class="el" href="_blackboard_8h_source.html#l00307">307</a> of file <a class="el" href="_blackboard_8h_source.html">Blackboard.h</a>.</p>
<div class="fragment"><pre class="fragment">{<span class="keywordflow">return</span> iterator(<a class="code" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">contents</a>.begin());}
</pre></div>
</div>
</div>
<a class="anchor" id="ae081479b4a85d4eb9d863dbeb97d3612"></a><!-- doxytag: member="Blackboard::changed" ref="ae081479b4a85d4eb9d863dbeb97d3612" args="(BBItemRef bbItem, cPolymorphic *item=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_blackboard.html#ae081479b4a85d4eb9d863dbeb97d3612">Blackboard::changed</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_blackboard.html#a19ade3a7996ed60a05d70ff039aa4236">BBItemRef</a>&#160;</td>
          <td class="paramname"><em>bbItem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPolymorphic *&#160;</td>
          <td class="paramname"><em>item</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Tell BB that an item has changed (typically called by publisher). When item pointer is omitted, it is assumed that the item object was updated "in place" (as opposed to being replaced by another object). </p>

<p>Definition at line <a class="el" href="_blackboard_8cc_source.html#l00108">108</a> of file <a class="el" href="_blackboard_8cc_source.html">Blackboard.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
  <a class="code" href="_blackboard_8cc.html#a27f667d27591f62ecf86a99a79ea8f42">coreEV</a> &lt;&lt;<span class="stringliteral">&quot;enter changed; item: &quot;</span>&lt;&lt;bbItem-&gt;<a class="code" href="class_blackboard_1_1_b_b_item.html#a47436b72e4d248a079faa6c528805f7a">getLabel</a>()&lt;&lt;<span class="stringliteral">&quot; changed -&gt; notify subscribers\n&quot;</span>;

  Enter_Method(<span class="stringliteral">&quot;changed(\&quot;%s\&quot;, %s *ptr)&quot;</span>, bbItem-&gt;<a class="code" href="class_blackboard_1_1_b_b_item.html#a47436b72e4d248a079faa6c528805f7a">getLabel</a>(), item-&gt;getClassName());

    <span class="comment">// update data pointer</span>
    <span class="keywordflow">if</span> (item)
        bbItem-&gt;<a class="code" href="class_blackboard_1_1_b_b_item.html#a083add42e2a2afc9ec3a0a7df6c02de1">_item</a> = item;
    <span class="comment">// notify subscribers</span>
    <a class="code" href="class_blackboard.html#afcca5874bdc32029cb27de3a8c2c9896">SubscriberVector</a>&amp; vec = bbItem-&gt;<a class="code" href="class_blackboard_1_1_b_b_item.html#a81017ebef1ebe3a8136cdc5a3aa6c1aa">subscribers</a>;
    <span class="keywordflow">for</span> (SubscriberVector::iterator <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>=vec.begin(); <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>!=vec.end(); ++<a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>){
        (*i)-&gt;blackboardItemChanged(bbItem);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a89792300829e387ccfd719bd0276a0c1"></a><!-- doxytag: member="Blackboard::end" ref="a89792300829e387ccfd719bd0276a0c1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_blackboard_1_1iterator.html">iterator</a> <a class="el" href="class_blackboard.html#a89792300829e387ccfd719bd0276a0c1">Blackboard::end</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>As with standard C++ classes. </p>

<p>Definition at line <a class="el" href="_blackboard_8h_source.html#l00312">312</a> of file <a class="el" href="_blackboard_8h_source.html">Blackboard.h</a>.</p>
<div class="fragment"><pre class="fragment">{<span class="keywordflow">return</span> iterator(<a class="code" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">contents</a>.end());}
</pre></div>
</div>
</div>
<a class="anchor" id="aa120491baa07536fb85326e42878f5e2"></a><!-- doxytag: member="Blackboard::find" ref="aa120491baa07536fb85326e42878f5e2" args="(const char *label)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_blackboard.html#a19ade3a7996ed60a05d70ff039aa4236">BBItemRef</a> <a class="el" href="class_blackboard.html#aa120491baa07536fb85326e42878f5e2">Blackboard::find</a> </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>label</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Find item with given label on the BB </p>

<p>Definition at line <a class="el" href="_blackboard_8cc_source.html#l00139">139</a> of file <a class="el" href="_blackboard_8cc_source.html">Blackboard.cc</a>.</p>

<p>Referenced by <a class="el" href="_blackboard_8cc_source.html#l00188">removeClient()</a>, <a class="el" href="_blackboard_8cc_source.html#l00124">subscribe()</a>, and <a class="el" href="_blackboard_8cc_source.html#l00161">unsubscribe()</a>.</p>
<div class="fragment"><pre class="fragment">{
    ContentsMap::iterator k = <a class="code" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">contents</a>.find(std::string(label));
    <span class="keywordflow">return</span> k==<a class="code" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">contents</a>.end() ? NULL : (*k).second;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab88b990f3902c2fa34dac6e76f94adca"></a><!-- doxytag: member="Blackboard::getBlackboardContent" ref="ab88b990f3902c2fa34dac6e76f94adca" args="(BlackboardAccess *bbClient)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_blackboard.html#ab88b990f3902c2fa34dac6e76f94adca">Blackboard::getBlackboardContent</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_blackboard_access.html">BlackboardAccess</a> *&#160;</td>
          <td class="paramname"><em>bbClient</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Utility function: the client gets immediate notification with all items currently on clipboard (as if they were added just now). This may simplify initialization code in a subscribe-when-published style client. </p>

<p>Definition at line <a class="el" href="_blackboard_8cc_source.html#l00202">202</a> of file <a class="el" href="_blackboard_8cc_source.html">Blackboard.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method(<span class="stringliteral">&quot;getBlackboardContent(this)&quot;</span>);

    <span class="keywordflow">for</span> (ContentsMap::iterator <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>=<a class="code" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">contents</a>.begin(); <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>!=<a class="code" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">contents</a>.end(); ++<a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>)
        bbClient-&gt;<a class="code" href="class_blackboard_access.html#a7b2a5096152e4777797aa6af7ef41c8c">blackboardItemPublished</a>((*i).second);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a663ac4a5877cbba804cf22b7e75c6b4a"></a><!-- doxytag: member="Blackboard::handleMessage" ref="a663ac4a5877cbba804cf22b7e75c6b4a" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_blackboard.html#a663ac4a5877cbba804cf22b7e75c6b4a">Blackboard::handleMessage</a> </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Does nothing. </p>

<p>Definition at line <a class="el" href="_blackboard_8cc_source.html#l00058">58</a> of file <a class="el" href="_blackboard_8cc_source.html">Blackboard.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    error(<span class="stringliteral">&quot;Blackboard doesn&#39;t handle messages, it can be accessed via direct method calls&quot;</span>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a14d34ec889dc4debb4fb4968fc2bbcc0"></a><!-- doxytag: member="Blackboard::initialize" ref="a14d34ec889dc4debb4fb4968fc2bbcc0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_blackboard.html#a14d34ec889dc4debb4fb4968fc2bbcc0">Blackboard::initialize</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initialize BB. </p>

<p>Definition at line <a class="el" href="_blackboard_8cc_source.html#l00049">49</a> of file <a class="el" href="_blackboard_8cc_source.html">Blackboard.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
  <span class="keywordflow">if</span>(hasPar(<span class="stringliteral">&quot;coreDebug&quot;</span>))
    <a class="code" href="class_blackboard.html#a21366b51e0654dd9ff1b87727c93aaee" title="Set debugging for the basic module.">coreDebug</a> = par(<span class="stringliteral">&quot;coreDebug&quot;</span>).boolValue();
  <span class="keywordflow">else</span>
    <a class="code" href="class_blackboard.html#a21366b51e0654dd9ff1b87727c93aaee" title="Set debugging for the basic module.">coreDebug</a> = <span class="keyword">false</span>;
    WATCH_PTRMAP(<a class="code" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">contents</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a80a003f601b1906516e46e312ba5fe66"></a><!-- doxytag: member="Blackboard::publish" ref="a80a003f601b1906516e46e312ba5fe66" args="(const char *label, cPolymorphic *item)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_blackboard.html#a19ade3a7996ed60a05d70ff039aa4236">BBItemRef</a> <a class="el" href="class_blackboard.html#a80a003f601b1906516e46e312ba5fe66">Blackboard::publish</a> </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPolymorphic *&#160;</td>
          <td class="paramname"><em>item</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Publish new item on the BB, with the given label. </p>

<p>Definition at line <a class="el" href="_blackboard_8cc_source.html#l00063">63</a> of file <a class="el" href="_blackboard_8cc_source.html">Blackboard.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method(<span class="stringliteral">&quot;publish(\&quot;%s\&quot;, %s *ptr)&quot;</span>, label, item-&gt;getClassName());

    <span class="comment">// check uniqueness of label</span>
    ContentsMap::iterator k = <a class="code" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">contents</a>.find(std::string(label));
    <span class="keywordflow">if</span> (k!=<a class="code" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">contents</a>.end())
        error(<span class="stringliteral">&quot;publish(): blackboard already contains an item with label `%s&#39;&quot;</span>, label);

    <span class="comment">// add to BB contents</span>
    BBItem *bbitem = <span class="keyword">new</span> BBItem();
    bbitem-&gt;_item = item;
    bbitem-&gt;_label = label;
    <a class="code" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">contents</a>[bbitem-&gt;_label] = bbitem;

    <a class="code" href="_blackboard_8cc.html#a27f667d27591f62ecf86a99a79ea8f42">coreEV</a> &lt;&lt;<span class="stringliteral">&quot;publish &quot;</span>&lt;&lt;label&lt;&lt;<span class="stringliteral">&quot; on bb\n&quot;</span>;
    <a class="code" href="_blackboard_8cc.html#a27f667d27591f62ecf86a99a79ea8f42">coreEV</a> &lt;&lt;<span class="stringliteral">&quot;bbItem-&gt;label: &quot;</span>&lt;&lt;bbitem-&gt;getLabel()&lt;&lt;endl;
    <span class="comment">// notify</span>
    <a class="code" href="class_blackboard.html#afcca5874bdc32029cb27de3a8c2c9896">SubscriberVector</a>&amp; vec = <a class="code" href="class_blackboard.html#a5442b59653bb0eb50127aec2df33088a">registeredClients</a>;
    <span class="keywordflow">for</span> (SubscriberVector::iterator <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>=vec.begin(); <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>!=vec.end(); ++<a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>){
        (*i)-&gt;blackboardItemPublished(bbitem);
    }
    <span class="keywordflow">return</span> bbitem;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8df76d28beac3e5ae68e60157687914b"></a><!-- doxytag: member="Blackboard::registerClient" ref="a8df76d28beac3e5ae68e60157687914b" args="(BlackboardAccess *bbClient)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_blackboard.html#a8df76d28beac3e5ae68e60157687914b">Blackboard::registerClient</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_blackboard_access.html">BlackboardAccess</a> *&#160;</td>
          <td class="paramname"><em>bbClient</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Generally subscribe to notifications about items being published to/withdrawn from BB. </p>

<p>Definition at line <a class="el" href="_blackboard_8cc_source.html#l00175">175</a> of file <a class="el" href="_blackboard_8cc_source.html">Blackboard.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method(<span class="stringliteral">&quot;registerClient(this)&quot;</span>);

    <span class="comment">// check if already subscribed</span>
    <a class="code" href="class_blackboard.html#afcca5874bdc32029cb27de3a8c2c9896">SubscriberVector</a>&amp; vec = <a class="code" href="class_blackboard.html#a5442b59653bb0eb50127aec2df33088a">registeredClients</a>;
    <span class="keywordflow">if</span> (<a class="code" href="_utils_8cc.html#a33bdc8b2583dcc9d2a8bfe1ec578352d">std::find</a>(vec.begin(), vec.end(), bbClient)!=vec.end())
        <span class="keywordflow">return</span>; <span class="comment">// ok, already subscribed</span>

    <span class="comment">// add subscriber</span>
    vec.push_back(bbClient);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a22f6532f3778e68afc07edad67f4fbf0"></a><!-- doxytag: member="Blackboard::removeClient" ref="a22f6532f3778e68afc07edad67f4fbf0" args="(BlackboardAccess *bbClient)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_blackboard.html#a22f6532f3778e68afc07edad67f4fbf0">Blackboard::removeClient</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_blackboard_access.html">BlackboardAccess</a> *&#160;</td>
          <td class="paramname"><em>bbClient</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Cancel subscription initiated by <a class="el" href="class_blackboard.html#a8df76d28beac3e5ae68e60157687914b">registerClient()</a>. </p>

<p>Definition at line <a class="el" href="_blackboard_8cc_source.html#l00188">188</a> of file <a class="el" href="_blackboard_8cc_source.html">Blackboard.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method(<span class="stringliteral">&quot;removeClient(this)&quot;</span>);

    <span class="comment">// check if subscribed</span>
    <a class="code" href="class_blackboard.html#afcca5874bdc32029cb27de3a8c2c9896">SubscriberVector</a>&amp; vec = <a class="code" href="class_blackboard.html#a5442b59653bb0eb50127aec2df33088a">registeredClients</a>;
    SubscriberVector::iterator k = <a class="code" href="class_blackboard.html#aa120491baa07536fb85326e42878f5e2">std::find</a>(vec.begin(), vec.end(), bbClient);
    <span class="keywordflow">if</span> (k==vec.end())
        <span class="keywordflow">return</span>; <span class="comment">// ok, not subscribed</span>

    <span class="comment">// remove subscriber</span>
    vec.erase(k);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3476b12db241a8c8e297d22272bf7c18"></a><!-- doxytag: member="Blackboard::subscribe" ref="a3476b12db241a8c8e297d22272bf7c18" args="(BlackboardAccess *bbClient, const char *label)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_blackboard.html#a19ade3a7996ed60a05d70ff039aa4236">BBItemRef</a> <a class="el" href="class_blackboard.html#a3476b12db241a8c8e297d22272bf7c18">Blackboard::subscribe</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_blackboard_access.html">BlackboardAccess</a> *&#160;</td>
          <td class="paramname"><em>bbClient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>label</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Subscribe to a BB item identified by a label </p>

<p>Definition at line <a class="el" href="_blackboard_8cc_source.html#l00124">124</a> of file <a class="el" href="_blackboard_8cc_source.html">Blackboard.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method(<span class="stringliteral">&quot;subscribe(this,\&quot;%s\&quot;)&quot;</span>, label);

    <span class="comment">// look up item by label</span>
    <a class="code" href="class_blackboard_1_1_b_b_item.html">BBItemRef</a> item = <a class="code" href="class_blackboard.html#aa120491baa07536fb85326e42878f5e2">find</a>(label);
    <span class="keywordflow">if</span> (!item)
       error(<span class="stringliteral">&quot;subscribe(): item labelled `%s&#39; not on blackboard&quot;</span>, label);

    <span class="comment">// subscribe</span>
    <a class="code" href="_blackboard_8cc.html#a27f667d27591f62ecf86a99a79ea8f42">coreEV</a> &lt;&lt;<span class="stringliteral">&quot;subscribe for &quot;</span>&lt;&lt;label&lt;&lt;<span class="stringliteral">&quot; on bb\n&quot;</span>;
    <a class="code" href="class_blackboard.html#a3476b12db241a8c8e297d22272bf7c18">subscribe</a>(bbClient, item);
    <span class="keywordflow">return</span> item;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab50ce0f0f1b97b268d6be7c1e23d86e6"></a><!-- doxytag: member="Blackboard::subscribe" ref="ab50ce0f0f1b97b268d6be7c1e23d86e6" args="(BlackboardAccess *bbClient, BBItemRef bbItem)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_blackboard.html#a19ade3a7996ed60a05d70ff039aa4236">BBItemRef</a> <a class="el" href="class_blackboard.html#a3476b12db241a8c8e297d22272bf7c18">Blackboard::subscribe</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_blackboard_access.html">BlackboardAccess</a> *&#160;</td>
          <td class="paramname"><em>bbClient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_blackboard.html#a19ade3a7996ed60a05d70ff039aa4236">BBItemRef</a>&#160;</td>
          <td class="paramname"><em>bbItem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Subscribe to a BB item identified by item reference </p>

<p>Definition at line <a class="el" href="_blackboard_8cc_source.html#l00145">145</a> of file <a class="el" href="_blackboard_8cc_source.html">Blackboard.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method(<span class="stringliteral">&quot;subscribe(this,\&quot;%s\&quot;)&quot;</span>, bbItem-&gt;<a class="code" href="class_blackboard_1_1_b_b_item.html#a47436b72e4d248a079faa6c528805f7a">getLabel</a>());

    <span class="comment">// check if already subscribed</span>
    <a class="code" href="class_blackboard.html#afcca5874bdc32029cb27de3a8c2c9896">SubscriberVector</a>&amp; vec = bbItem-&gt;<a class="code" href="class_blackboard_1_1_b_b_item.html#a81017ebef1ebe3a8136cdc5a3aa6c1aa">subscribers</a>;
    <span class="keywordflow">if</span> (<a class="code" href="_utils_8cc.html#a33bdc8b2583dcc9d2a8bfe1ec578352d">std::find</a>(vec.begin(), vec.end(), bbClient)!=vec.end())
        <span class="keywordflow">return</span> bbItem; <span class="comment">// already subscribed</span>

    <span class="comment">// add subscriber</span>
    vec.push_back(bbClient);

    <a class="code" href="_blackboard_8cc.html#a27f667d27591f62ecf86a99a79ea8f42">coreEV</a> &lt;&lt;<span class="stringliteral">&quot;sucessfully subscribed for item: &quot;</span>&lt;&lt;bbItem-&gt;<a class="code" href="class_blackboard_1_1_b_b_item.html#a47436b72e4d248a079faa6c528805f7a">getLabel</a>()&lt;&lt;endl;
    <span class="keywordflow">return</span> bbItem;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a83ae41a4d843dd302ae9763f9790e5c7"></a><!-- doxytag: member="Blackboard::unsubscribe" ref="a83ae41a4d843dd302ae9763f9790e5c7" args="(BlackboardAccess *bbClient, BBItemRef bbItem)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_blackboard.html#a83ae41a4d843dd302ae9763f9790e5c7">Blackboard::unsubscribe</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_blackboard_access.html">BlackboardAccess</a> *&#160;</td>
          <td class="paramname"><em>bbClient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_blackboard.html#a19ade3a7996ed60a05d70ff039aa4236">BBItemRef</a>&#160;</td>
          <td class="paramname"><em>bbItem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Unsubcribe module from change notifications </p>

<p>Definition at line <a class="el" href="_blackboard_8cc_source.html#l00161">161</a> of file <a class="el" href="_blackboard_8cc_source.html">Blackboard.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method(<span class="stringliteral">&quot;unsubscribe(this,\&quot;%s\&quot;)&quot;</span>, bbItem-&gt;<a class="code" href="class_blackboard_1_1_b_b_item.html#a47436b72e4d248a079faa6c528805f7a">getLabel</a>());

    <span class="comment">// check if already subscribed</span>
    <a class="code" href="class_blackboard.html#afcca5874bdc32029cb27de3a8c2c9896">SubscriberVector</a>&amp; vec = bbItem-&gt;<a class="code" href="class_blackboard_1_1_b_b_item.html#a81017ebef1ebe3a8136cdc5a3aa6c1aa">subscribers</a>;
    SubscriberVector::iterator k = <a class="code" href="class_blackboard.html#aa120491baa07536fb85326e42878f5e2">std::find</a>(vec.begin(), vec.end(), bbClient);
    <span class="keywordflow">if</span> (k==vec.end())
        <span class="keywordflow">return</span>; <span class="comment">// ok, not subscribed</span>

    <span class="comment">// remove subscriber</span>
    vec.erase(k);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad9ea575d3f6de4c0ed797e5050f04271"></a><!-- doxytag: member="Blackboard::withdraw" ref="ad9ea575d3f6de4c0ed797e5050f04271" args="(BBItemRef bbItem)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_blackboard.html#ad9ea575d3f6de4c0ed797e5050f04271">Blackboard::withdraw</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_blackboard.html#a19ade3a7996ed60a05d70ff039aa4236">BBItemRef</a>&#160;</td>
          <td class="paramname"><em>bbItem</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Withdraw (unpublish) item from the BB (typically called by publisher). </p>

<p>Definition at line <a class="el" href="_blackboard_8cc_source.html#l00088">88</a> of file <a class="el" href="_blackboard_8cc_source.html">Blackboard.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method(<span class="stringliteral">&quot;withdraw(\&quot;%s\&quot;)&quot;</span>, bbItem-&gt;<a class="code" href="class_blackboard_1_1_b_b_item.html#a47436b72e4d248a079faa6c528805f7a">getLabel</a>());

    <span class="comment">// find on BB</span>
    ContentsMap::iterator k = <a class="code" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">contents</a>.find(bbItem-&gt;<a class="code" href="class_blackboard_1_1_b_b_item.html#ad24f7068e41e0a8a44a0010fa8bd85fe">_label</a>);
    <span class="keywordflow">if</span> (k==<a class="code" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">contents</a>.end())
      error(<span class="stringliteral">&quot;withdraw(): item labelled `%s&#39; is not on clipboard (BBItemRef stale?)&quot;</span>, bbItem-&gt;<a class="code" href="class_blackboard_1_1_b_b_item.html#ad24f7068e41e0a8a44a0010fa8bd85fe">_label</a>.c_str());

    <span class="comment">// notify subscribers</span>
    <a class="code" href="class_blackboard.html#afcca5874bdc32029cb27de3a8c2c9896">SubscriberVector</a>&amp; vec = bbItem-&gt;<a class="code" href="class_blackboard_1_1_b_b_item.html#a81017ebef1ebe3a8136cdc5a3aa6c1aa">subscribers</a>;
    <span class="keywordflow">for</span> (SubscriberVector::iterator <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>=vec.begin(); <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>!=vec.end(); ++<a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>)
        (*i)-&gt;blackboardItemWithdrawn(bbItem);

    <span class="comment">// remove</span>
    <a class="code" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">contents</a>.erase(k);
    bbItem-&gt;<a class="code" href="class_blackboard_1_1_b_b_item.html#a083add42e2a2afc9ec3a0a7df6c02de1">_item</a> = NULL; <span class="comment">// may make bogus code crash sooner</span>
    <span class="keyword">delete</span> bbItem;
}
</pre></div>
</div>
</div>
<hr/><h2>Friends And Related Function Documentation</h2>
<a class="anchor" id="a9830fc407400559db7e7783cc10a9394"></a><!-- doxytag: member="Blackboard::Iterator" ref="a9830fc407400559db7e7783cc10a9394" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="class_blackboard.html#a9830fc407400559db7e7783cc10a9394">Iterator</a><code> [friend]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_blackboard_8h_source.html#l00190">190</a> of file <a class="el" href="_blackboard_8h_source.html">Blackboard.h</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a39afcec7de357dcdf349ad94992d9e72"></a><!-- doxytag: member="Blackboard::contents" ref="a39afcec7de357dcdf349ad94992d9e72" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_blackboard.html#a428cddced037c11d65188ba48b808820">ContentsMap</a> <a class="el" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">Blackboard::contents</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_blackboard_8h_source.html#l00195">195</a> of file <a class="el" href="_blackboard_8h_source.html">Blackboard.h</a>.</p>

<p>Referenced by <a class="el" href="_blackboard_8cc_source.html#l00139">find()</a>, <a class="el" href="_blackboard_8cc_source.html#l00202">getBlackboardContent()</a>, <a class="el" href="_blackboard_8cc_source.html#l00049">initialize()</a>, <a class="el" href="_blackboard_8cc_source.html#l00063">publish()</a>, <a class="el" href="_blackboard_8cc_source.html#l00088">withdraw()</a>, and <a class="el" href="_blackboard_8cc_source.html#l00039">~Blackboard()</a>.</p>

</div>
</div>
<a class="anchor" id="a21366b51e0654dd9ff1b87727c93aaee"></a><!-- doxytag: member="Blackboard::coreDebug" ref="a21366b51e0654dd9ff1b87727c93aaee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_blackboard.html#a21366b51e0654dd9ff1b87727c93aaee">Blackboard::coreDebug</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set debugging for the basic module. </p>

<p>Definition at line <a class="el" href="_blackboard_8h_source.html#l00188">188</a> of file <a class="el" href="_blackboard_8h_source.html">Blackboard.h</a>.</p>

<p>Referenced by <a class="el" href="_blackboard_8cc_source.html#l00049">initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="a5442b59653bb0eb50127aec2df33088a"></a><!-- doxytag: member="Blackboard::registeredClients" ref="a5442b59653bb0eb50127aec2df33088a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_blackboard.html#afcca5874bdc32029cb27de3a8c2c9896">SubscriberVector</a> <a class="el" href="class_blackboard.html#a5442b59653bb0eb50127aec2df33088a">Blackboard::registeredClients</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_blackboard_8h_source.html#l00198">198</a> of file <a class="el" href="_blackboard_8h_source.html">Blackboard.h</a>.</p>

<p>Referenced by <a class="el" href="_blackboard_8cc_source.html#l00063">publish()</a>, <a class="el" href="_blackboard_8cc_source.html#l00175">registerClient()</a>, and <a class="el" href="_blackboard_8cc_source.html#l00188">removeClient()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_blackboard_8h_source.html">Blackboard.h</a></li>
<li><a class="el" href="_blackboard_8cc_source.html">Blackboard.cc</a></li>
</ul>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="class_blackboard.html">Blackboard</a>      </li>

    <li class="footer">Generated on Wed Aug 29 2012 21:13:03 for INET Framework for OMNeT++/OMNEST by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
