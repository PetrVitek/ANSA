<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>INET Framework for OMNeT++/OMNEST: IPAddressResolver Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">INET Framework for OMNeT++/OMNEST</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_i_p_address_resolver.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">IPAddressResolver Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="IPAddressResolver" -->
<p><code>#include &lt;IPAddressResolver.h&gt;</code></p>

<p><a href="class_i_p_address_resolver-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="class_i_p_address_resolver.html#ad70ba3a799148d04d7306dc9a4796f4baf764b84aa7cb88db54ab75f6dd932e88">ADDR_PREFER_IPv4</a>, 
<a class="el" href="class_i_p_address_resolver.html#ad70ba3a799148d04d7306dc9a4796f4ba465e122405339545c4029974d3ac5ab1">ADDR_PREFER_IPv6</a>, 
<a class="el" href="class_i_p_address_resolver.html#ad70ba3a799148d04d7306dc9a4796f4ba3fb79de6bf067f4083b7d0565ec1c92f">ADDR_IPv4</a>, 
<a class="el" href="class_i_p_address_resolver.html#ad70ba3a799148d04d7306dc9a4796f4ba9dfb7596d13df73e473701235114e44f">ADDR_IPv6</a>
 }</td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_p_address_resolver.html#aff705caa22b31d95eb8a030d391e5752">IPAddressResolver</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_p_address_resolver.html#a62de8f65225f5985868f135545f9973f">~IPAddressResolver</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_i_pv_x_address.html">IPvXAddress</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_p_address_resolver.html#a7d2ced93d5db2fca43c46b26d25d2e69">resolve</a> (const char *str, int addrType=ADDR_PREFER_IPv6)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_p_address_resolver.html#ac876b7ea04f2fa286519d74b2a230112">tryResolve</a> (const char *str, <a class="el" href="class_i_pv_x_address.html">IPvXAddress</a> &amp;result, int addrType=ADDR_PREFER_IPv6)</td></tr>
<tr><td colspan="2"><div class="groupHeader">Utility functions supporting resolve()</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_i_pv_x_address.html">IPvXAddress</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_p_address_resolver.html#a629ff9a84de69b6c2bce7d01ffbb0e6f">addressOf</a> (cModule *host, int addrType=ADDR_PREFER_IPv6)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_i_pv_x_address.html">IPvXAddress</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_p_address_resolver.html#a6d136c2d91bca1118f66032ae77c495c">addressOf</a> (cModule *host, const char *ifname, int addrType=ADDR_PREFER_IPv6)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_i_p_address.html">IPAddress</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_p_address_resolver.html#accc06371fb44cb96001c3a33204101bc">routerIdOf</a> (cModule *host)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_i_pv_x_address.html">IPvXAddress</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_p_address_resolver.html#a1d13df7e29856d99df000243346e12eb">getAddressFrom</a> (<a class="el" href="class_i_interface_table.html">IInterfaceTable</a> *ift, int addrType=ADDR_PREFER_IPv6)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_i_pv_x_address.html">IPvXAddress</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_p_address_resolver.html#a6e863aea16ebe8a7e68f85fde14d153c">getAddressFrom</a> (<a class="el" href="class_interface_entry.html">InterfaceEntry</a> *ie, int addrType=ADDR_PREFER_IPv6)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_i_interface_table.html">IInterfaceTable</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_p_address_resolver.html#a9ebedf66882a5a01adda849e87268ad0">interfaceTableOf</a> (cModule *host)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_i_routing_table.html">IRoutingTable</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_p_address_resolver.html#a8724bc1f66420a3b511fe9958bbe05d0">routingTableOf</a> (cModule *host)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_routing_table6.html">RoutingTable6</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_p_address_resolver.html#aa507c73e22be842f37ec1cac33fdd184">routingTable6Of</a> (cModule *host)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_notification_board.html">NotificationBoard</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_p_address_resolver.html#ac5d73de625075aaafc42ba76e6f0dd21">notificationBoardOf</a> (cModule *host)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_i_interface_table.html">IInterfaceTable</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_p_address_resolver.html#a06b1d14fb0666280dfd67beff84a0fd9">findInterfaceTableOf</a> (cModule *host)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_i_routing_table.html">IRoutingTable</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_p_address_resolver.html#a736d37bf6d05fb602e04fa4407e09b00">findRoutingTableOf</a> (cModule *host)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_routing_table6.html">RoutingTable6</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_p_address_resolver.html#a2058bf5de71b4d5a52f2136ac948f463">findRoutingTable6Of</a> (cModule *host)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_notification_board.html">NotificationBoard</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_p_address_resolver.html#a050c454c8e7e3b9481525091c9085a40">findNotificationBoardOf</a> (cModule *host)</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_i_p_address.html">IPAddress</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_p_address_resolver.html#a96495ab0fcdc57eaa0331910fd1e583e">getIPv4AddressFrom</a> (<a class="el" href="class_i_interface_table.html">IInterfaceTable</a> *ift)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_i_pv6_address.html">IPv6Address</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_p_address_resolver.html#a49b942a27fcdce64e39b345dc922a9f6">getIPv6AddressFrom</a> (<a class="el" href="class_i_interface_table.html">IInterfaceTable</a> *ift)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_i_pv6_address.html">IPv6Address</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_i_p_address_resolver.html#af5148cd5afd4ec22844fbd2aa48ff9e6">getInterfaceIPv6Address</a> (<a class="el" href="class_interface_entry.html">InterfaceEntry</a> *ie)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Utility class for finding IPv4 or <a class="el" href="class_i_pv6.html">IPv6</a> address of a host or router.</p>
<p>Syntax variations understood:</p>
<ul>
<li>literal IPv4 address: "186.54.66.2"</li>
<li>literal <a class="el" href="class_i_pv6.html">IPv6</a> address: "3011:7cd6:750b:5fd6:aba3:c231:e9f9:6a43"</li>
<li>module name: "server", "subnet.server[3]"</li>
<li>interface of a host or router: "server/eth0", "subnet.server[3]/eth0"</li>
<li>IPv4 or <a class="el" href="class_i_pv6.html">IPv6</a> address of a host or router: "server(ipv4)", "subnet.server[3](ipv6)"</li>
<li>IPv4 or <a class="el" href="class_i_pv6.html">IPv6</a> address of an interface of a host or router: "server/eth0(ipv4)", "subnet.server[3]/eth0(ipv6)"</li>
<li>routerId: "router1/routerId", "R1/routerId" </li>
</ul>
</div><hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="ad70ba3a799148d04d7306dc9a4796f4b"></a><!-- doxytag: member="IPAddressResolver::@2" ref="ad70ba3a799148d04d7306dc9a4796f4b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ad70ba3a799148d04d7306dc9a4796f4baf764b84aa7cb88db54ab75f6dd932e88"></a><!-- doxytag: member="ADDR_PREFER_IPv4" ref="ad70ba3a799148d04d7306dc9a4796f4baf764b84aa7cb88db54ab75f6dd932e88" args="" -->ADDR_PREFER_IPv4</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad70ba3a799148d04d7306dc9a4796f4ba465e122405339545c4029974d3ac5ab1"></a><!-- doxytag: member="ADDR_PREFER_IPv6" ref="ad70ba3a799148d04d7306dc9a4796f4ba465e122405339545c4029974d3ac5ab1" args="" -->ADDR_PREFER_IPv6</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad70ba3a799148d04d7306dc9a4796f4ba3fb79de6bf067f4083b7d0565ec1c92f"></a><!-- doxytag: member="ADDR_IPv4" ref="ad70ba3a799148d04d7306dc9a4796f4ba3fb79de6bf067f4083b7d0565ec1c92f" args="" -->ADDR_IPv4</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad70ba3a799148d04d7306dc9a4796f4ba9dfb7596d13df73e473701235114e44f"></a><!-- doxytag: member="ADDR_IPv6" ref="ad70ba3a799148d04d7306dc9a4796f4ba9dfb7596d13df73e473701235114e44f" args="" -->ADDR_IPv6</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>
<div class="fragment"><pre class="fragment">         {
        <a class="code" href="class_i_p_address_resolver.html#ad70ba3a799148d04d7306dc9a4796f4baf764b84aa7cb88db54ab75f6dd932e88">ADDR_PREFER_IPv4</a>,
        <a class="code" href="class_i_p_address_resolver.html#ad70ba3a799148d04d7306dc9a4796f4ba465e122405339545c4029974d3ac5ab1">ADDR_PREFER_IPv6</a>,
        <a class="code" href="class_i_p_address_resolver.html#ad70ba3a799148d04d7306dc9a4796f4ba3fb79de6bf067f4083b7d0565ec1c92f">ADDR_IPv4</a>,
        <a class="code" href="class_i_p_address_resolver.html#ad70ba3a799148d04d7306dc9a4796f4ba9dfb7596d13df73e473701235114e44f">ADDR_IPv6</a>
    };
</pre></div>
</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aff705caa22b31d95eb8a030d391e5752"></a><!-- doxytag: member="IPAddressResolver::IPAddressResolver" ref="aff705caa22b31d95eb8a030d391e5752" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">IPAddressResolver::IPAddressResolver </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">{}
</pre></div>
</div>
</div>
<a class="anchor" id="a62de8f65225f5985868f135545f9973f"></a><!-- doxytag: member="IPAddressResolver::~IPAddressResolver" ref="a62de8f65225f5985868f135545f9973f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual IPAddressResolver::~IPAddressResolver </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">{}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a629ff9a84de69b6c2bce7d01ffbb0e6f"></a><!-- doxytag: member="IPAddressResolver::addressOf" ref="a629ff9a84de69b6c2bce7d01ffbb0e6f" args="(cModule *host, int addrType=ADDR_PREFER_IPv6)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_pv_x_address.html">IPvXAddress</a> IPAddressResolver::addressOf </td>
          <td>(</td>
          <td class="paramtype">cModule *&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>addrType</em> = <code>ADDR_PREFER_IPv6</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns IPv4 or <a class="el" href="class_i_pv6.html">IPv6</a> address of the given host or router.</p>
<p>This function uses <a class="el" href="class_i_p_address_resolver.html#a8724bc1f66420a3b511fe9958bbe05d0">routingTableOf()</a> to find the <a class="el" href="class_i_routing_table.html">IRoutingTable</a> module, then invokes <a class="el" href="class_i_p_address_resolver.html#a1d13df7e29856d99df000243346e12eb">getAddressFrom()</a> to extract the <a class="el" href="class_i_p.html">IP</a> address. </p>

<p>Referenced by <a class="el" href="class_i_p_address_resolver.html#ac876b7ea04f2fa286519d74b2a230112">tryResolve()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_i_interface_table.html">IInterfaceTable</a> *ift = <a class="code" href="class_i_p_address_resolver.html#a9ebedf66882a5a01adda849e87268ad0">interfaceTableOf</a>(host);
    <span class="keywordflow">return</span> <a class="code" href="class_i_p_address_resolver.html#a1d13df7e29856d99df000243346e12eb">getAddressFrom</a>(ift, addrType);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6d136c2d91bca1118f66032ae77c495c"></a><!-- doxytag: member="IPAddressResolver::addressOf" ref="a6d136c2d91bca1118f66032ae77c495c" args="(cModule *host, const char *ifname, int addrType=ADDR_PREFER_IPv6)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_pv_x_address.html">IPvXAddress</a> IPAddressResolver::addressOf </td>
          <td>(</td>
          <td class="paramtype">cModule *&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>ifname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>addrType</em> = <code>ADDR_PREFER_IPv6</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Similar to <a class="el" href="class_i_p_address_resolver.html#a629ff9a84de69b6c2bce7d01ffbb0e6f">addressOf()</a>, but only looks at the given interface </p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_i_interface_table.html">IInterfaceTable</a> *ift = <a class="code" href="class_i_p_address_resolver.html#a9ebedf66882a5a01adda849e87268ad0">interfaceTableOf</a>(host);
    <a class="code" href="class_interface_entry.html">InterfaceEntry</a> *ie = ift-&gt;<a class="code" href="class_i_interface_table.html#a8ad86ee823d6200b4f558383b39af658">getInterfaceByName</a>(ifname);
    <span class="keywordflow">if</span> (!ie)
        opp_error(<span class="stringliteral">&quot;IPAddressResolver: no interface called `%s&#39; in interface table&quot;</span>, ifname, ift-&gt;<a class="code" href="class_i_interface_table.html#a1047517c24c981f2069367ca576a9c81">getFullPath</a>().c_str());
    <span class="keywordflow">return</span> <a class="code" href="class_i_p_address_resolver.html#a1d13df7e29856d99df000243346e12eb">getAddressFrom</a>(ie, addrType);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a06b1d14fb0666280dfd67beff84a0fd9"></a><!-- doxytag: member="IPAddressResolver::findInterfaceTableOf" ref="a06b1d14fb0666280dfd67beff84a0fd9" args="(cModule *host)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_interface_table.html">IInterfaceTable</a> * IPAddressResolver::findInterfaceTableOf </td>
          <td>(</td>
          <td class="paramtype">cModule *&#160;</td>
          <td class="paramname"><em>host</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Like <a class="el" href="class_i_p_address_resolver.html#a9ebedf66882a5a01adda849e87268ad0">interfaceTableOf()</a>, but doesn't throw error if not found. </p>

<p>Referenced by <a class="el" href="class_network_configurator.html#a990d112d97e59c5c96c023e3ce31f3da">NetworkConfigurator::extractTopology()</a>, <a class="el" href="class_flat_network_configurator.html#aae0a772cbf701e006ae74fbca93f0773">FlatNetworkConfigurator::extractTopology()</a>, and <a class="el" href="class_flat_network_configurator6.html#aedf7247f30e97c587d9e94069f59c3c4">FlatNetworkConfigurator6::isIPNode()</a>.</p>
<div class="fragment"><pre class="fragment">{
    cModule *mod = host-&gt;getSubmodule(<span class="stringliteral">&quot;interfaceTable&quot;</span>);
    <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_i_interface_table.html">IInterfaceTable</a> *<span class="keyword">&gt;</span>(mod);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a050c454c8e7e3b9481525091c9085a40"></a><!-- doxytag: member="IPAddressResolver::findNotificationBoardOf" ref="a050c454c8e7e3b9481525091c9085a40" args="(cModule *host)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_notification_board.html">NotificationBoard</a> * IPAddressResolver::findNotificationBoardOf </td>
          <td>(</td>
          <td class="paramtype">cModule *&#160;</td>
          <td class="paramname"><em>host</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Like <a class="el" href="class_i_p_address_resolver.html#ac5d73de625075aaafc42ba76e6f0dd21">notificationBoardOf()</a>, but doesn't throw error if not found. </p>
<div class="fragment"><pre class="fragment">{
    cModule *mod = host-&gt;getSubmodule(<span class="stringliteral">&quot;notificationBoard&quot;</span>);
    <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_notification_board.html">NotificationBoard</a> *<span class="keyword">&gt;</span>(mod);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2058bf5de71b4d5a52f2136ac948f463"></a><!-- doxytag: member="IPAddressResolver::findRoutingTable6Of" ref="a2058bf5de71b4d5a52f2136ac948f463" args="(cModule *host)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_routing_table6.html">RoutingTable6</a> * IPAddressResolver::findRoutingTable6Of </td>
          <td>(</td>
          <td class="paramtype">cModule *&#160;</td>
          <td class="paramname"><em>host</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Like <a class="el" href="class_i_p_address_resolver.html#a9ebedf66882a5a01adda849e87268ad0">interfaceTableOf()</a>, but doesn't throw error if not found. </p>
<div class="fragment"><pre class="fragment">{
    cModule *mod = host-&gt;getSubmodule(<span class="stringliteral">&quot;routingTable6&quot;</span>);
    <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_routing_table6.html">RoutingTable6</a> *<span class="keyword">&gt;</span>(mod);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a736d37bf6d05fb602e04fa4407e09b00"></a><!-- doxytag: member="IPAddressResolver::findRoutingTableOf" ref="a736d37bf6d05fb602e04fa4407e09b00" args="(cModule *host)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_routing_table.html">IRoutingTable</a> * IPAddressResolver::findRoutingTableOf </td>
          <td>(</td>
          <td class="paramtype">cModule *&#160;</td>
          <td class="paramname"><em>host</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Like <a class="el" href="class_i_p_address_resolver.html#a8724bc1f66420a3b511fe9958bbe05d0">routingTableOf()</a>, but doesn't throw error if not found. </p>

<p>Referenced by <a class="el" href="class_network_configurator.html#a990d112d97e59c5c96c023e3ce31f3da">NetworkConfigurator::extractTopology()</a>.</p>
<div class="fragment"><pre class="fragment">{
    cModule *mod = host-&gt;getSubmodule(<span class="stringliteral">&quot;routingTable&quot;</span>);
    <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_i_routing_table.html">IRoutingTable</a> *<span class="keyword">&gt;</span>(mod);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1d13df7e29856d99df000243346e12eb"></a><!-- doxytag: member="IPAddressResolver::getAddressFrom" ref="a1d13df7e29856d99df000243346e12eb" args="(IInterfaceTable *ift, int addrType=ADDR_PREFER_IPv6)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_pv_x_address.html">IPvXAddress</a> IPAddressResolver::getAddressFrom </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_i_interface_table.html">IInterfaceTable</a> *&#160;</td>
          <td class="paramname"><em>ift</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>addrType</em> = <code>ADDR_PREFER_IPv6</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the IPv4 or <a class="el" href="class_i_pv6.html">IPv6</a> address of the given host or router, given its <a class="el" href="class_i_interface_table.html">IInterfaceTable</a> module. For IPv4, the first usable interface address is chosen. </p>

<p>Referenced by <a class="el" href="class_i_p_address_resolver.html#a629ff9a84de69b6c2bce7d01ffbb0e6f">addressOf()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_i_pv_x_address.html">IPvXAddress</a> ret;
    <span class="keywordflow">if</span> (addrType==<a class="code" href="class_i_p_address_resolver.html#ad70ba3a799148d04d7306dc9a4796f4ba9dfb7596d13df73e473701235114e44f">ADDR_IPv6</a> || addrType==<a class="code" href="class_i_p_address_resolver.html#ad70ba3a799148d04d7306dc9a4796f4ba465e122405339545c4029974d3ac5ab1">ADDR_PREFER_IPv6</a>)
    {
        ret = <a class="code" href="class_i_p_address_resolver.html#a49b942a27fcdce64e39b345dc922a9f6">getIPv6AddressFrom</a>(ift);
        <span class="keywordflow">if</span> (ret.<a class="code" href="class_i_pv_x_address.html#aa3534408a9aa5e4cb3fc141597d0ed1e">isUnspecified</a>() &amp;&amp; addrType==<a class="code" href="class_i_p_address_resolver.html#ad70ba3a799148d04d7306dc9a4796f4ba465e122405339545c4029974d3ac5ab1">ADDR_PREFER_IPv6</a>)
            ret = <a class="code" href="class_i_p_address_resolver.html#a96495ab0fcdc57eaa0331910fd1e583e">getIPv4AddressFrom</a>(ift);
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (addrType==<a class="code" href="class_i_p_address_resolver.html#ad70ba3a799148d04d7306dc9a4796f4ba3fb79de6bf067f4083b7d0565ec1c92f">ADDR_IPv4</a> || addrType==<a class="code" href="class_i_p_address_resolver.html#ad70ba3a799148d04d7306dc9a4796f4baf764b84aa7cb88db54ab75f6dd932e88">ADDR_PREFER_IPv4</a>)
    {
        ret = <a class="code" href="class_i_p_address_resolver.html#a96495ab0fcdc57eaa0331910fd1e583e">getIPv4AddressFrom</a>(ift);
        <span class="keywordflow">if</span> (ret.<a class="code" href="class_i_pv_x_address.html#aa3534408a9aa5e4cb3fc141597d0ed1e">isUnspecified</a>() &amp;&amp; addrType==<a class="code" href="class_i_p_address_resolver.html#ad70ba3a799148d04d7306dc9a4796f4baf764b84aa7cb88db54ab75f6dd932e88">ADDR_PREFER_IPv4</a>)
            ret = <a class="code" href="class_i_p_address_resolver.html#a49b942a27fcdce64e39b345dc922a9f6">getIPv6AddressFrom</a>(ift);
    }
    <span class="keywordflow">else</span>
    {
        opp_error(<span class="stringliteral">&quot;IPAddressResolver: unknown addrType %d&quot;</span>, addrType);
    }
    <span class="keywordflow">return</span> ret;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6e863aea16ebe8a7e68f85fde14d153c"></a><!-- doxytag: member="IPAddressResolver::getAddressFrom" ref="a6e863aea16ebe8a7e68f85fde14d153c" args="(InterfaceEntry *ie, int addrType=ADDR_PREFER_IPv6)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_pv_x_address.html">IPvXAddress</a> IPAddressResolver::getAddressFrom </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_interface_entry.html">InterfaceEntry</a> *&#160;</td>
          <td class="paramname"><em>ie</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>addrType</em> = <code>ADDR_PREFER_IPv6</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the IPv4 or <a class="el" href="class_i_pv6.html">IPv6</a> address of the given interface (of a host or router). </p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_i_pv_x_address.html">IPvXAddress</a> ret;
    <span class="keywordflow">if</span> (addrType==<a class="code" href="class_i_p_address_resolver.html#ad70ba3a799148d04d7306dc9a4796f4ba9dfb7596d13df73e473701235114e44f">ADDR_IPv6</a> || addrType==<a class="code" href="class_i_p_address_resolver.html#ad70ba3a799148d04d7306dc9a4796f4ba465e122405339545c4029974d3ac5ab1">ADDR_PREFER_IPv6</a>)
    {
        <span class="keywordflow">if</span> (ie-&gt;<a class="code" href="class_interface_entry.html#aed2588713b620093ada1ebfeb85fdbfc">ipv6Data</a>())
            ret = <a class="code" href="class_i_p_address_resolver.html#af5148cd5afd4ec22844fbd2aa48ff9e6">getInterfaceIPv6Address</a>(ie);
        <span class="keywordflow">if</span> (ret.<a class="code" href="class_i_pv_x_address.html#aa3534408a9aa5e4cb3fc141597d0ed1e">isUnspecified</a>() &amp;&amp; addrType==<a class="code" href="class_i_p_address_resolver.html#ad70ba3a799148d04d7306dc9a4796f4ba465e122405339545c4029974d3ac5ab1">ADDR_PREFER_IPv6</a> &amp;&amp; ie-&gt;<a class="code" href="class_interface_entry.html#ad47857e772397cc2d00de3a8cf464993">ipv4Data</a>())
            ret = ie-&gt;<a class="code" href="class_interface_entry.html#ad47857e772397cc2d00de3a8cf464993">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#aec8ebefd03acad479ac89d31d7228331">getIPAddress</a>();
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (addrType==<a class="code" href="class_i_p_address_resolver.html#ad70ba3a799148d04d7306dc9a4796f4ba3fb79de6bf067f4083b7d0565ec1c92f">ADDR_IPv4</a> || addrType==<a class="code" href="class_i_p_address_resolver.html#ad70ba3a799148d04d7306dc9a4796f4baf764b84aa7cb88db54ab75f6dd932e88">ADDR_PREFER_IPv4</a>)
    {
        <span class="keywordflow">if</span> (ie-&gt;<a class="code" href="class_interface_entry.html#ad47857e772397cc2d00de3a8cf464993">ipv4Data</a>())
            ret = ie-&gt;<a class="code" href="class_interface_entry.html#ad47857e772397cc2d00de3a8cf464993">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#aec8ebefd03acad479ac89d31d7228331">getIPAddress</a>();
        <span class="keywordflow">if</span> (ret.<a class="code" href="class_i_pv_x_address.html#aa3534408a9aa5e4cb3fc141597d0ed1e">isUnspecified</a>() &amp;&amp; addrType==<a class="code" href="class_i_p_address_resolver.html#ad70ba3a799148d04d7306dc9a4796f4baf764b84aa7cb88db54ab75f6dd932e88">ADDR_PREFER_IPv4</a> &amp;&amp; ie-&gt;<a class="code" href="class_interface_entry.html#aed2588713b620093ada1ebfeb85fdbfc">ipv6Data</a>())
            ret = <a class="code" href="class_i_p_address_resolver.html#af5148cd5afd4ec22844fbd2aa48ff9e6">getInterfaceIPv6Address</a>(ie);
    }
    <span class="keywordflow">else</span>
    {
        opp_error(<span class="stringliteral">&quot;IPAddressResolver: unknown addrType %d&quot;</span>, addrType);
    }
    <span class="keywordflow">return</span> ret;
}
</pre></div>
</div>
</div>
<a class="anchor" id="af5148cd5afd4ec22844fbd2aa48ff9e6"></a><!-- doxytag: member="IPAddressResolver::getInterfaceIPv6Address" ref="af5148cd5afd4ec22844fbd2aa48ff9e6" args="(InterfaceEntry *ie)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_pv6_address.html">IPv6Address</a> IPAddressResolver::getInterfaceIPv6Address </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_interface_entry.html">InterfaceEntry</a> *&#160;</td>
          <td class="paramname"><em>ie</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_i_p_address_resolver.html#a6e863aea16ebe8a7e68f85fde14d153c">getAddressFrom()</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="preprocessor">#ifndef WITHOUT_IPv6</span>
<span class="preprocessor"></span>    <span class="keywordflow">if</span> (!ie-&gt;<a class="code" href="class_interface_entry.html#aed2588713b620093ada1ebfeb85fdbfc">ipv6Data</a>())
        <span class="keywordflow">return</span> <a class="code" href="class_i_pv6_address.html">IPv6Address</a>();
    <span class="keywordflow">return</span> ie-&gt;<a class="code" href="class_interface_entry.html#aed2588713b620093ada1ebfeb85fdbfc">ipv6Data</a>()-&gt;<a class="code" href="class_i_pv6_interface_data.html#a56f3fe4007e3df66dc88edd008f059b9">getPreferredAddress</a>();
<span class="preprocessor">#else</span>
<span class="preprocessor"></span>    <span class="keywordflow">return</span> <a class="code" href="class_i_pv6_address.html">IPv6Address</a>();
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>}
</pre></div>
</div>
</div>
<a class="anchor" id="a96495ab0fcdc57eaa0331910fd1e583e"></a><!-- doxytag: member="IPAddressResolver::getIPv4AddressFrom" ref="a96495ab0fcdc57eaa0331910fd1e583e" args="(IInterfaceTable *ift)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_p_address.html">IPAddress</a> IPAddressResolver::getIPv4AddressFrom </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_i_interface_table.html">IInterfaceTable</a> *&#160;</td>
          <td class="paramname"><em>ift</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_i_p_address_resolver.html#a1d13df7e29856d99df000243346e12eb">getAddressFrom()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_i_p_address.html">IPAddress</a> addr;
    <span class="keywordflow">if</span> (ift-&gt;<a class="code" href="class_i_interface_table.html#a2b0ce46cd92da6f64fc363410dc71904">getNumInterfaces</a>()==0)
        opp_error(<span class="stringliteral">&quot;IPAddressResolver: interface table `%s&#39; has no interface registered &quot;</span>
                  <span class="stringliteral">&quot;(yet? try in a later init stage!)&quot;</span>, ift-&gt;<a class="code" href="class_i_interface_table.html#a1047517c24c981f2069367ca576a9c81">getFullPath</a>().c_str());

    <span class="comment">// choose first usable interface address (configured for IPv4, non-loopback if, addr non-null)</span>
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;ift-&gt;<a class="code" href="class_i_interface_table.html#a2b0ce46cd92da6f64fc363410dc71904">getNumInterfaces</a>(); i++)
    {
        <a class="code" href="class_interface_entry.html">InterfaceEntry</a> *ie = ift-&gt;<a class="code" href="class_i_interface_table.html#a19ce4ca3b47b52b8e2b67c25806c4b49">getInterface</a>(i);
        <span class="keywordflow">if</span> (ie-&gt;<a class="code" href="class_interface_entry.html#ad47857e772397cc2d00de3a8cf464993">ipv4Data</a>() &amp;&amp; !ie-&gt;<a class="code" href="class_interface_entry.html#ad47857e772397cc2d00de3a8cf464993">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#aec8ebefd03acad479ac89d31d7228331">getIPAddress</a>().<a class="code" href="class_i_p_address.html#a7fb3c274d7a8600be890f83c028d5f96">isUnspecified</a>() &amp;&amp; !ie-&gt;<a class="code" href="class_interface_entry.html#a0ee93e88273f61390d1293dae55004d1">isLoopback</a>())
        {
            addr = ie-&gt;<a class="code" href="class_interface_entry.html#ad47857e772397cc2d00de3a8cf464993">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#aec8ebefd03acad479ac89d31d7228331">getIPAddress</a>();
            <span class="keywordflow">break</span>;
        }
    }
    <span class="keywordflow">return</span> addr;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a49b942a27fcdce64e39b345dc922a9f6"></a><!-- doxytag: member="IPAddressResolver::getIPv6AddressFrom" ref="a49b942a27fcdce64e39b345dc922a9f6" args="(IInterfaceTable *ift)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_pv6_address.html">IPv6Address</a> IPAddressResolver::getIPv6AddressFrom </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_i_interface_table.html">IInterfaceTable</a> *&#160;</td>
          <td class="paramname"><em>ift</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_i_p_address_resolver.html#a1d13df7e29856d99df000243346e12eb">getAddressFrom()</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="preprocessor">#ifndef WITHOUT_IPv6</span>
<span class="preprocessor"></span>    <span class="comment">// browse interfaces and pick a globally routable address</span>
    <span class="keywordflow">if</span> (ift-&gt;<a class="code" href="class_i_interface_table.html#a2b0ce46cd92da6f64fc363410dc71904">getNumInterfaces</a>()==0)
        opp_error(<span class="stringliteral">&quot;IPAddressResolver: interface table `%s&#39; has no interface registered &quot;</span>
                  <span class="stringliteral">&quot;(yet? try in a later init stage!)&quot;</span>, ift-&gt;<a class="code" href="class_i_interface_table.html#a1047517c24c981f2069367ca576a9c81">getFullPath</a>().c_str());

    <a class="code" href="class_i_pv6_address.html">IPv6Address</a> addr;
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;ift-&gt;<a class="code" href="class_i_interface_table.html#a2b0ce46cd92da6f64fc363410dc71904">getNumInterfaces</a>() &amp;&amp; addr.<a class="code" href="class_i_pv6_address.html#af526cffcc3a4aa5bb96d307de6e8d448">isUnspecified</a>(); i++)
    {
        <a class="code" href="class_interface_entry.html">InterfaceEntry</a> *ie = ift-&gt;<a class="code" href="class_i_interface_table.html#a19ce4ca3b47b52b8e2b67c25806c4b49">getInterface</a>(i);
        <span class="keywordflow">if</span> (!ie-&gt;<a class="code" href="class_interface_entry.html#aed2588713b620093ada1ebfeb85fdbfc">ipv6Data</a>() || ie-&gt;<a class="code" href="class_interface_entry.html#a0ee93e88273f61390d1293dae55004d1">isLoopback</a>())
            <span class="keywordflow">continue</span>;
        <a class="code" href="class_i_pv6_address.html">IPv6Address</a> ifAddr = ie-&gt;<a class="code" href="class_interface_entry.html#aed2588713b620093ada1ebfeb85fdbfc">ipv6Data</a>()-&gt;<a class="code" href="class_i_pv6_interface_data.html#a56f3fe4007e3df66dc88edd008f059b9">getPreferredAddress</a>();
        <span class="keywordflow">if</span> (addr.<a class="code" href="class_i_pv6_address.html#aa2c2499a9e2ca1fd41b615d38654d8aa">isGlobal</a>() &amp;&amp; ifAddr.<a class="code" href="class_i_pv6_address.html#aa2c2499a9e2ca1fd41b615d38654d8aa">isGlobal</a>() &amp;&amp; addr!=ifAddr)
            <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; ift-&gt;<a class="code" href="class_i_interface_table.html#a1047517c24c981f2069367ca576a9c81">getFullPath</a>() &lt;&lt; <span class="stringliteral">&quot; has at least two globally routable addresses on different interfaces\n&quot;</span>;
        <span class="keywordflow">if</span> (ifAddr.<a class="code" href="class_i_pv6_address.html#aa2c2499a9e2ca1fd41b615d38654d8aa">isGlobal</a>())
            addr = ifAddr;
    }
    <span class="keywordflow">return</span> addr;
<span class="preprocessor">#else</span>
<span class="preprocessor"></span>    <span class="keywordflow">return</span> <a class="code" href="class_i_pv6_address.html">IPv6Address</a>();
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>}
</pre></div>
</div>
</div>
<a class="anchor" id="a9ebedf66882a5a01adda849e87268ad0"></a><!-- doxytag: member="IPAddressResolver::interfaceTableOf" ref="a9ebedf66882a5a01adda849e87268ad0" args="(cModule *host)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_interface_table.html">IInterfaceTable</a> * IPAddressResolver::interfaceTableOf </td>
          <td>(</td>
          <td class="paramtype">cModule *&#160;</td>
          <td class="paramname"><em>host</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The function tries to look up the <a class="el" href="class_i_interface_table.html">IInterfaceTable</a> module as submodule <code>"interfaceTable"</code> or <code>"networkLayer.interfaceTable"</code> within the host/router module. Throws an error if not found. </p>

<p>Referenced by <a class="el" href="class_flat_network_configurator6.html#aa4e9be7807116b4b03193292cefa7368">FlatNetworkConfigurator6::addOwnAdvPrefixRoutes()</a>, <a class="el" href="class_i_p_address_resolver.html#a629ff9a84de69b6c2bce7d01ffbb0e6f">addressOf()</a>, <a class="el" href="class_flat_network_configurator6.html#a684fdefcfe46d118e158423c3f77fe22">FlatNetworkConfigurator6::addStaticRoutes()</a>, <a class="el" href="class_flat_network_configurator6.html#a4b3401699c2735d6a42e36c3df86b010">FlatNetworkConfigurator6::configureAdvPrefixes()</a>, and <a class="el" href="class_flat_network_configurator.html#aae0a772cbf701e006ae74fbca93f0773">FlatNetworkConfigurator::extractTopology()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// find IInterfaceTable</span>
    cModule *mod = host-&gt;getSubmodule(<span class="stringliteral">&quot;interfaceTable&quot;</span>);
    <span class="keywordflow">if</span> (!mod)
        opp_error(<span class="stringliteral">&quot;IPAddressResolver: IInterfaceTable not found as submodule &quot;</span>
                  <span class="stringliteral">&quot; `interfaceTable&#39; in host/router `%s&#39;&quot;</span>, host-&gt;getFullPath().c_str());
    <span class="keywordflow">return</span> check_and_cast&lt;<a class="code" href="class_i_interface_table.html">IInterfaceTable</a> *&gt;(mod);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac5d73de625075aaafc42ba76e6f0dd21"></a><!-- doxytag: member="IPAddressResolver::notificationBoardOf" ref="ac5d73de625075aaafc42ba76e6f0dd21" args="(cModule *host)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_notification_board.html">NotificationBoard</a> * IPAddressResolver::notificationBoardOf </td>
          <td>(</td>
          <td class="paramtype">cModule *&#160;</td>
          <td class="paramname"><em>host</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The function tries to look up the <a class="el" href="class_notification_board.html">NotificationBoard</a> module as submodule <code>"notificationBoard"</code> within the host/router module. Throws an error if not found. </p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// find NotificationBoard</span>
    cModule *mod = host-&gt;getSubmodule(<span class="stringliteral">&quot;notificationBoard&quot;</span>);
    <span class="keywordflow">if</span> (!mod)
        opp_error(<span class="stringliteral">&quot;IPAddressResolver: NotificationBoard not found as submodule &quot;</span>
                  <span class="stringliteral">&quot; notificationBoard&#39; in host/router `%s&#39;&quot;</span>, host-&gt;getFullPath().c_str());
    <span class="keywordflow">return</span> check_and_cast&lt;<a class="code" href="class_notification_board.html">NotificationBoard</a> *&gt;(mod);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7d2ced93d5db2fca43c46b26d25d2e69"></a><!-- doxytag: member="IPAddressResolver::resolve" ref="a7d2ced93d5db2fca43c46b26d25d2e69" args="(const char *str, int addrType=ADDR_PREFER_IPv6)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_pv_x_address.html">IPvXAddress</a> IPAddressResolver::resolve </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>addrType</em> = <code>ADDR_PREFER_IPv6</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Accepts dotted decimal notation ("127.0.0.1"), module name of the host or router ("host[2]"), and empty string (""). For the latter, it returns the null address. If module name is specified, the module will be looked up using <code>simulation.getModuleByPath()</code>, and then <a class="el" href="class_i_p_address_resolver.html#a629ff9a84de69b6c2bce7d01ffbb0e6f">addressOf()</a> will be called to determine its <a class="el" href="class_i_p.html">IP</a> address. </p>

<p>Referenced by <a class="el" href="_x_m_l_utils_8h.html#af6620113f559f528070edd66f8a9ac14">getParameterIPAddressValue()</a>, <a class="el" href="class_ping_app.html#a26bc45b681ca3330c15568353c72acf3">PingApp::handleMessage()</a>, <a class="el" href="class_r_s_v_p.html#a14bfd32e0426538ba9b59a18037bb57a">RSVP::readTrafficRouteFromXML()</a>, <a class="el" href="class_u_d_p_video_stream_cli.html#a06b297b74a2efd5e5ba62097f6d9547c">UDPVideoStreamCli::requestStream()</a>, and <a class="el" href="class_t_c_p_spoof.html#a6635347f610e322c23863bcf10321a67">TCPSpoof::sendSpoofPacket()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_i_pv_x_address.html">IPvXAddress</a> addr;
    <span class="keywordflow">if</span> (!<a class="code" href="class_i_p_address_resolver.html#ac876b7ea04f2fa286519d74b2a230112">tryResolve</a>(s, addr, addrType))
        opp_error(<span class="stringliteral">&quot;IPAddressResolver: address `%s&#39; not configured (yet?)&quot;</span>, s);
    <span class="keywordflow">return</span> addr;
}
</pre></div>
</div>
</div>
<a class="anchor" id="accc06371fb44cb96001c3a33204101bc"></a><!-- doxytag: member="IPAddressResolver::routerIdOf" ref="accc06371fb44cb96001c3a33204101bc" args="(cModule *host)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_p_address.html">IPAddress</a> IPAddressResolver::routerIdOf </td>
          <td>(</td>
          <td class="paramtype">cModule *&#160;</td>
          <td class="paramname"><em>host</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the router Id of the given router. Router Id is obtained from the getRouterId() method of the <a class="el" href="class_i_routing_table.html">IRoutingTable</a> submodule. </p>

<p>Referenced by <a class="el" href="class_i_p_address_resolver.html#ac876b7ea04f2fa286519d74b2a230112">tryResolve()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_i_routing_table.html">IRoutingTable</a> *rt = <a class="code" href="class_i_p_address_resolver.html#a8724bc1f66420a3b511fe9958bbe05d0">routingTableOf</a>(host);
    <span class="keywordflow">return</span> rt-&gt;<a class="code" href="class_i_routing_table.html#a64a9a5b1414f4da0b7b0a3e079091f62">getRouterId</a>();
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa507c73e22be842f37ec1cac33fdd184"></a><!-- doxytag: member="IPAddressResolver::routingTable6Of" ref="aa507c73e22be842f37ec1cac33fdd184" args="(cModule *host)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_routing_table6.html">RoutingTable6</a> * IPAddressResolver::routingTable6Of </td>
          <td>(</td>
          <td class="paramtype">cModule *&#160;</td>
          <td class="paramname"><em>host</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The function tries to look up the <a class="el" href="class_routing_table6.html">RoutingTable6</a> module as submodule <code>"routingTable6"</code> or <code>"networkLayer.routingTable6"</code> within the host/router module. Throws an error if not found. </p>

<p>Referenced by <a class="el" href="class_flat_network_configurator6.html#aa4e9be7807116b4b03193292cefa7368">FlatNetworkConfigurator6::addOwnAdvPrefixRoutes()</a>, <a class="el" href="class_flat_network_configurator6.html#a684fdefcfe46d118e158423c3f77fe22">FlatNetworkConfigurator6::addStaticRoutes()</a>, and <a class="el" href="class_flat_network_configurator6.html#a4b3401699c2735d6a42e36c3df86b010">FlatNetworkConfigurator6::configureAdvPrefixes()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// find IRoutingTable</span>
    cModule *mod = host-&gt;getSubmodule(<span class="stringliteral">&quot;routingTable6&quot;</span>);
    <span class="keywordflow">if</span> (!mod)
        opp_error(<span class="stringliteral">&quot;IPAddressResolver: RoutingTable6 not found as submodule &quot;</span>
                  <span class="stringliteral">&quot; `routingTable6&#39; in host/router `%s&#39;&quot;</span>, host-&gt;getFullPath().c_str());
    <span class="keywordflow">return</span> check_and_cast&lt;<a class="code" href="class_routing_table6.html">RoutingTable6</a> *&gt;(mod);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8724bc1f66420a3b511fe9958bbe05d0"></a><!-- doxytag: member="IPAddressResolver::routingTableOf" ref="a8724bc1f66420a3b511fe9958bbe05d0" args="(cModule *host)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_routing_table.html">IRoutingTable</a> * IPAddressResolver::routingTableOf </td>
          <td>(</td>
          <td class="paramtype">cModule *&#160;</td>
          <td class="paramname"><em>host</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The function tries to look up the <a class="el" href="class_i_routing_table.html">IRoutingTable</a> module as submodule <code>"routingTable"</code> or <code>"networkLayer.routingTable"</code> within the host/router module. Throws an error if not found. </p>

<p>Referenced by <a class="el" href="class_flat_network_configurator.html#aae0a772cbf701e006ae74fbca93f0773">FlatNetworkConfigurator::extractTopology()</a>, and <a class="el" href="class_i_p_address_resolver.html#accc06371fb44cb96001c3a33204101bc">routerIdOf()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// find IRoutingTable</span>
    cModule *mod = host-&gt;getSubmodule(<span class="stringliteral">&quot;routingTable&quot;</span>);
    <span class="keywordflow">if</span> (!mod)
        opp_error(<span class="stringliteral">&quot;IPAddressResolver: IRoutingTable not found as submodule &quot;</span>
                  <span class="stringliteral">&quot; `routingTable&#39; in host/router `%s&#39;&quot;</span>, host-&gt;getFullPath().c_str());
    <span class="keywordflow">return</span> check_and_cast&lt;<a class="code" href="class_i_routing_table.html">IRoutingTable</a> *&gt;(mod);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac876b7ea04f2fa286519d74b2a230112"></a><!-- doxytag: member="IPAddressResolver::tryResolve" ref="ac876b7ea04f2fa286519d74b2a230112" args="(const char *str, IPvXAddress &amp;result, int addrType=ADDR_PREFER_IPv6)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IPAddressResolver::tryResolve </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_i_pv_x_address.html">IPvXAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>addrType</em> = <code>ADDR_PREFER_IPv6</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Similar to <a class="el" href="class_i_p_address_resolver.html#a7d2ced93d5db2fca43c46b26d25d2e69">resolve()</a>, but returns false (instead of throwing an error) if the address cannot be resolved because the given host (or interface) doesn't have an address assigned yet. (It still throws an error on any other error condition). </p>

<p>Referenced by <a class="el" href="class_i_p_address_resolver.html#a7d2ced93d5db2fca43c46b26d25d2e69">resolve()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// empty address</span>
    result = <a class="code" href="class_i_pv_x_address.html">IPvXAddress</a>();
    <span class="keywordflow">if</span> (!s || !*s)
        <span class="keywordflow">return</span> <span class="keyword">true</span>;

    <span class="comment">// handle address literal</span>
    <span class="keywordflow">if</span> (result.<a class="code" href="class_i_pv_x_address.html#ace8753204de3512c43c812e744098709">tryParse</a>(s))
        <span class="keywordflow">return</span> <span class="keyword">true</span>;

    <span class="comment">// must be &quot;modulename/interfacename(protocol)&quot; syntax then,</span>
    <span class="comment">// &quot;/interfacename&quot; and &quot;(protocol)&quot; being optional</span>
    <span class="keyword">const</span> <span class="keywordtype">char</span> *slashp = strchr(s,<span class="charliteral">&#39;/&#39;</span>);
    <span class="keyword">const</span> <span class="keywordtype">char</span> *leftparenp = strchr(s,<span class="charliteral">&#39;(&#39;</span>);
    <span class="keyword">const</span> <span class="keywordtype">char</span> *rightparenp = strchr(s,<span class="charliteral">&#39;)&#39;</span>);
    <span class="keyword">const</span> <span class="keywordtype">char</span> *endp = s+strlen(s);

    <span class="comment">// rudimentary syntax check</span>
    <span class="keywordflow">if</span> ((slashp &amp;&amp; leftparenp &amp;&amp; slashp&gt;leftparenp) ||
        (leftparenp &amp;&amp; !rightparenp) ||
        (!leftparenp &amp;&amp; rightparenp) ||
        (rightparenp &amp;&amp; rightparenp!=endp-1))
    {
        opp_error(<span class="stringliteral">&quot;IPAddressResolver: syntax error parsing address spec `%s&#39;&quot;</span>, s);
    }

    <span class="comment">// parse fields: modname, ifname, protocol</span>
    std::string modname, ifname, protocol;
    modname.assign(s, (slashp?slashp:leftparenp?leftparenp:endp)-s);
    <span class="keywordflow">if</span> (slashp)
        ifname.assign(slashp+1, (leftparenp?leftparenp:endp)-slashp-1);
    <span class="keywordflow">if</span> (leftparenp)
        protocol.assign(leftparenp+1, rightparenp-leftparenp-1);

    <span class="comment">// find module and check protocol</span>
    cModule *mod = simulation.getModuleByPath(modname.c_str());
    <span class="keywordflow">if</span> (!mod)
        opp_error(<span class="stringliteral">&quot;IPAddressResolver: module `%s&#39; not found&quot;</span>, modname.c_str());
    <span class="keywordflow">if</span> (!protocol.empty() &amp;&amp; protocol!=<span class="stringliteral">&quot;ipv4&quot;</span> &amp;&amp; protocol!=<span class="stringliteral">&quot;ipv6&quot;</span>)
        opp_error(<span class="stringliteral">&quot;IPAddressResolver: error parsing address spec `%s&#39;: address type must be `(ipv4)&#39; or `(ipv6)&#39;&quot;</span>, s);
    <span class="keywordflow">if</span> (!protocol.empty())
        addrType = protocol==<span class="stringliteral">&quot;ipv4&quot;</span> ? <a class="code" href="class_i_p_address_resolver.html#ad70ba3a799148d04d7306dc9a4796f4ba3fb79de6bf067f4083b7d0565ec1c92f">ADDR_IPv4</a> : <a class="code" href="class_i_p_address_resolver.html#ad70ba3a799148d04d7306dc9a4796f4ba9dfb7596d13df73e473701235114e44f">ADDR_IPv6</a>;

    <span class="comment">// get address from the given module/interface</span>
    <span class="keywordflow">if</span> (ifname.empty())
        result = <a class="code" href="class_i_p_address_resolver.html#a629ff9a84de69b6c2bce7d01ffbb0e6f">addressOf</a>(mod, addrType);
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ifname == <span class="stringliteral">&quot;routerId&quot;</span>)
        result = <a class="code" href="class_i_pv_x_address.html">IPvXAddress</a>(<a class="code" href="class_i_p_address_resolver.html#accc06371fb44cb96001c3a33204101bc">routerIdOf</a>(mod)); <span class="comment">// addrType is meaningless here, routerId is protocol independent</span>
    <span class="keywordflow">else</span>
        result = <a class="code" href="class_i_p_address_resolver.html#a629ff9a84de69b6c2bce7d01ffbb0e6f">addressOf</a>(mod, ifname.c_str(), addrType);
    <span class="keywordflow">return</span> !result.<a class="code" href="class_i_pv_x_address.html#aa3534408a9aa5e4cb3fc141597d0ed1e">isUnspecified</a>();
}
</pre></div>
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_i_p_address_resolver_8h.html">IPAddressResolver.h</a></li>
<li><a class="el" href="_i_p_address_resolver_8cc.html">IPAddressResolver.cc</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="class_i_p_address_resolver.html">IPAddressResolver</a>      </li>
      <li class="footer">Generated on Fri Nov 18 2011 12:47:13 for INET Framework for OMNeT++/OMNEST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </li>
    </ul>
  </div>

</body>
</html>
