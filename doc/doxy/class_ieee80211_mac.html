<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>INET Framework for OMNeT++/OMNEST: Ieee80211Mac Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.4 -->
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">INET Framework for OMNeT++/OMNEST</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_ieee80211_mac.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-types">Private Types</a>  </div>
  <div class="headertitle">
<div class="title">Ieee80211Mac Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="Ieee80211Mac" --><!-- doxytag: inherits="WirelessMacBase,INotifiable" -->
<p><code>#include &lt;Ieee80211Mac.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Ieee80211Mac:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_ieee80211_mac.png" usemap="#Ieee80211Mac_map" alt=""/>
  <map id="Ieee80211Mac_map" name="Ieee80211Mac_map">
<area href="class_wireless_mac_base.html" alt="WirelessMacBase" shape="rect" coords="0,0,113,24"/>
<area href="class_i_notifiable.html" alt="INotifiable" shape="rect" coords="123,0,236,24"/>
</map>
 </div></div>

<p><a href="class_ieee80211_mac-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_ieee80211_mac_1_1_ieee80211_a_s_f_tuple.html">Ieee80211ASFTuple</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Construction functions</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a34230eadfc933351daa3921147113e67">Ieee80211Mac</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a5996f42ab538115f55c7f74121276f09">~Ieee80211Mac</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual Ieee80211Frame *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a90256fefdfde93f0f350a100c8b94eda">setBasicBitrate</a> (Ieee80211Frame *frame)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Attaches a PhyControlInfo to the frame which will cause it to be sent at basicBitrate not bitrate (e.g. 2Mbps instead of 11Mbps). Used with ACK, CTS, RTS.  <a href="#a90256fefdfde93f0f350a100c8b94eda"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Initialization functions</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a71351c92bb5234f62edb24b1a0f1f1b7">numInitStages</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialization of the module and its variables.  <a href="#a71351c92bb5234f62edb24b1a0f1f1b7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize</a> (int)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialization of the module and some variables.  <a href="#acc89ca1fc93ad17f2a78a01bd474f058"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a306f0e039efc2ede2e2e209bf02f7b1a">registerInterface</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a76503451f2ddc57bec7426c3f9f919ca">initializeQueueModule</a> ()</td></tr>
<tr><td colspan="2"><div class="groupHeader">Message handing functions</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Functions called from other classes to notify about state changes and to handle messages. </p>
</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a3c6164232e8645bbbef5d178d78fd8c4">receiveChangeNotification</a> (int category, const cPolymorphic *details)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by the <a class="el" href="class_notification_board.html">NotificationBoard</a> whenever a change occurs we're interested in.  <a href="#a3c6164232e8645bbbef5d178d78fd8c4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#aedaaf3e337f2d4a0790dbe392ac9f481">handleCommand</a> (cMessage *msg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle commands (msg kind+control info) coming from upper layers.  <a href="#aedaaf3e337f2d4a0790dbe392ac9f481"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a9c4e21cc98783e53810b622e0c6deda2">handleSelfMsg</a> (cMessage *msg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle timer self messages.  <a href="#a9c4e21cc98783e53810b622e0c6deda2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a3c78df80f39331fe0c35a19b2a991714">handleUpperMsg</a> (cPacket *msg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle messages from upper layer.  <a href="#a3c78df80f39331fe0c35a19b2a991714"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#af163e249ed0577fb5027e3e9cf54d6a5">handleLowerMsg</a> (cPacket *msg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle messages from lower (physical) layer.  <a href="#af163e249ed0577fb5027e3e9cf54d6a5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM</a> (cMessage *msg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle all kinds of messages and notifications with the state machine.  <a href="#aa95e52e25b2792fb62dd4d758cac72a2"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Timing functions</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Calculate various timings based on transmission rate and physical layer charactersitics. </p>
</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual simtime_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a502179f9e3503763304b8f3fd4ba32fa">getSIFS</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual simtime_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#ace75d97f719d23cab2bf582ab26d083e">getSlotTime</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual simtime_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a0f34064c34a1e6bc53832280a95e8fbc">getDIFS</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual simtime_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a87bec8aaae96a4fe5d70816d48477183">getEIFS</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual simtime_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a8aee694a3627cb27994c0b29bc4c0d1f">getPIFS</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual simtime_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#ab34517c360aa546041515d97c354dd43">computeBackoffPeriod</a> (Ieee80211Frame *msg, int r)</td></tr>
<tr><td colspan="2"><div class="groupHeader">Timer functions</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>These functions have the side effect of starting the corresponding timers. </p>
</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a325e59dc74a3ad59596933aaf96012a7">scheduleSIFSPeriod</a> (Ieee80211Frame *frame)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a84bd3147b655f8396f37926fe34a17ad">scheduleDIFSPeriod</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a1427f98783abfa545523111cd3f209bb">cancelDIFSPeriod</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#ab699599e2dc2ffb747a9a7ae8a8f98e8">scheduleDataTimeoutPeriod</a> (Ieee80211DataOrMgmtFrame *frame)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#ae49ff307323745c607aa72ddbd8eefcd">scheduleBroadcastTimeoutPeriod</a> (Ieee80211DataOrMgmtFrame *frame)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a9a3d534aa427c8ec65713ad1f3e0e223">cancelTimeoutPeriod</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a916864ac7a266c8fdf466a185c3a68dc">scheduleCTSTimeoutPeriod</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a21662171dd8c6356df3c8b050d7c9414">scheduleReservePeriod</a> (Ieee80211Frame *frame)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedule network allocation period according to 9.2.5.4.  <a href="#a21662171dd8c6356df3c8b050d7c9414"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a45baf5991b010588132ecfea105a17b0">invalidateBackoffPeriod</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a new backoff period based on the contention window.  <a href="#a45baf5991b010588132ecfea105a17b0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#ac0b29b4f8c930e44e5dd062b79e394c0">isInvalidBackoffPeriod</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#adb7349369b15dc3f966da2b8a7b8d0d0">generateBackoffPeriod</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#accd0c207251e64841e545a538a0d5e13">decreaseBackoffPeriod</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a4ea47166959fb7622be67011d131d8f5">scheduleBackoffPeriod</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a80a6ffa55936b6ee00a09c45cf82aaf0">cancelBackoffPeriod</a> ()</td></tr>
<tr><td colspan="2"><div class="groupHeader">Frame transmission functions</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a1fa778f58e945ac0b347dfa66785224b">sendACKFrameOnEndSIFS</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a0afcec3ebbe4fac7c63ac32937604540">sendACKFrame</a> (Ieee80211DataOrMgmtFrame *frame)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#abe3eb2e0a57570ce0f786da221090924">sendRTSFrame</a> (Ieee80211DataOrMgmtFrame *frameToSend)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a821d34cb04fd6ebd9b0d6989b963614d">sendCTSFrameOnEndSIFS</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a910622485a5816a5a5475858871bbbdc">sendCTSFrame</a> (Ieee80211RTSFrame *rtsFrame)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a535d6bc217f1cfc210fe798c3b89a114">sendDataFrameOnEndSIFS</a> (Ieee80211DataOrMgmtFrame *frameToSend)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a3283d9bfc1d01d05dc65887e6f0e8518">sendDataFrame</a> (Ieee80211DataOrMgmtFrame *frameToSend)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a39720691a045c98037ec4025b9ab5207">sendBroadcastFrame</a> (Ieee80211DataOrMgmtFrame *frameToSend)</td></tr>
<tr><td colspan="2"><div class="groupHeader">Frame builder functions</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual Ieee80211DataOrMgmtFrame *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a5806d200b6dc0abcd87732edb240479e">buildDataFrame</a> (Ieee80211DataOrMgmtFrame *frameToSend)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual Ieee80211ACKFrame *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a7eab1962fd94c95151d62e3fb71253e0">buildACKFrame</a> (Ieee80211DataOrMgmtFrame *frameToACK)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual Ieee80211RTSFrame *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#aec5d4575e8b8f4339815208c394f86cc">buildRTSFrame</a> (Ieee80211DataOrMgmtFrame *frameToSend)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual Ieee80211CTSFrame *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#aaea047b56dcec7dc99d9681138c1f719">buildCTSFrame</a> (Ieee80211RTSFrame *rtsFrame)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual Ieee80211DataOrMgmtFrame *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a8213d9fea4bc9500dfe899ee70d2789e">buildBroadcastFrame</a> (Ieee80211DataOrMgmtFrame *frameToSend)</td></tr>
<tr><td colspan="2"><div class="groupHeader">Utility functions</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#ae7e7f22c4c76ac7be8ffff853cbf7503">finishCurrentTransmission</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a793227beb883e6f0f0b5c993aa6b7f56">giveUpCurrentTransmission</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a1140ac3364f8defb6d66deb76af9d55e">retryCurrentTransmission</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#af24a75754986f091cf9b5e6987bb7bf3">sendDownPendingRadioConfigMsg</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send down the change channel message to the physical layer if there is any.  <a href="#af24a75754986f091cf9b5e6987bb7bf3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a030408679db4d3c498bf79032baa4618">setMode</a> (<a class="el" href="class_ieee80211_mac.html#acc067e4a0585c9fbac4ce009e2ed03ca">Mode</a> <a class="el" href="class_ieee80211_mac.html#a4d34e2aa99b6fd38ef07005d8cc7be99">mode</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the current MAC operation mode.  <a href="#a030408679db4d3c498bf79032baa4618"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual Ieee80211DataOrMgmtFrame *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a85bc4ee88b4123a9b38d42cbf6af8e43">getCurrentTransmission</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current frame being transmitted.  <a href="#a85bc4ee88b4123a9b38d42cbf6af8e43"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#ace0608e9ca57414b54817d04b184b120">resetStateVariables</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset backoff, backoffPeriod and retryCounter for IDLE state.  <a href="#ace0608e9ca57414b54817d04b184b120"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#adf18b82f7ec2838535e84fba8ef43f3e">isMediumStateChange</a> (cMessage *msg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Used by the state machine to identify medium state change events. This message is currently optimized away and not sent through the kernel.  <a href="#adf18b82f7ec2838535e84fba8ef43f3e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#aa4550d6a69c5e5a56d2a72ac0dc86729">isMediumFree</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells if the medium is free according to the physical and virtual carrier sense algorithm.  <a href="#aa4550d6a69c5e5a56d2a72ac0dc86729"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a3e8e21090db18d0cc4596af8588346c9">isBroadcast</a> (Ieee80211Frame *msg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if message is a broadcast message.  <a href="#a3e8e21090db18d0cc4596af8588346c9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a6a44f63a391702d7e31078eae7fe453b">isForUs</a> (Ieee80211Frame *msg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if message destination address is ours.  <a href="#a6a44f63a391702d7e31078eae7fe453b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a331f759ba45d0d363362dce7d1b9f9b0">isDataOrMgmtFrame</a> (Ieee80211Frame *frame)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the frame is a data or management frame.  <a href="#a331f759ba45d0d363362dce7d1b9f9b0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual Ieee80211Frame *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a3ae0423bce927f7db18f55a88e44e20a">getFrameReceivedBeforeSIFS</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the last frame received before the SIFS period.  <a href="#a3ae0423bce927f7db18f55a88e44e20a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#af9ffa2b13e0336e9cc15334dea0122da">popTransmissionQueue</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes frame at the front of queue.  <a href="#af9ffa2b13e0336e9cc15334dea0122da"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a938984c4144284ab225e087b6789ce71">computeFrameDuration</a> (Ieee80211Frame *msg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the duration (in seconds) of the transmission of a frame over the physical channel. 'bits' should be the total length of the MAC frame in bits, but excluding the physical layer framing (preamble etc.)  <a href="#a938984c4144284ab225e087b6789ce71"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a38e18309549f34d7b355c1b1f4aab298">computeFrameDuration</a> (int bits, double <a class="el" href="class_ieee80211_mac.html#a1a66661cea11c9b2bcf69076d85b70c3">bitrate</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a0cae572eab527e836aadae2ef9df5b3d">logState</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs all state information.  <a href="#a0cae572eab527e836aadae2ef9df5b3d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#ad717066cb5cc83f789b4abbe28d311d7">modeName</a> (int <a class="el" href="class_ieee80211_mac.html#a4d34e2aa99b6fd38ef07005d8cc7be99">mode</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Produce a readable name of the given MAC operation mode.  <a href="#ad717066cb5cc83f789b4abbe28d311d7"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Timer messages</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a72b8ec2bcb1b505a709eab0ff96799dc">endSIFS</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a5bec0576b30d76fcb7f6546a83e6194a">endDIFS</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a82794398a43a1d936ba16d893871e0e2">endBackoff</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a27bd612a3164002020b5c315fb096f79">endTimeout</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a0f69601950c961a483e33c1455390f9a">endReserve</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#add8e4e32b5dc5f2e4960563eb457ed40">mediumStateChange</a></td></tr>
<tr><td colspan="2"><div class="groupHeader">Statistics</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a5a3258861ee26e78b2378160233ae6f5">numRetry</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a6c4930c1fd531fe421935816d8856443">numSentWithoutRetry</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#aea9e86c3d8f9db03a6a9dcab0bd36df7">numGivenUp</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a7cde61a60a0ba921bec433b5d1113c84">numCollision</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a5451e3e610dca607187e39f176d91120">numSent</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a44149d10cf8b6f6b1f906d68d2157714">numReceived</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#aa6376b24ff26d3f78706f5b8656c3167">numSentBroadcast</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#af5839182df73e2f63a767d1927a5ac16">numReceivedBroadcast</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cOutVector&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a784de8a16601c48f1f792adc9a35c321">stateVector</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cOutVector&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a84539589b7715d29c69d1191a521f45b">radioStateVector</a></td></tr>
<tr><td colspan="2"><h2><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef std::list<br class="typebreak"/>
&lt; Ieee80211DataOrMgmtFrame * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a79de4fc04e68ba3e7154437b1b6bf6de">Ieee80211DataOrMgmtFrameList</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef std::list<br class="typebreak"/>
&lt; <a class="el" href="struct_ieee80211_mac_1_1_ieee80211_a_s_f_tuple.html">Ieee80211ASFTuple</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a58735d5a5662d92c0dd3246a4e8ffbeb">Ieee80211ASFTupleList</a></td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
Configuration parameters</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp3a80e1e29c96d0837b12aef65785a41a"></a> These are filled in during the initialization phase and not supposed to change afterwards. </p>
</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_m_a_c_address.html">MACAddress</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a3c12af5380d900067de2346248e5fc57">address</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a1a66661cea11c9b2bcf69076d85b70c3">bitrate</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a1bb21c978ee1dced3878113908a6cc56">basicBitrate</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a06b55f6481683d64db13605b27b9537a">maxQueueSize</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a1bb03a4c3ab2056a1a3d9cab41388613">rtsThreshold</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a7ef4f6b331003c2e2054428fa4534bd9">transmissionLimit</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a620e6bf7dd85045ca5f65164a47e1cfd">cwMinData</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a189e3641d647b4d4c506e709a0873467">cwMinBroadcast</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#af6a8a67f828409cf76bf3c3f0fd6d35b">fragmentationThreshold</a> = 2346</td></tr>
<tr><td colspan="2"><h2><a name="member-group"></a>
Ieee80211Mac state variables</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp6bf329588e375996247de73bbda4d7b2"></a> Various state information checked and modified according to the state machine. </p>
</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020da">State</a> { <br/>
&#160;&#160;<a class="el" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daae7e75316d129fb411aa5a21ff03ddec5">IDLE</a>, 
<a class="el" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daa5c036fca4b3f1c9032358fee9fc2ab25">DEFER</a>, 
<a class="el" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daa5b19e098d83d766d41ee620e19aa2186">WAITDIFS</a>, 
<a class="el" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daaccc2ce74d000421b6504f4ea7995b708">BACKOFF</a>, 
<br/>
&#160;&#160;<a class="el" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daa3b6427c4aab59339ba051c2705a5fd70">WAITACK</a>, 
<a class="el" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daa71f935807206413912f41a57be08c5bd">WAITBROADCAST</a>, 
<a class="el" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daac1baac3a7681ac2dbfaf5f5d79e28588">WAITCTS</a>, 
<a class="el" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daafe9bbc5fc649aa20f4512da028cbbeac">WAITSIFS</a>, 
<br/>
&#160;&#160;<a class="el" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daa07c35947e7029a7277a4a23db15b0a0b">RECEIVE</a>
<br/>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#acc067e4a0585c9fbac4ce009e2ed03ca">Mode</a> { <a class="el" href="class_ieee80211_mac.html#acc067e4a0585c9fbac4ce009e2ed03caad4632a6aa23ad2c585b22a7d823fd792">DCF</a>, 
<a class="el" href="class_ieee80211_mac.html#acc067e4a0585c9fbac4ce009e2ed03caa3a0563a9327d929352635290f322e189">PCF</a>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cFSM&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a43b47b9bec83a94863108b1b3ae34bb6">fsm</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_ieee80211_mac.html#acc067e4a0585c9fbac4ce009e2ed03ca">Mode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a4d34e2aa99b6fd38ef07005d8cc7be99">mode</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a109b2d75d8fc4201674478a72bb31762">sequenceNumber</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#aae4419ab39198abdf1fc8955b07e5e20">lastReceiveFailed</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#aa21f2979d0e71025b7d7da1ae9a5e656">backoff</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a591c8f37742e3960afb1a50df3e6673f">nav</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">simtime_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a97fb235214ec97bd334dc0bcdcb94f32">backoffPeriod</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#aaf4fd54bc69d8695ebc5d1f86d4cacdd">retryCounter</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_radio_state.html#a9b2ff8c4d3f1cdb73af0a9fcea0d5449">RadioState::State</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a08443ed66fd8def7cdbce3953cb732c0">radioState</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_ieee80211_mac.html#a79de4fc04e68ba3e7154437b1b6bf6de">Ieee80211DataOrMgmtFrameList</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#ac08493c34df5189f10a3199ba60f95c4">transmissionQueue</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_ieee80211_mac.html#a58735d5a5662d92c0dd3246a4e8ffbeb">Ieee80211ASFTupleList</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#af3cf1a0d1737d69c490ef2fdf9595f3f">asfTuplesList</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_i_passive_queue.html">IPassiveQueue</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#a59cc1a59362db4fdf48b81b8e7f62d2e">queueModule</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cMessage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ieee80211_mac.html#ad747f5e3abaad56a3fb03ec39426c27e">pendingRadioConfigMsg</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>IEEE 802.11b Media Access Control Layer.</p>
<p>Various comments in the code refer to the Wireless LAN Medium Access Control (MAC) and Physical Layer(PHY) Specifications ANSI/IEEE Std 802.11, 1999 Edition (R2003)</p>
<p>For more info, see the NED file.</p>
<p>TODO: support fragmentation TODO: PCF mode TODO: CF period TODO: pass radio power to upper layer TODO: transmission complete notification to upper layer TODO: STA TCF timer syncronization, see Chapter 11 pp 123</p>
<p>Parts of the implementation have been taken over from the Mobility Framework's <a class="el" href="class_mac80211.html" title="An implementation of the 802.11b MAC.">Mac80211</a> module. </p>
</div><hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="a58735d5a5662d92c0dd3246a4e8ffbeb"></a><!-- doxytag: member="Ieee80211Mac::Ieee80211ASFTupleList" ref="a58735d5a5662d92c0dd3246a4e8ffbeb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::list&lt;<a class="el" href="struct_ieee80211_mac_1_1_ieee80211_a_s_f_tuple.html">Ieee80211ASFTuple</a>*&gt; <a class="el" href="class_ieee80211_mac.html#a58735d5a5662d92c0dd3246a4e8ffbeb">Ieee80211Mac::Ieee80211ASFTupleList</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a79de4fc04e68ba3e7154437b1b6bf6de"></a><!-- doxytag: member="Ieee80211Mac::Ieee80211DataOrMgmtFrameList" ref="a79de4fc04e68ba3e7154437b1b6bf6de" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::list&lt;Ieee80211DataOrMgmtFrame*&gt; <a class="el" href="class_ieee80211_mac.html#a79de4fc04e68ba3e7154437b1b6bf6de">Ieee80211Mac::Ieee80211DataOrMgmtFrameList</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="acc067e4a0585c9fbac4ce009e2ed03ca"></a><!-- doxytag: member="Ieee80211Mac::Mode" ref="acc067e4a0585c9fbac4ce009e2ed03ca" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="class_ieee80211_mac.html#acc067e4a0585c9fbac4ce009e2ed03ca">Ieee80211Mac::Mode</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>80211 MAC operation modes </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="acc067e4a0585c9fbac4ce009e2ed03caad4632a6aa23ad2c585b22a7d823fd792"></a><!-- doxytag: member="DCF" ref="acc067e4a0585c9fbac4ce009e2ed03caad4632a6aa23ad2c585b22a7d823fd792" args="" -->DCF</em>&nbsp;</td><td>
<p>Distributed Coordination Function. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="acc067e4a0585c9fbac4ce009e2ed03caa3a0563a9327d929352635290f322e189"></a><!-- doxytag: member="PCF" ref="acc067e4a0585c9fbac4ce009e2ed03caa3a0563a9327d929352635290f322e189" args="" -->PCF</em>&nbsp;</td><td>
<p>Point Coordination Function. </p>
</td></tr>
</table>
</dd>
</dl>
<div class="fragment"><pre class="fragment">              {
        <a class="code" href="class_ieee80211_mac.html#acc067e4a0585c9fbac4ce009e2ed03caad4632a6aa23ad2c585b22a7d823fd792" title="Distributed Coordination Function.">DCF</a>,  
        <a class="code" href="class_ieee80211_mac.html#acc067e4a0585c9fbac4ce009e2ed03caa3a0563a9327d929352635290f322e189" title="Point Coordination Function.">PCF</a>,  
    };
</pre></div>
</div>
</div>
<a class="anchor" id="a7c7e301f779c29eb446b9a06f74020da"></a><!-- doxytag: member="Ieee80211Mac::State" ref="a7c7e301f779c29eb446b9a06f74020da" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020da">Ieee80211Mac::State</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>the 80211 MAC state machine </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a7c7e301f779c29eb446b9a06f74020daae7e75316d129fb411aa5a21ff03ddec5"></a><!-- doxytag: member="IDLE" ref="a7c7e301f779c29eb446b9a06f74020daae7e75316d129fb411aa5a21ff03ddec5" args="" -->IDLE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a7c7e301f779c29eb446b9a06f74020daa5c036fca4b3f1c9032358fee9fc2ab25"></a><!-- doxytag: member="DEFER" ref="a7c7e301f779c29eb446b9a06f74020daa5c036fca4b3f1c9032358fee9fc2ab25" args="" -->DEFER</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a7c7e301f779c29eb446b9a06f74020daa5b19e098d83d766d41ee620e19aa2186"></a><!-- doxytag: member="WAITDIFS" ref="a7c7e301f779c29eb446b9a06f74020daa5b19e098d83d766d41ee620e19aa2186" args="" -->WAITDIFS</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a7c7e301f779c29eb446b9a06f74020daaccc2ce74d000421b6504f4ea7995b708"></a><!-- doxytag: member="BACKOFF" ref="a7c7e301f779c29eb446b9a06f74020daaccc2ce74d000421b6504f4ea7995b708" args="" -->BACKOFF</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a7c7e301f779c29eb446b9a06f74020daa3b6427c4aab59339ba051c2705a5fd70"></a><!-- doxytag: member="WAITACK" ref="a7c7e301f779c29eb446b9a06f74020daa3b6427c4aab59339ba051c2705a5fd70" args="" -->WAITACK</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a7c7e301f779c29eb446b9a06f74020daa71f935807206413912f41a57be08c5bd"></a><!-- doxytag: member="WAITBROADCAST" ref="a7c7e301f779c29eb446b9a06f74020daa71f935807206413912f41a57be08c5bd" args="" -->WAITBROADCAST</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a7c7e301f779c29eb446b9a06f74020daac1baac3a7681ac2dbfaf5f5d79e28588"></a><!-- doxytag: member="WAITCTS" ref="a7c7e301f779c29eb446b9a06f74020daac1baac3a7681ac2dbfaf5f5d79e28588" args="" -->WAITCTS</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a7c7e301f779c29eb446b9a06f74020daafe9bbc5fc649aa20f4512da028cbbeac"></a><!-- doxytag: member="WAITSIFS" ref="a7c7e301f779c29eb446b9a06f74020daafe9bbc5fc649aa20f4512da028cbbeac" args="" -->WAITSIFS</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a7c7e301f779c29eb446b9a06f74020daa07c35947e7029a7277a4a23db15b0a0b"></a><!-- doxytag: member="RECEIVE" ref="a7c7e301f779c29eb446b9a06f74020daa07c35947e7029a7277a4a23db15b0a0b" args="" -->RECEIVE</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>
<div class="fragment"><pre class="fragment">               {
        <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daae7e75316d129fb411aa5a21ff03ddec5">IDLE</a>,
        <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daa5c036fca4b3f1c9032358fee9fc2ab25">DEFER</a>,
        <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daa5b19e098d83d766d41ee620e19aa2186">WAITDIFS</a>,
        <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daaccc2ce74d000421b6504f4ea7995b708">BACKOFF</a>,
        <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daa3b6427c4aab59339ba051c2705a5fd70">WAITACK</a>,
        <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daa71f935807206413912f41a57be08c5bd">WAITBROADCAST</a>,
        <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daac1baac3a7681ac2dbfaf5f5d79e28588">WAITCTS</a>,
        <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daafe9bbc5fc649aa20f4512da028cbbeac">WAITSIFS</a>,
        <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daa07c35947e7029a7277a4a23db15b0a0b">RECEIVE</a>,
    };
</pre></div>
</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a34230eadfc933351daa3921147113e67"></a><!-- doxytag: member="Ieee80211Mac::Ieee80211Mac" ref="a34230eadfc933351daa3921147113e67" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Ieee80211Mac::Ieee80211Mac </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_ieee80211_mac.html#a72b8ec2bcb1b505a709eab0ff96799dc">endSIFS</a> = NULL;
    <a class="code" href="class_ieee80211_mac.html#a5bec0576b30d76fcb7f6546a83e6194a">endDIFS</a> = NULL;
    <a class="code" href="class_ieee80211_mac.html#a82794398a43a1d936ba16d893871e0e2">endBackoff</a> = NULL;
    <a class="code" href="class_ieee80211_mac.html#a27bd612a3164002020b5c315fb096f79">endTimeout</a> = NULL;
    <a class="code" href="class_ieee80211_mac.html#a0f69601950c961a483e33c1455390f9a">endReserve</a> = NULL;
    <a class="code" href="class_ieee80211_mac.html#add8e4e32b5dc5f2e4960563eb457ed40">mediumStateChange</a> = NULL;
    <a class="code" href="class_ieee80211_mac.html#ad747f5e3abaad56a3fb03ec39426c27e">pendingRadioConfigMsg</a> = NULL;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5996f42ab538115f55c7f74121276f09"></a><!-- doxytag: member="Ieee80211Mac::~Ieee80211Mac" ref="a5996f42ab538115f55c7f74121276f09" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Ieee80211Mac::~Ieee80211Mac </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">{
    cancelAndDelete(<a class="code" href="class_ieee80211_mac.html#a72b8ec2bcb1b505a709eab0ff96799dc">endSIFS</a>);
    cancelAndDelete(<a class="code" href="class_ieee80211_mac.html#a5bec0576b30d76fcb7f6546a83e6194a">endDIFS</a>);
    cancelAndDelete(<a class="code" href="class_ieee80211_mac.html#a82794398a43a1d936ba16d893871e0e2">endBackoff</a>);
    cancelAndDelete(<a class="code" href="class_ieee80211_mac.html#a27bd612a3164002020b5c315fb096f79">endTimeout</a>);
    cancelAndDelete(<a class="code" href="class_ieee80211_mac.html#a0f69601950c961a483e33c1455390f9a">endReserve</a>);
    cancelAndDelete(<a class="code" href="class_ieee80211_mac.html#add8e4e32b5dc5f2e4960563eb457ed40">mediumStateChange</a>);

    <span class="keywordflow">if</span> (<a class="code" href="class_ieee80211_mac.html#ad747f5e3abaad56a3fb03ec39426c27e">pendingRadioConfigMsg</a>)
        <span class="keyword">delete</span> <a class="code" href="class_ieee80211_mac.html#ad747f5e3abaad56a3fb03ec39426c27e">pendingRadioConfigMsg</a>;
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a7eab1962fd94c95151d62e3fb71253e0"></a><!-- doxytag: member="Ieee80211Mac::buildACKFrame" ref="a7eab1962fd94c95151d62e3fb71253e0" args="(Ieee80211DataOrMgmtFrame *frameToACK)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Ieee80211ACKFrame * Ieee80211Mac::buildACKFrame </td>
          <td>(</td>
          <td class="paramtype">Ieee80211DataOrMgmtFrame *&#160;</td>
          <td class="paramname"><em>frameToACK</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#a0afcec3ebbe4fac7c63ac32937604540">sendACKFrame()</a>.</p>
<div class="fragment"><pre class="fragment">{
    Ieee80211ACKFrame *frame = <span class="keyword">new</span> Ieee80211ACKFrame(<span class="stringliteral">&quot;wlan-ack&quot;</span>);
    frame-&gt;setReceiverAddress(frameToACK-&gt;getTransmitterAddress());

    <span class="keywordflow">if</span> (!frameToACK-&gt;getMoreFragments())
        frame-&gt;setDuration(0);
    <span class="keywordflow">else</span>
        frame-&gt;setDuration(frameToACK-&gt;getDuration() - <a class="code" href="class_ieee80211_mac.html#a502179f9e3503763304b8f3fd4ba32fa">getSIFS</a>() - <a class="code" href="class_ieee80211_mac.html#a938984c4144284ab225e087b6789ce71" title="Computes the duration (in seconds) of the transmission of a frame over the physical channel...">computeFrameDuration</a>(<a class="code" href="_ieee80211_consts_8h.html#a91dfe4eeae95a6cf191fe0cfddeac182">LENGTH_ACK</a>, <a class="code" href="class_ieee80211_mac.html#a1bb21c978ee1dced3878113908a6cc56">basicBitrate</a>));

    <span class="keywordflow">return</span> frame;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8213d9fea4bc9500dfe899ee70d2789e"></a><!-- doxytag: member="Ieee80211Mac::buildBroadcastFrame" ref="a8213d9fea4bc9500dfe899ee70d2789e" args="(Ieee80211DataOrMgmtFrame *frameToSend)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Ieee80211DataOrMgmtFrame * Ieee80211Mac::buildBroadcastFrame </td>
          <td>(</td>
          <td class="paramtype">Ieee80211DataOrMgmtFrame *&#160;</td>
          <td class="paramname"><em>frameToSend</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#a39720691a045c98037ec4025b9ab5207">sendBroadcastFrame()</a>.</p>
<div class="fragment"><pre class="fragment">{
    Ieee80211DataOrMgmtFrame *frame = (Ieee80211DataOrMgmtFrame *)frameToSend-&gt;dup();
    frame-&gt;setDuration(0);
    <span class="keywordflow">return</span> frame;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aaea047b56dcec7dc99d9681138c1f719"></a><!-- doxytag: member="Ieee80211Mac::buildCTSFrame" ref="aaea047b56dcec7dc99d9681138c1f719" args="(Ieee80211RTSFrame *rtsFrame)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Ieee80211CTSFrame * Ieee80211Mac::buildCTSFrame </td>
          <td>(</td>
          <td class="paramtype">Ieee80211RTSFrame *&#160;</td>
          <td class="paramname"><em>rtsFrame</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#a910622485a5816a5a5475858871bbbdc">sendCTSFrame()</a>.</p>
<div class="fragment"><pre class="fragment">{
    Ieee80211CTSFrame *frame = <span class="keyword">new</span> Ieee80211CTSFrame(<span class="stringliteral">&quot;wlan-cts&quot;</span>);
    frame-&gt;setReceiverAddress(rtsFrame-&gt;getTransmitterAddress());
    frame-&gt;setDuration(rtsFrame-&gt;getDuration() - <a class="code" href="class_ieee80211_mac.html#a502179f9e3503763304b8f3fd4ba32fa">getSIFS</a>() - <a class="code" href="class_ieee80211_mac.html#a938984c4144284ab225e087b6789ce71" title="Computes the duration (in seconds) of the transmission of a frame over the physical channel...">computeFrameDuration</a>(<a class="code" href="_ieee80211_consts_8h.html#a615c2db16153273956d34e0a7b4a46cf">LENGTH_CTS</a>, <a class="code" href="class_ieee80211_mac.html#a1bb21c978ee1dced3878113908a6cc56">basicBitrate</a>));

    <span class="keywordflow">return</span> frame;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5806d200b6dc0abcd87732edb240479e"></a><!-- doxytag: member="Ieee80211Mac::buildDataFrame" ref="a5806d200b6dc0abcd87732edb240479e" args="(Ieee80211DataOrMgmtFrame *frameToSend)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Ieee80211DataOrMgmtFrame * Ieee80211Mac::buildDataFrame </td>
          <td>(</td>
          <td class="paramtype">Ieee80211DataOrMgmtFrame *&#160;</td>
          <td class="paramname"><em>frameToSend</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#a3283d9bfc1d01d05dc65887e6f0e8518">sendDataFrame()</a>.</p>
<div class="fragment"><pre class="fragment">{
    Ieee80211DataOrMgmtFrame *frame = (Ieee80211DataOrMgmtFrame *)frameToSend-&gt;dup();

    <span class="keywordflow">if</span> (<a class="code" href="class_ieee80211_mac.html#a3e8e21090db18d0cc4596af8588346c9" title="Returns true if message is a broadcast message.">isBroadcast</a>(frameToSend))
        frame-&gt;setDuration(0);
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!frameToSend-&gt;getMoreFragments())
        frame-&gt;setDuration(<a class="code" href="class_ieee80211_mac.html#a502179f9e3503763304b8f3fd4ba32fa">getSIFS</a>() + <a class="code" href="class_ieee80211_mac.html#a938984c4144284ab225e087b6789ce71" title="Computes the duration (in seconds) of the transmission of a frame over the physical channel...">computeFrameDuration</a>(<a class="code" href="_ieee80211_consts_8h.html#a91dfe4eeae95a6cf191fe0cfddeac182">LENGTH_ACK</a>, <a class="code" href="class_ieee80211_mac.html#a1bb21c978ee1dced3878113908a6cc56">basicBitrate</a>));
    <span class="keywordflow">else</span>
        <span class="comment">// FIXME: shouldn&#39;t we use the next frame to be sent?</span>
        frame-&gt;setDuration(3 * <a class="code" href="class_ieee80211_mac.html#a502179f9e3503763304b8f3fd4ba32fa">getSIFS</a>() + 2 * <a class="code" href="class_ieee80211_mac.html#a938984c4144284ab225e087b6789ce71" title="Computes the duration (in seconds) of the transmission of a frame over the physical channel...">computeFrameDuration</a>(<a class="code" href="_ieee80211_consts_8h.html#a91dfe4eeae95a6cf191fe0cfddeac182">LENGTH_ACK</a>, <a class="code" href="class_ieee80211_mac.html#a1bb21c978ee1dced3878113908a6cc56">basicBitrate</a>) + <a class="code" href="class_ieee80211_mac.html#a938984c4144284ab225e087b6789ce71" title="Computes the duration (in seconds) of the transmission of a frame over the physical channel...">computeFrameDuration</a>(frameToSend));

    <span class="keywordflow">return</span> frame;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aec5d4575e8b8f4339815208c394f86cc"></a><!-- doxytag: member="Ieee80211Mac::buildRTSFrame" ref="aec5d4575e8b8f4339815208c394f86cc" args="(Ieee80211DataOrMgmtFrame *frameToSend)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Ieee80211RTSFrame * Ieee80211Mac::buildRTSFrame </td>
          <td>(</td>
          <td class="paramtype">Ieee80211DataOrMgmtFrame *&#160;</td>
          <td class="paramname"><em>frameToSend</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#abe3eb2e0a57570ce0f786da221090924">sendRTSFrame()</a>.</p>
<div class="fragment"><pre class="fragment">{
    Ieee80211RTSFrame *frame = <span class="keyword">new</span> Ieee80211RTSFrame(<span class="stringliteral">&quot;wlan-rts&quot;</span>);
    frame-&gt;setTransmitterAddress(<a class="code" href="class_ieee80211_mac.html#a3c12af5380d900067de2346248e5fc57">address</a>);
    frame-&gt;setReceiverAddress(frameToSend-&gt;getReceiverAddress());
    frame-&gt;setDuration(3 * <a class="code" href="class_ieee80211_mac.html#a502179f9e3503763304b8f3fd4ba32fa">getSIFS</a>() + <a class="code" href="class_ieee80211_mac.html#a938984c4144284ab225e087b6789ce71" title="Computes the duration (in seconds) of the transmission of a frame over the physical channel...">computeFrameDuration</a>(<a class="code" href="_ieee80211_consts_8h.html#a615c2db16153273956d34e0a7b4a46cf">LENGTH_CTS</a>, <a class="code" href="class_ieee80211_mac.html#a1bb21c978ee1dced3878113908a6cc56">basicBitrate</a>) +
                       <a class="code" href="class_ieee80211_mac.html#a938984c4144284ab225e087b6789ce71" title="Computes the duration (in seconds) of the transmission of a frame over the physical channel...">computeFrameDuration</a>(frameToSend) +
                       <a class="code" href="class_ieee80211_mac.html#a938984c4144284ab225e087b6789ce71" title="Computes the duration (in seconds) of the transmission of a frame over the physical channel...">computeFrameDuration</a>(<a class="code" href="_ieee80211_consts_8h.html#a91dfe4eeae95a6cf191fe0cfddeac182">LENGTH_ACK</a>, <a class="code" href="class_ieee80211_mac.html#a1bb21c978ee1dced3878113908a6cc56">basicBitrate</a>));

    <span class="keywordflow">return</span> frame;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a80a6ffa55936b6ee00a09c45cf82aaf0"></a><!-- doxytag: member="Ieee80211Mac::cancelBackoffPeriod" ref="a80a6ffa55936b6ee00a09c45cf82aaf0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::cancelBackoffPeriod </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;cancelling Backoff period\n&quot;</span>;
    cancelEvent(<a class="code" href="class_ieee80211_mac.html#a82794398a43a1d936ba16d893871e0e2">endBackoff</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1427f98783abfa545523111cd3f209bb"></a><!-- doxytag: member="Ieee80211Mac::cancelDIFSPeriod" ref="a1427f98783abfa545523111cd3f209bb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::cancelDIFSPeriod </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;cancelling DIFS period\n&quot;</span>;
    cancelEvent(<a class="code" href="class_ieee80211_mac.html#a5bec0576b30d76fcb7f6546a83e6194a">endDIFS</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9a3d534aa427c8ec65713ad1f3e0e223"></a><!-- doxytag: member="Ieee80211Mac::cancelTimeoutPeriod" ref="a9a3d534aa427c8ec65713ad1f3e0e223" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::cancelTimeoutPeriod </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;cancelling timeout period\n&quot;</span>;
    cancelEvent(<a class="code" href="class_ieee80211_mac.html#a27bd612a3164002020b5c315fb096f79">endTimeout</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab34517c360aa546041515d97c354dd43"></a><!-- doxytag: member="Ieee80211Mac::computeBackoffPeriod" ref="ab34517c360aa546041515d97c354dd43" args="(Ieee80211Frame *msg, int r)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t Ieee80211Mac::computeBackoffPeriod </td>
          <td>(</td>
          <td class="paramtype">Ieee80211Frame *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#adb7349369b15dc3f966da2b8a7b8d0d0">generateBackoffPeriod()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">int</span> cw;

    <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;generating backoff slot number for retry: &quot;</span> &lt;&lt; r &lt;&lt; endl;

    <span class="keywordflow">if</span> (<a class="code" href="class_ieee80211_mac.html#a3e8e21090db18d0cc4596af8588346c9" title="Returns true if message is a broadcast message.">isBroadcast</a>(msg))
        cw = <a class="code" href="class_ieee80211_mac.html#a189e3641d647b4d4c506e709a0873467">cwMinBroadcast</a>;
    <span class="keywordflow">else</span>
    {
        ASSERT(0 &lt;= r &amp;&amp; r &lt; <a class="code" href="class_ieee80211_mac.html#a7ef4f6b331003c2e2054428fa4534bd9">transmissionLimit</a>);

        cw = (<a class="code" href="class_ieee80211_mac.html#a620e6bf7dd85045ca5f65164a47e1cfd">cwMinData</a> + 1) * (1 &lt;&lt; r) - 1;

        <span class="keywordflow">if</span> (cw &gt; <a class="code" href="_ieee80211_consts_8h.html#a785c5f49538e2a36c5d3b31253740014">CW_MAX</a>)
            cw = <a class="code" href="_ieee80211_consts_8h.html#a785c5f49538e2a36c5d3b31253740014">CW_MAX</a>;
    }

    <span class="keywordtype">int</span> c = intrand(cw + 1);

    <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;generated backoff slot number: &quot;</span> &lt;&lt; c &lt;&lt; <span class="stringliteral">&quot; , cw: &quot;</span> &lt;&lt; cw &lt;&lt; endl;

    <span class="keywordflow">return</span> ((<span class="keywordtype">double</span>)c) * <a class="code" href="class_ieee80211_mac.html#ace75d97f719d23cab2bf582ab26d083e">getSlotTime</a>();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a938984c4144284ab225e087b6789ce71"></a><!-- doxytag: member="Ieee80211Mac::computeFrameDuration" ref="a938984c4144284ab225e087b6789ce71" args="(Ieee80211Frame *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double Ieee80211Mac::computeFrameDuration </td>
          <td>(</td>
          <td class="paramtype">Ieee80211Frame *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Computes the duration (in seconds) of the transmission of a frame over the physical channel. 'bits' should be the total length of the MAC frame in bits, but excluding the physical layer framing (preamble etc.) </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#a7eab1962fd94c95151d62e3fb71253e0">buildACKFrame()</a>, <a class="el" href="class_ieee80211_mac.html#aaea047b56dcec7dc99d9681138c1f719">buildCTSFrame()</a>, <a class="el" href="class_ieee80211_mac.html#a5806d200b6dc0abcd87732edb240479e">buildDataFrame()</a>, <a class="el" href="class_ieee80211_mac.html#aec5d4575e8b8f4339815208c394f86cc">buildRTSFrame()</a>, <a class="el" href="class_ieee80211_mac.html#ae49ff307323745c607aa72ddbd8eefcd">scheduleBroadcastTimeoutPeriod()</a>, <a class="el" href="class_ieee80211_mac.html#a916864ac7a266c8fdf466a185c3a68dc">scheduleCTSTimeoutPeriod()</a>, and <a class="el" href="class_ieee80211_mac.html#ab699599e2dc2ffb747a9a7ae8a8f98e8">scheduleDataTimeoutPeriod()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="class_ieee80211_mac.html#a938984c4144284ab225e087b6789ce71" title="Computes the duration (in seconds) of the transmission of a frame over the physical channel...">computeFrameDuration</a>(msg-&gt;getBitLength(), <a class="code" href="class_ieee80211_mac.html#a1a66661cea11c9b2bcf69076d85b70c3">bitrate</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a38e18309549f34d7b355c1b1f4aab298"></a><!-- doxytag: member="Ieee80211Mac::computeFrameDuration" ref="a38e18309549f34d7b355c1b1f4aab298" args="(int bits, double bitrate)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double Ieee80211Mac::computeFrameDuration </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>bitrate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> bits / <a class="code" href="class_ieee80211_mac.html#a1a66661cea11c9b2bcf69076d85b70c3">bitrate</a> + <a class="code" href="_ieee80211_consts_8h.html#a0ecba1599d2ee7a3f33cf1970abdb90a">PHY_HEADER_LENGTH</a> / <a class="code" href="_ieee80211_consts_8h.html#a0454abde1a622bc79c2528d728e466ef">BITRATE_HEADER</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="accd0c207251e64841e545a538a0d5e13"></a><!-- doxytag: member="Ieee80211Mac::decreaseBackoffPeriod" ref="accd0c207251e64841e545a538a0d5e13" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::decreaseBackoffPeriod </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// see spec 9.2.5.2</span>
    simtime_t elapsedBackoffTime = simTime() - <a class="code" href="class_ieee80211_mac.html#a82794398a43a1d936ba16d893871e0e2">endBackoff</a>-&gt;getSendingTime();
    <a class="code" href="class_ieee80211_mac.html#a97fb235214ec97bd334dc0bcdcb94f32">backoffPeriod</a> -= ((int)(elapsedBackoffTime / <a class="code" href="class_ieee80211_mac.html#ace75d97f719d23cab2bf582ab26d083e">getSlotTime</a>())) * <a class="code" href="class_ieee80211_mac.html#ace75d97f719d23cab2bf582ab26d083e">getSlotTime</a>();
    ASSERT(<a class="code" href="class_ieee80211_mac.html#a97fb235214ec97bd334dc0bcdcb94f32">backoffPeriod</a> &gt;= 0);
    <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;backoff period decreased to &quot;</span> &lt;&lt; <a class="code" href="class_ieee80211_mac.html#a97fb235214ec97bd334dc0bcdcb94f32">backoffPeriod</a> &lt;&lt; endl;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae7e7f22c4c76ac7be8ffff853cbf7503"></a><!-- doxytag: member="Ieee80211Mac::finishCurrentTransmission" ref="ae7e7f22c4c76ac7be8ffff853cbf7503" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::finishCurrentTransmission </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_ieee80211_mac.html#af9ffa2b13e0336e9cc15334dea0122da" title="Deletes frame at the front of queue.">popTransmissionQueue</a>();
    <a class="code" href="class_ieee80211_mac.html#ace0608e9ca57414b54817d04b184b120" title="Reset backoff, backoffPeriod and retryCounter for IDLE state.">resetStateVariables</a>();
}
</pre></div>
</div>
</div>
<a class="anchor" id="adb7349369b15dc3f966da2b8a7b8d0d0"></a><!-- doxytag: member="Ieee80211Mac::generateBackoffPeriod" ref="adb7349369b15dc3f966da2b8a7b8d0d0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::generateBackoffPeriod </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>, and <a class="el" href="class_ieee80211_mac.html#a1140ac3364f8defb6d66deb76af9d55e">retryCurrentTransmission()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_ieee80211_mac.html#a97fb235214ec97bd334dc0bcdcb94f32">backoffPeriod</a> = <a class="code" href="class_ieee80211_mac.html#ab34517c360aa546041515d97c354dd43">computeBackoffPeriod</a>(<a class="code" href="class_ieee80211_mac.html#a85bc4ee88b4123a9b38d42cbf6af8e43" title="Returns the current frame being transmitted.">getCurrentTransmission</a>(), <a class="code" href="class_ieee80211_mac.html#aaf4fd54bc69d8695ebc5d1f86d4cacdd">retryCounter</a>);
    ASSERT(<a class="code" href="class_ieee80211_mac.html#a97fb235214ec97bd334dc0bcdcb94f32">backoffPeriod</a> &gt;= 0);
    <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;backoff period set to &quot;</span> &lt;&lt; <a class="code" href="class_ieee80211_mac.html#a97fb235214ec97bd334dc0bcdcb94f32">backoffPeriod</a> &lt;&lt; endl;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a85bc4ee88b4123a9b38d42cbf6af8e43"></a><!-- doxytag: member="Ieee80211Mac::getCurrentTransmission" ref="a85bc4ee88b4123a9b38d42cbf6af8e43" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Ieee80211DataOrMgmtFrame * Ieee80211Mac::getCurrentTransmission </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the current frame being transmitted. </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#adb7349369b15dc3f966da2b8a7b8d0d0">generateBackoffPeriod()</a>, <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>, <a class="el" href="class_ieee80211_mac.html#ace0608e9ca57414b54817d04b184b120">resetStateVariables()</a>, and <a class="el" href="class_ieee80211_mac.html#a1140ac3364f8defb6d66deb76af9d55e">retryCurrentTransmission()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> (Ieee80211DataOrMgmtFrame *)<a class="code" href="class_ieee80211_mac.html#ac08493c34df5189f10a3199ba60f95c4">transmissionQueue</a>.front();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0f34064c34a1e6bc53832280a95e8fbc"></a><!-- doxytag: member="Ieee80211Mac::getDIFS" ref="a0f34064c34a1e6bc53832280a95e8fbc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t Ieee80211Mac::getDIFS </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#a87bec8aaae96a4fe5d70816d48477183">getEIFS()</a>, and <a class="el" href="class_ieee80211_mac.html#a84bd3147b655f8396f37926fe34a17ad">scheduleDIFSPeriod()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="class_ieee80211_mac.html#a502179f9e3503763304b8f3fd4ba32fa">getSIFS</a>() + 2 * <a class="code" href="class_ieee80211_mac.html#ace75d97f719d23cab2bf582ab26d083e">getSlotTime</a>();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a87bec8aaae96a4fe5d70816d48477183"></a><!-- doxytag: member="Ieee80211Mac::getEIFS" ref="a87bec8aaae96a4fe5d70816d48477183" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t Ieee80211Mac::getEIFS </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#a84bd3147b655f8396f37926fe34a17ad">scheduleDIFSPeriod()</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="comment">// FIXME:   return getSIFS() + getDIFS() + (8 * ACKSize + aPreambleLength + aPLCPHeaderLength) / lowestDatarate;</span>
    <span class="keywordflow">return</span> <a class="code" href="class_ieee80211_mac.html#a502179f9e3503763304b8f3fd4ba32fa">getSIFS</a>() + <a class="code" href="class_ieee80211_mac.html#a0f34064c34a1e6bc53832280a95e8fbc">getDIFS</a>() + (8 * <a class="code" href="_ieee80211_consts_8h.html#a91dfe4eeae95a6cf191fe0cfddeac182">LENGTH_ACK</a> + <a class="code" href="_ieee80211_consts_8h.html#a0ecba1599d2ee7a3f33cf1970abdb90a">PHY_HEADER_LENGTH</a>) / 1E+6;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3ae0423bce927f7db18f55a88e44e20a"></a><!-- doxytag: member="Ieee80211Mac::getFrameReceivedBeforeSIFS" ref="a3ae0423bce927f7db18f55a88e44e20a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Ieee80211Frame * Ieee80211Mac::getFrameReceivedBeforeSIFS </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the last frame received before the SIFS period. </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> (Ieee80211Frame *)<a class="code" href="class_ieee80211_mac.html#a72b8ec2bcb1b505a709eab0ff96799dc">endSIFS</a>-&gt;getContextPointer();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8aee694a3627cb27994c0b29bc4c0d1f"></a><!-- doxytag: member="Ieee80211Mac::getPIFS" ref="a8aee694a3627cb27994c0b29bc4c0d1f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t Ieee80211Mac::getPIFS </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="class_ieee80211_mac.html#a502179f9e3503763304b8f3fd4ba32fa">getSIFS</a>() + <a class="code" href="class_ieee80211_mac.html#ace75d97f719d23cab2bf582ab26d083e">getSlotTime</a>();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a502179f9e3503763304b8f3fd4ba32fa"></a><!-- doxytag: member="Ieee80211Mac::getSIFS" ref="a502179f9e3503763304b8f3fd4ba32fa" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t Ieee80211Mac::getSIFS </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#a7eab1962fd94c95151d62e3fb71253e0">buildACKFrame()</a>, <a class="el" href="class_ieee80211_mac.html#aaea047b56dcec7dc99d9681138c1f719">buildCTSFrame()</a>, <a class="el" href="class_ieee80211_mac.html#a5806d200b6dc0abcd87732edb240479e">buildDataFrame()</a>, <a class="el" href="class_ieee80211_mac.html#aec5d4575e8b8f4339815208c394f86cc">buildRTSFrame()</a>, <a class="el" href="class_ieee80211_mac.html#a0f34064c34a1e6bc53832280a95e8fbc">getDIFS()</a>, <a class="el" href="class_ieee80211_mac.html#a87bec8aaae96a4fe5d70816d48477183">getEIFS()</a>, <a class="el" href="class_ieee80211_mac.html#a8aee694a3627cb27994c0b29bc4c0d1f">getPIFS()</a>, <a class="el" href="class_ieee80211_mac.html#a916864ac7a266c8fdf466a185c3a68dc">scheduleCTSTimeoutPeriod()</a>, <a class="el" href="class_ieee80211_mac.html#ab699599e2dc2ffb747a9a7ae8a8f98e8">scheduleDataTimeoutPeriod()</a>, and <a class="el" href="class_ieee80211_mac.html#a325e59dc74a3ad59596933aaf96012a7">scheduleSIFSPeriod()</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="comment">// TODO:   return aRxRFDelay() + aRxPLCPDelay() + aMACProcessingDelay() + aRxTxTurnaroundTime();</span>
    <span class="keywordflow">return</span> <a class="code" href="_ieee80211_consts_8h.html#a302795c4c8b76861bfc0ca2ec2c7d171">SIFS</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ace75d97f719d23cab2bf582ab26d083e"></a><!-- doxytag: member="Ieee80211Mac::getSlotTime" ref="ace75d97f719d23cab2bf582ab26d083e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t Ieee80211Mac::getSlotTime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#ab34517c360aa546041515d97c354dd43">computeBackoffPeriod()</a>, <a class="el" href="class_ieee80211_mac.html#accd0c207251e64841e545a538a0d5e13">decreaseBackoffPeriod()</a>, <a class="el" href="class_ieee80211_mac.html#a0f34064c34a1e6bc53832280a95e8fbc">getDIFS()</a>, and <a class="el" href="class_ieee80211_mac.html#a8aee694a3627cb27994c0b29bc4c0d1f">getPIFS()</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="comment">// TODO:   return aCCATime() + aRxTxTurnaroundTime + aAirPropagationTime() + aMACProcessingDelay();</span>
    <span class="keywordflow">return</span> <a class="code" href="_ieee80211_consts_8h.html#ac168f3508b776571f17ccfaba704dd2c">ST</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a793227beb883e6f0f0b5c993aa6b7f56"></a><!-- doxytag: member="Ieee80211Mac::giveUpCurrentTransmission" ref="a793227beb883e6f0f0b5c993aa6b7f56" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::giveUpCurrentTransmission </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_ieee80211_mac.html#af9ffa2b13e0336e9cc15334dea0122da" title="Deletes frame at the front of queue.">popTransmissionQueue</a>();
    <a class="code" href="class_ieee80211_mac.html#ace0608e9ca57414b54817d04b184b120" title="Reset backoff, backoffPeriod and retryCounter for IDLE state.">resetStateVariables</a>();
    <a class="code" href="class_ieee80211_mac.html#aea9e86c3d8f9db03a6a9dcab0bd36df7">numGivenUp</a>++;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aedaaf3e337f2d4a0790dbe392ac9f481"></a><!-- doxytag: member="Ieee80211Mac::handleCommand" ref="aedaaf3e337f2d4a0790dbe392ac9f481" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::handleCommand </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handle commands (msg kind+control info) coming from upper layers. </p>

<p>Implements <a class="el" href="class_wireless_mac_base.html#a2a5fd20a6064b4754954638bc93f8d8d">WirelessMacBase</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (msg-&gt;getKind()==PHY_C_CONFIGURERADIO)
    {
        <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;Passing on command &quot;</span> &lt;&lt; msg-&gt;getName() &lt;&lt; <span class="stringliteral">&quot; to physical layer\n&quot;</span>;
        <span class="keywordflow">if</span> (<a class="code" href="class_ieee80211_mac.html#ad747f5e3abaad56a3fb03ec39426c27e">pendingRadioConfigMsg</a> != NULL)
        {
            <span class="comment">// merge contents of the old command into the new one, then delete it</span>
            PhyControlInfo *pOld = check_and_cast&lt;PhyControlInfo *&gt;(<a class="code" href="class_ieee80211_mac.html#ad747f5e3abaad56a3fb03ec39426c27e">pendingRadioConfigMsg</a>-&gt;getControlInfo());
            PhyControlInfo *pNew = check_and_cast&lt;PhyControlInfo *&gt;(msg-&gt;getControlInfo());
            <span class="keywordflow">if</span> (pNew-&gt;getChannelNumber()==-1 &amp;&amp; pOld-&gt;getChannelNumber()!=-1)
                pNew-&gt;setChannelNumber(pOld-&gt;getChannelNumber());
            <span class="keywordflow">if</span> (pNew-&gt;getBitrate()==-1 &amp;&amp; pOld-&gt;getBitrate()!=-1)
                pNew-&gt;setBitrate(pOld-&gt;getBitrate());
            <span class="keyword">delete</span> <a class="code" href="class_ieee80211_mac.html#ad747f5e3abaad56a3fb03ec39426c27e">pendingRadioConfigMsg</a>;
            <a class="code" href="class_ieee80211_mac.html#ad747f5e3abaad56a3fb03ec39426c27e">pendingRadioConfigMsg</a> = NULL;
        }

        <span class="keywordflow">if</span> (<a class="code" href="class_ieee80211_mac.html#a43b47b9bec83a94863108b1b3ae34bb6">fsm</a>.getState() == <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daae7e75316d129fb411aa5a21ff03ddec5">IDLE</a> || <a class="code" href="class_ieee80211_mac.html#a43b47b9bec83a94863108b1b3ae34bb6">fsm</a>.getState() == <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daa5c036fca4b3f1c9032358fee9fc2ab25">DEFER</a> || <a class="code" href="class_ieee80211_mac.html#a43b47b9bec83a94863108b1b3ae34bb6">fsm</a>.getState() == <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daaccc2ce74d000421b6504f4ea7995b708">BACKOFF</a>)
        {
            <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;Sending it down immediately\n&quot;</span>;
            <a class="code" href="class_wireless_mac_base.html#a97af424876ed4fc77702d183f38dc83c" title="Sends a message to the lower layer.">sendDown</a>(msg);
        }
        <span class="keywordflow">else</span>
        {
            <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;Delaying &quot;</span> &lt;&lt; msg-&gt;getName() &lt;&lt; <span class="stringliteral">&quot; until next IDLE or DEFER state\n&quot;</span>;
            <a class="code" href="class_ieee80211_mac.html#ad747f5e3abaad56a3fb03ec39426c27e">pendingRadioConfigMsg</a> = msg;
        }
    }
    <span class="keywordflow">else</span>
    {
        error(<span class="stringliteral">&quot;Unrecognized command from mgmt layer: (%s)%s msgkind=%d&quot;</span>, msg-&gt;getClassName(), msg-&gt;getName(), msg-&gt;getKind());
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="af163e249ed0577fb5027e3e9cf54d6a5"></a><!-- doxytag: member="Ieee80211Mac::handleLowerMsg" ref="af163e249ed0577fb5027e3e9cf54d6a5" args="(cPacket *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::handleLowerMsg </td>
          <td>(</td>
          <td class="paramtype">cPacket *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handle messages from lower (physical) layer. </p>

<p>Implements <a class="el" href="class_wireless_mac_base.html#ab1db1fa4fd9ecec9d8fa1a38a9a365e1">WirelessMacBase</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;received message from lower layer: &quot;</span> &lt;&lt; msg &lt;&lt; endl;

    Ieee80211Frame *frame = <span class="keyword">dynamic_cast&lt;</span>Ieee80211Frame *<span class="keyword">&gt;</span>(msg);
    <span class="keywordflow">if</span> (!frame)
        error(<span class="stringliteral">&quot;message from physical layer (%s)%s is not a subclass of Ieee80211Frame&quot;</span>,
              msg-&gt;getClassName(), msg-&gt;getName());

    <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;Self address: &quot;</span> &lt;&lt; <a class="code" href="class_ieee80211_mac.html#a3c12af5380d900067de2346248e5fc57">address</a>
       &lt;&lt; <span class="stringliteral">&quot;, receiver address: &quot;</span> &lt;&lt; frame-&gt;getReceiverAddress()
       &lt;&lt; <span class="stringliteral">&quot;, received frame is for us: &quot;</span> &lt;&lt; <a class="code" href="class_ieee80211_mac.html#a6a44f63a391702d7e31078eae7fe453b" title="Returns true if message destination address is ours.">isForUs</a>(frame) &lt;&lt; endl;

    Ieee80211TwoAddressFrame *twoAddressFrame = <span class="keyword">dynamic_cast&lt;</span>Ieee80211TwoAddressFrame *<span class="keyword">&gt;</span>(msg);
    ASSERT(!twoAddressFrame || twoAddressFrame-&gt;getTransmitterAddress() != <a class="code" href="class_ieee80211_mac.html#a3c12af5380d900067de2346248e5fc57">address</a>);

    <a class="code" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2" title="Handle all kinds of messages and notifications with the state machine.">handleWithFSM</a>(msg);

    <span class="comment">// if we are the owner then we did not send this message up</span>
    <span class="keywordflow">if</span> (msg-&gt;getOwner() == <span class="keyword">this</span>)
        <span class="keyword">delete</span> msg;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9c4e21cc98783e53810b622e0c6deda2"></a><!-- doxytag: member="Ieee80211Mac::handleSelfMsg" ref="a9c4e21cc98783e53810b622e0c6deda2" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::handleSelfMsg </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handle timer self messages. </p>

<p>Implements <a class="el" href="class_wireless_mac_base.html#a1c7f3c2581f66d7de17af4a730ae0c4d">WirelessMacBase</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;received self message: &quot;</span> &lt;&lt; msg &lt;&lt; endl;

    <span class="keywordflow">if</span> (msg == <a class="code" href="class_ieee80211_mac.html#a0f69601950c961a483e33c1455390f9a">endReserve</a>)
        <a class="code" href="class_ieee80211_mac.html#a591c8f37742e3960afb1a50df3e6673f">nav</a> = <span class="keyword">false</span>;

    <a class="code" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2" title="Handle all kinds of messages and notifications with the state machine.">handleWithFSM</a>(msg);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3c78df80f39331fe0c35a19b2a991714"></a><!-- doxytag: member="Ieee80211Mac::handleUpperMsg" ref="a3c78df80f39331fe0c35a19b2a991714" args="(cPacket *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::handleUpperMsg </td>
          <td>(</td>
          <td class="paramtype">cPacket *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handle messages from upper layer. </p>

<p>Implements <a class="el" href="class_wireless_mac_base.html#ab44661d865472b3799cbe4b086e131b9">WirelessMacBase</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// check for queue overflow</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_ieee80211_mac.html#a06b55f6481683d64db13605b27b9537a">maxQueueSize</a> &amp;&amp; (<span class="keywordtype">int</span>)<a class="code" href="class_ieee80211_mac.html#ac08493c34df5189f10a3199ba60f95c4">transmissionQueue</a>.size() == <a class="code" href="class_ieee80211_mac.html#a06b55f6481683d64db13605b27b9537a">maxQueueSize</a>)
    {
        <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;message &quot;</span> &lt;&lt; msg &lt;&lt; <span class="stringliteral">&quot; received from higher layer but MAC queue is full, dropping message\n&quot;</span>;
        <span class="keyword">delete</span> msg;
        <span class="keywordflow">return</span>;
    }

    <span class="comment">// must be a Ieee80211DataOrMgmtFrame, within the max size because we don&#39;t support fragmentation</span>
    Ieee80211DataOrMgmtFrame *frame = check_and_cast&lt;Ieee80211DataOrMgmtFrame *&gt;(msg);
    <span class="keywordflow">if</span> (frame-&gt;getByteLength() &gt; <a class="code" href="class_ieee80211_mac.html#af6a8a67f828409cf76bf3c3f0fd6d35b">fragmentationThreshold</a>)
        error(<span class="stringliteral">&quot;message from higher layer (%s)%s is too long for 802.11b, %d bytes (fragmentation is not supported yet)&quot;</span>,
              msg-&gt;getClassName(), msg-&gt;getName(), (int)(msg-&gt;getByteLength()));
    <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;frame &quot;</span> &lt;&lt; frame &lt;&lt; <span class="stringliteral">&quot; received from higher layer, receiver = &quot;</span> &lt;&lt; frame-&gt;getReceiverAddress() &lt;&lt; endl;

    ASSERT(!frame-&gt;getReceiverAddress().isUnspecified());

    <span class="comment">// fill in missing fields (receiver address, seq number), and insert into the queue</span>
    frame-&gt;setTransmitterAddress(<a class="code" href="class_ieee80211_mac.html#a3c12af5380d900067de2346248e5fc57">address</a>);
    frame-&gt;setSequenceNumber(<a class="code" href="class_ieee80211_mac.html#a109b2d75d8fc4201674478a72bb31762">sequenceNumber</a>);
    <a class="code" href="class_ieee80211_mac.html#a109b2d75d8fc4201674478a72bb31762">sequenceNumber</a> = (<a class="code" href="class_ieee80211_mac.html#a109b2d75d8fc4201674478a72bb31762">sequenceNumber</a>+1) % 4096;  <span class="comment">//XXX seqNum must be checked upon reception of frames!</span>

    <a class="code" href="class_ieee80211_mac.html#ac08493c34df5189f10a3199ba60f95c4">transmissionQueue</a>.push_back(frame);

    <a class="code" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2" title="Handle all kinds of messages and notifications with the state machine.">handleWithFSM</a>(frame);
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa95e52e25b2792fb62dd4d758cac72a2"></a><!-- doxytag: member="Ieee80211Mac::handleWithFSM" ref="aa95e52e25b2792fb62dd4d758cac72a2" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::handleWithFSM </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handle all kinds of messages and notifications with the state machine. </p>
<p>Msg can be upper, lower, self or NULL (when radio state changes) </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#af163e249ed0577fb5027e3e9cf54d6a5">handleLowerMsg()</a>, <a class="el" href="class_ieee80211_mac.html#a9c4e21cc98783e53810b622e0c6deda2">handleSelfMsg()</a>, <a class="el" href="class_ieee80211_mac.html#a3c78df80f39331fe0c35a19b2a991714">handleUpperMsg()</a>, and <a class="el" href="class_ieee80211_mac.html#a3c6164232e8645bbbef5d178d78fd8c4">receiveChangeNotification()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// skip those cases where there&#39;s nothing to do, so the switch looks simpler</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_wireless_mac_base.html#a86b406729713114bdceb21e07bcefd12">isUpperMsg</a>(msg) &amp;&amp; <a class="code" href="class_ieee80211_mac.html#a43b47b9bec83a94863108b1b3ae34bb6">fsm</a>.getState() != <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daae7e75316d129fb411aa5a21ff03ddec5">IDLE</a>)
    {
        <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;deferring upper message transmission in &quot;</span> &lt;&lt; <a class="code" href="class_ieee80211_mac.html#a43b47b9bec83a94863108b1b3ae34bb6">fsm</a>.getStateName() &lt;&lt; <span class="stringliteral">&quot; state\n&quot;</span>;
        <span class="keywordflow">return</span>;
    }

    Ieee80211Frame *frame = <span class="keyword">dynamic_cast&lt;</span>Ieee80211Frame*<span class="keyword">&gt;</span>(msg);
    <span class="keywordtype">int</span> frameType = frame ? frame-&gt;getType() : -1;
    <span class="keywordtype">int</span> msgKind = msg-&gt;getKind();
    <a class="code" href="class_ieee80211_mac.html#a0cae572eab527e836aadae2ef9df5b3d" title="Logs all state information.">logState</a>();
    <a class="code" href="class_ieee80211_mac.html#a784de8a16601c48f1f792adc9a35c321">stateVector</a>.record(<a class="code" href="class_ieee80211_mac.html#a43b47b9bec83a94863108b1b3ae34bb6">fsm</a>.getState());

    <span class="keywordflow">if</span> (frame &amp;&amp; <a class="code" href="class_wireless_mac_base.html#af982fd8985b1ceca8771b43908a027c5">isLowerMsg</a>(frame))
    {
        <a class="code" href="class_ieee80211_mac.html#aae4419ab39198abdf1fc8955b07e5e20">lastReceiveFailed</a> =(msgKind == <a class="code" href="_consts80211_8h.html#ad70ed57eb996b190fc586f309107250ead5384d1822c72da119100438c5051831">COLLISION</a> || msgKind == <a class="code" href="_consts80211_8h.html#ad70ed57eb996b190fc586f309107250ea46f67b4287ec5f32a482fe2245acb694">BITERROR</a>);
        <a class="code" href="class_ieee80211_mac.html#a21662171dd8c6356df3c8b050d7c9414" title="Schedule network allocation period according to 9.2.5.4.">scheduleReservePeriod</a>(frame);
    }

    <span class="comment">// TODO: fix bug according to the message: [omnetpp] A possible bug in the Ieee80211&#39;s FSM.</span>
    <a class="code" href="_f_s_m_a_8h.html#a585618c58d438c04d23005cf88a537b7">FSMA_Switch</a>(<a class="code" href="class_ieee80211_mac.html#a43b47b9bec83a94863108b1b3ae34bb6">fsm</a>)
    {
        <a class="code" href="_f_s_m_a_8h.html#a8291ad6e80866efe80d61d383e50ef3c">FSMA_State</a>(<a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daae7e75316d129fb411aa5a21ff03ddec5">IDLE</a>)
        {
            <a class="code" href="_f_s_m_a_8h.html#a12c2433a4260c7583d61162fa951bca7">FSMA_Enter</a>(<a class="code" href="class_ieee80211_mac.html#af24a75754986f091cf9b5e6987bb7bf3" title="Send down the change channel message to the physical layer if there is any.">sendDownPendingRadioConfigMsg</a>());
            <a class="code" href="_f_s_m_a_8h.html#ac70de60b30e30958d33808d2aceacc09">FSMA_Event_Transition</a>(Data-Ready,
                                  <a class="code" href="class_wireless_mac_base.html#a86b406729713114bdceb21e07bcefd12">isUpperMsg</a>(msg),
                                  <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daa5c036fca4b3f1c9032358fee9fc2ab25">DEFER</a>,
                ASSERT(<a class="code" href="class_ieee80211_mac.html#ac0b29b4f8c930e44e5dd062b79e394c0">isInvalidBackoffPeriod</a>() || <a class="code" href="class_ieee80211_mac.html#a97fb235214ec97bd334dc0bcdcb94f32">backoffPeriod</a> == 0);
                <a class="code" href="class_ieee80211_mac.html#a45baf5991b010588132ecfea105a17b0" title="Generates a new backoff period based on the contention window.">invalidateBackoffPeriod</a>();
            );
            <a class="code" href="_f_s_m_a_8h.html#abd229cc2e176b0e81494a93c14f18e8f">FSMA_No_Event_Transition</a>(Immediate-Data-Ready,
                                     !<a class="code" href="class_ieee80211_mac.html#ac08493c34df5189f10a3199ba60f95c4">transmissionQueue</a>.empty(),
                                     <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daa5c036fca4b3f1c9032358fee9fc2ab25">DEFER</a>,
                <a class="code" href="class_ieee80211_mac.html#a45baf5991b010588132ecfea105a17b0" title="Generates a new backoff period based on the contention window.">invalidateBackoffPeriod</a>();
            );
            <a class="code" href="_f_s_m_a_8h.html#ac70de60b30e30958d33808d2aceacc09">FSMA_Event_Transition</a>(Receive,
                                  <a class="code" href="class_wireless_mac_base.html#af982fd8985b1ceca8771b43908a027c5">isLowerMsg</a>(msg),
                                  <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daa07c35947e7029a7277a4a23db15b0a0b">RECEIVE</a>,
            );
        }
        <a class="code" href="_f_s_m_a_8h.html#a8291ad6e80866efe80d61d383e50ef3c">FSMA_State</a>(<a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daa5c036fca4b3f1c9032358fee9fc2ab25">DEFER</a>)
        {
            <a class="code" href="_f_s_m_a_8h.html#a12c2433a4260c7583d61162fa951bca7">FSMA_Enter</a>(<a class="code" href="class_ieee80211_mac.html#af24a75754986f091cf9b5e6987bb7bf3" title="Send down the change channel message to the physical layer if there is any.">sendDownPendingRadioConfigMsg</a>());
            <a class="code" href="_f_s_m_a_8h.html#ac70de60b30e30958d33808d2aceacc09">FSMA_Event_Transition</a>(Wait-<a class="code" href="_ieee80211_consts_8h.html#a48db305f0a645cc92737c0384b248cde">DIFS</a>,
                                  <a class="code" href="class_ieee80211_mac.html#adf18b82f7ec2838535e84fba8ef43f3e" title="Used by the state machine to identify medium state change events. This message is currently optimized...">isMediumStateChange</a>(msg) &amp;&amp; <a class="code" href="class_ieee80211_mac.html#aa4550d6a69c5e5a56d2a72ac0dc86729" title="Tells if the medium is free according to the physical and virtual carrier sense algorithm.">isMediumFree</a>(),
                                  <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daa5b19e098d83d766d41ee620e19aa2186">WAITDIFS</a>,
            ;);
            <a class="code" href="_f_s_m_a_8h.html#abd229cc2e176b0e81494a93c14f18e8f">FSMA_No_Event_Transition</a>(Immediate-Wait-<a class="code" href="_ieee80211_consts_8h.html#a48db305f0a645cc92737c0384b248cde">DIFS</a>,
                                     <a class="code" href="class_ieee80211_mac.html#aa4550d6a69c5e5a56d2a72ac0dc86729" title="Tells if the medium is free according to the physical and virtual carrier sense algorithm.">isMediumFree</a>() || !<a class="code" href="class_ieee80211_mac.html#aa21f2979d0e71025b7d7da1ae9a5e656">backoff</a>,
                                     <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daa5b19e098d83d766d41ee620e19aa2186">WAITDIFS</a>,
            ;);
            <a class="code" href="_f_s_m_a_8h.html#ac70de60b30e30958d33808d2aceacc09">FSMA_Event_Transition</a>(Receive,
                                  <a class="code" href="class_wireless_mac_base.html#af982fd8985b1ceca8771b43908a027c5">isLowerMsg</a>(msg),
                                  <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daa07c35947e7029a7277a4a23db15b0a0b">RECEIVE</a>,
            ;);
        }
        <a class="code" href="_f_s_m_a_8h.html#a8291ad6e80866efe80d61d383e50ef3c">FSMA_State</a>(<a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daa5b19e098d83d766d41ee620e19aa2186">WAITDIFS</a>)
        {
            <a class="code" href="_f_s_m_a_8h.html#a12c2433a4260c7583d61162fa951bca7">FSMA_Enter</a>(<a class="code" href="class_ieee80211_mac.html#a84bd3147b655f8396f37926fe34a17ad">scheduleDIFSPeriod</a>());
            <a class="code" href="_f_s_m_a_8h.html#ac70de60b30e30958d33808d2aceacc09">FSMA_Event_Transition</a>(Immediate-Transmit-<a class="code" href="_consts80211_8h.html#ad70ed57eb996b190fc586f309107250eae58caa68ff8b6e4838007985c7e3ae66">RTS</a>,
                                  msg == <a class="code" href="class_ieee80211_mac.html#a5bec0576b30d76fcb7f6546a83e6194a">endDIFS</a> &amp;&amp; !<a class="code" href="class_ieee80211_mac.html#a3e8e21090db18d0cc4596af8588346c9" title="Returns true if message is a broadcast message.">isBroadcast</a>(<a class="code" href="class_ieee80211_mac.html#a85bc4ee88b4123a9b38d42cbf6af8e43" title="Returns the current frame being transmitted.">getCurrentTransmission</a>())
                                  &amp;&amp; <a class="code" href="class_ieee80211_mac.html#a85bc4ee88b4123a9b38d42cbf6af8e43" title="Returns the current frame being transmitted.">getCurrentTransmission</a>()-&gt;getByteLength() &gt;= <a class="code" href="class_ieee80211_mac.html#a1bb03a4c3ab2056a1a3d9cab41388613">rtsThreshold</a> &amp;&amp; !<a class="code" href="class_ieee80211_mac.html#aa21f2979d0e71025b7d7da1ae9a5e656">backoff</a>,
                                  <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daac1baac3a7681ac2dbfaf5f5d79e28588">WAITCTS</a>,
                <a class="code" href="class_ieee80211_mac.html#abe3eb2e0a57570ce0f786da221090924">sendRTSFrame</a>(<a class="code" href="class_ieee80211_mac.html#a85bc4ee88b4123a9b38d42cbf6af8e43" title="Returns the current frame being transmitted.">getCurrentTransmission</a>());
                <a class="code" href="class_ieee80211_mac.html#a1427f98783abfa545523111cd3f209bb">cancelDIFSPeriod</a>();
            );
            <a class="code" href="_f_s_m_a_8h.html#ac70de60b30e30958d33808d2aceacc09">FSMA_Event_Transition</a>(Immediate-Transmit-Broadcast,
                                  msg == <a class="code" href="class_ieee80211_mac.html#a5bec0576b30d76fcb7f6546a83e6194a">endDIFS</a> &amp;&amp; <a class="code" href="class_ieee80211_mac.html#a3e8e21090db18d0cc4596af8588346c9" title="Returns true if message is a broadcast message.">isBroadcast</a>(<a class="code" href="class_ieee80211_mac.html#a85bc4ee88b4123a9b38d42cbf6af8e43" title="Returns the current frame being transmitted.">getCurrentTransmission</a>()) &amp;&amp; !<a class="code" href="class_ieee80211_mac.html#aa21f2979d0e71025b7d7da1ae9a5e656">backoff</a>,
                                  <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daa71f935807206413912f41a57be08c5bd">WAITBROADCAST</a>,
                <a class="code" href="class_ieee80211_mac.html#a39720691a045c98037ec4025b9ab5207">sendBroadcastFrame</a>(<a class="code" href="class_ieee80211_mac.html#a85bc4ee88b4123a9b38d42cbf6af8e43" title="Returns the current frame being transmitted.">getCurrentTransmission</a>());
                <a class="code" href="class_ieee80211_mac.html#a1427f98783abfa545523111cd3f209bb">cancelDIFSPeriod</a>();
            );
            <a class="code" href="_f_s_m_a_8h.html#ac70de60b30e30958d33808d2aceacc09">FSMA_Event_Transition</a>(Immediate-Transmit-Data,
                                  msg == <a class="code" href="class_ieee80211_mac.html#a5bec0576b30d76fcb7f6546a83e6194a">endDIFS</a> &amp;&amp; !<a class="code" href="class_ieee80211_mac.html#a3e8e21090db18d0cc4596af8588346c9" title="Returns true if message is a broadcast message.">isBroadcast</a>(<a class="code" href="class_ieee80211_mac.html#a85bc4ee88b4123a9b38d42cbf6af8e43" title="Returns the current frame being transmitted.">getCurrentTransmission</a>()) &amp;&amp; !<a class="code" href="class_ieee80211_mac.html#aa21f2979d0e71025b7d7da1ae9a5e656">backoff</a>,
                                  <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daa3b6427c4aab59339ba051c2705a5fd70">WAITACK</a>,
                <a class="code" href="class_ieee80211_mac.html#a3283d9bfc1d01d05dc65887e6f0e8518">sendDataFrame</a>(<a class="code" href="class_ieee80211_mac.html#a85bc4ee88b4123a9b38d42cbf6af8e43" title="Returns the current frame being transmitted.">getCurrentTransmission</a>());
                <a class="code" href="class_ieee80211_mac.html#a1427f98783abfa545523111cd3f209bb">cancelDIFSPeriod</a>();
            );
            <a class="code" href="_f_s_m_a_8h.html#ac70de60b30e30958d33808d2aceacc09">FSMA_Event_Transition</a>(<a class="code" href="_ieee80211_consts_8h.html#a48db305f0a645cc92737c0384b248cde">DIFS</a>-Over,
                                  msg == <a class="code" href="class_ieee80211_mac.html#a5bec0576b30d76fcb7f6546a83e6194a">endDIFS</a>,
                                  <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daaccc2ce74d000421b6504f4ea7995b708">BACKOFF</a>,
                ASSERT(<a class="code" href="class_ieee80211_mac.html#aa21f2979d0e71025b7d7da1ae9a5e656">backoff</a>);
                <span class="keywordflow">if</span> (<a class="code" href="class_ieee80211_mac.html#ac0b29b4f8c930e44e5dd062b79e394c0">isInvalidBackoffPeriod</a>())
                    <a class="code" href="class_ieee80211_mac.html#adb7349369b15dc3f966da2b8a7b8d0d0">generateBackoffPeriod</a>();
            );
            <a class="code" href="_f_s_m_a_8h.html#ac70de60b30e30958d33808d2aceacc09">FSMA_Event_Transition</a>(Busy,
                                  <a class="code" href="class_ieee80211_mac.html#adf18b82f7ec2838535e84fba8ef43f3e" title="Used by the state machine to identify medium state change events. This message is currently optimized...">isMediumStateChange</a>(msg) &amp;&amp; !<a class="code" href="class_ieee80211_mac.html#aa4550d6a69c5e5a56d2a72ac0dc86729" title="Tells if the medium is free according to the physical and virtual carrier sense algorithm.">isMediumFree</a>(),
                                  <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daa5c036fca4b3f1c9032358fee9fc2ab25">DEFER</a>,
                <a class="code" href="class_ieee80211_mac.html#aa21f2979d0e71025b7d7da1ae9a5e656">backoff</a> = <span class="keyword">true</span>;
                <a class="code" href="class_ieee80211_mac.html#a1427f98783abfa545523111cd3f209bb">cancelDIFSPeriod</a>();
            );
            <a class="code" href="_f_s_m_a_8h.html#abd229cc2e176b0e81494a93c14f18e8f">FSMA_No_Event_Transition</a>(Immediate-Busy,
                                     !<a class="code" href="class_ieee80211_mac.html#aa4550d6a69c5e5a56d2a72ac0dc86729" title="Tells if the medium is free according to the physical and virtual carrier sense algorithm.">isMediumFree</a>(),
                                     <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daa5c036fca4b3f1c9032358fee9fc2ab25">DEFER</a>,
                <a class="code" href="class_ieee80211_mac.html#aa21f2979d0e71025b7d7da1ae9a5e656">backoff</a> = <span class="keyword">true</span>;
                <a class="code" href="class_ieee80211_mac.html#a1427f98783abfa545523111cd3f209bb">cancelDIFSPeriod</a>();
            );
            <span class="comment">// radio state changes before we actually get the message, so this must be here</span>
            <a class="code" href="_f_s_m_a_8h.html#ac70de60b30e30958d33808d2aceacc09">FSMA_Event_Transition</a>(Receive,
                                  <a class="code" href="class_wireless_mac_base.html#af982fd8985b1ceca8771b43908a027c5">isLowerMsg</a>(msg),
                                  <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daa07c35947e7029a7277a4a23db15b0a0b">RECEIVE</a>,
                <a class="code" href="class_ieee80211_mac.html#a1427f98783abfa545523111cd3f209bb">cancelDIFSPeriod</a>();
            ;);
        }
        <a class="code" href="_f_s_m_a_8h.html#a8291ad6e80866efe80d61d383e50ef3c">FSMA_State</a>(<a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daaccc2ce74d000421b6504f4ea7995b708">BACKOFF</a>)
        {
            <a class="code" href="_f_s_m_a_8h.html#a12c2433a4260c7583d61162fa951bca7">FSMA_Enter</a>(<a class="code" href="class_ieee80211_mac.html#a4ea47166959fb7622be67011d131d8f5">scheduleBackoffPeriod</a>());
            <a class="code" href="_f_s_m_a_8h.html#ac70de60b30e30958d33808d2aceacc09">FSMA_Event_Transition</a>(Transmit-<a class="code" href="_consts80211_8h.html#ad70ed57eb996b190fc586f309107250eae58caa68ff8b6e4838007985c7e3ae66">RTS</a>,
                                  msg == <a class="code" href="class_ieee80211_mac.html#a82794398a43a1d936ba16d893871e0e2">endBackoff</a> &amp;&amp; !<a class="code" href="class_ieee80211_mac.html#a3e8e21090db18d0cc4596af8588346c9" title="Returns true if message is a broadcast message.">isBroadcast</a>(<a class="code" href="class_ieee80211_mac.html#a85bc4ee88b4123a9b38d42cbf6af8e43" title="Returns the current frame being transmitted.">getCurrentTransmission</a>())
                                  &amp;&amp; <a class="code" href="class_ieee80211_mac.html#a85bc4ee88b4123a9b38d42cbf6af8e43" title="Returns the current frame being transmitted.">getCurrentTransmission</a>()-&gt;getByteLength() &gt;= <a class="code" href="class_ieee80211_mac.html#a1bb03a4c3ab2056a1a3d9cab41388613">rtsThreshold</a>,
                                  <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daac1baac3a7681ac2dbfaf5f5d79e28588">WAITCTS</a>,
                <a class="code" href="class_ieee80211_mac.html#abe3eb2e0a57570ce0f786da221090924">sendRTSFrame</a>(<a class="code" href="class_ieee80211_mac.html#a85bc4ee88b4123a9b38d42cbf6af8e43" title="Returns the current frame being transmitted.">getCurrentTransmission</a>());
            );
            <a class="code" href="_f_s_m_a_8h.html#ac70de60b30e30958d33808d2aceacc09">FSMA_Event_Transition</a>(Transmit-Broadcast,
                                  msg == <a class="code" href="class_ieee80211_mac.html#a82794398a43a1d936ba16d893871e0e2">endBackoff</a> &amp;&amp; <a class="code" href="class_ieee80211_mac.html#a3e8e21090db18d0cc4596af8588346c9" title="Returns true if message is a broadcast message.">isBroadcast</a>(<a class="code" href="class_ieee80211_mac.html#a85bc4ee88b4123a9b38d42cbf6af8e43" title="Returns the current frame being transmitted.">getCurrentTransmission</a>()),
                                  <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daa71f935807206413912f41a57be08c5bd">WAITBROADCAST</a>,
                <a class="code" href="class_ieee80211_mac.html#a39720691a045c98037ec4025b9ab5207">sendBroadcastFrame</a>(<a class="code" href="class_ieee80211_mac.html#a85bc4ee88b4123a9b38d42cbf6af8e43" title="Returns the current frame being transmitted.">getCurrentTransmission</a>());
            );
            <a class="code" href="_f_s_m_a_8h.html#ac70de60b30e30958d33808d2aceacc09">FSMA_Event_Transition</a>(Transmit-Data,
                                  msg == <a class="code" href="class_ieee80211_mac.html#a82794398a43a1d936ba16d893871e0e2">endBackoff</a> &amp;&amp; !<a class="code" href="class_ieee80211_mac.html#a3e8e21090db18d0cc4596af8588346c9" title="Returns true if message is a broadcast message.">isBroadcast</a>(<a class="code" href="class_ieee80211_mac.html#a85bc4ee88b4123a9b38d42cbf6af8e43" title="Returns the current frame being transmitted.">getCurrentTransmission</a>()),
                                  <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daa3b6427c4aab59339ba051c2705a5fd70">WAITACK</a>,
                <a class="code" href="class_ieee80211_mac.html#a3283d9bfc1d01d05dc65887e6f0e8518">sendDataFrame</a>(<a class="code" href="class_ieee80211_mac.html#a85bc4ee88b4123a9b38d42cbf6af8e43" title="Returns the current frame being transmitted.">getCurrentTransmission</a>());
            );
            <a class="code" href="_f_s_m_a_8h.html#ac70de60b30e30958d33808d2aceacc09">FSMA_Event_Transition</a>(Backoff-Busy,
                                  <a class="code" href="class_ieee80211_mac.html#adf18b82f7ec2838535e84fba8ef43f3e" title="Used by the state machine to identify medium state change events. This message is currently optimized...">isMediumStateChange</a>(msg) &amp;&amp; !<a class="code" href="class_ieee80211_mac.html#aa4550d6a69c5e5a56d2a72ac0dc86729" title="Tells if the medium is free according to the physical and virtual carrier sense algorithm.">isMediumFree</a>(),
                                  <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daa5c036fca4b3f1c9032358fee9fc2ab25">DEFER</a>,
                <a class="code" href="class_ieee80211_mac.html#a80a6ffa55936b6ee00a09c45cf82aaf0">cancelBackoffPeriod</a>();
                <a class="code" href="class_ieee80211_mac.html#accd0c207251e64841e545a538a0d5e13">decreaseBackoffPeriod</a>();
            );
        }
        <a class="code" href="_f_s_m_a_8h.html#a8291ad6e80866efe80d61d383e50ef3c">FSMA_State</a>(<a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daa3b6427c4aab59339ba051c2705a5fd70">WAITACK</a>)
        {
            <a class="code" href="_f_s_m_a_8h.html#a12c2433a4260c7583d61162fa951bca7">FSMA_Enter</a>(<a class="code" href="class_ieee80211_mac.html#ab699599e2dc2ffb747a9a7ae8a8f98e8">scheduleDataTimeoutPeriod</a>(<a class="code" href="class_ieee80211_mac.html#a85bc4ee88b4123a9b38d42cbf6af8e43" title="Returns the current frame being transmitted.">getCurrentTransmission</a>()));
            <a class="code" href="_f_s_m_a_8h.html#ac70de60b30e30958d33808d2aceacc09">FSMA_Event_Transition</a>(Receive-<a class="code" href="_consts80211_8h.html#ad70ed57eb996b190fc586f309107250ea41246e9c8691b7e33bc79b345e06b48e">ACK</a>,
                                  <a class="code" href="class_wireless_mac_base.html#af982fd8985b1ceca8771b43908a027c5">isLowerMsg</a>(msg) &amp;&amp; <a class="code" href="class_ieee80211_mac.html#a6a44f63a391702d7e31078eae7fe453b" title="Returns true if message destination address is ours.">isForUs</a>(frame) &amp;&amp; frameType == ST_ACK,
                                  <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daae7e75316d129fb411aa5a21ff03ddec5">IDLE</a>,
                <span class="keywordflow">if</span> (<a class="code" href="class_ieee80211_mac.html#aaf4fd54bc69d8695ebc5d1f86d4cacdd">retryCounter</a> == 0) <a class="code" href="class_ieee80211_mac.html#a6c4930c1fd531fe421935816d8856443">numSentWithoutRetry</a>++;
                <a class="code" href="class_ieee80211_mac.html#a5451e3e610dca607187e39f176d91120">numSent</a>++;
                <a class="code" href="class_ieee80211_mac.html#a9a3d534aa427c8ec65713ad1f3e0e223">cancelTimeoutPeriod</a>();
                <a class="code" href="class_ieee80211_mac.html#ae7e7f22c4c76ac7be8ffff853cbf7503">finishCurrentTransmission</a>();
            );
            <a class="code" href="_f_s_m_a_8h.html#ac70de60b30e30958d33808d2aceacc09">FSMA_Event_Transition</a>(Transmit-Data-Failed,
                                  msg == <a class="code" href="class_ieee80211_mac.html#a27bd612a3164002020b5c315fb096f79">endTimeout</a> &amp;&amp; <a class="code" href="class_ieee80211_mac.html#aaf4fd54bc69d8695ebc5d1f86d4cacdd">retryCounter</a> == <a class="code" href="class_ieee80211_mac.html#a7ef4f6b331003c2e2054428fa4534bd9">transmissionLimit</a> - 1,
                                  <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daae7e75316d129fb411aa5a21ff03ddec5">IDLE</a>,
                <a class="code" href="class_ieee80211_mac.html#a793227beb883e6f0f0b5c993aa6b7f56">giveUpCurrentTransmission</a>();
            );
            <a class="code" href="_f_s_m_a_8h.html#ac70de60b30e30958d33808d2aceacc09">FSMA_Event_Transition</a>(Receive-<a class="code" href="_consts80211_8h.html#ad70ed57eb996b190fc586f309107250ea41246e9c8691b7e33bc79b345e06b48e">ACK</a>-Timeout,
                                  msg == <a class="code" href="class_ieee80211_mac.html#a27bd612a3164002020b5c315fb096f79">endTimeout</a>,
                                  <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daa5c036fca4b3f1c9032358fee9fc2ab25">DEFER</a>,
                <a class="code" href="class_ieee80211_mac.html#a1140ac3364f8defb6d66deb76af9d55e">retryCurrentTransmission</a>();
            );
        }
        <span class="comment">// wait until broadcast is sent</span>
        <a class="code" href="_f_s_m_a_8h.html#a8291ad6e80866efe80d61d383e50ef3c">FSMA_State</a>(<a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daa71f935807206413912f41a57be08c5bd">WAITBROADCAST</a>)
        {
            <a class="code" href="_f_s_m_a_8h.html#a12c2433a4260c7583d61162fa951bca7">FSMA_Enter</a>(<a class="code" href="class_ieee80211_mac.html#ae49ff307323745c607aa72ddbd8eefcd">scheduleBroadcastTimeoutPeriod</a>(<a class="code" href="class_ieee80211_mac.html#a85bc4ee88b4123a9b38d42cbf6af8e43" title="Returns the current frame being transmitted.">getCurrentTransmission</a>()));
            <a class="code" href="_f_s_m_a_8h.html#ac70de60b30e30958d33808d2aceacc09">FSMA_Event_Transition</a>(Transmit-Broadcast,
                                  msg == <a class="code" href="class_ieee80211_mac.html#a27bd612a3164002020b5c315fb096f79">endTimeout</a>,
                                  <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daae7e75316d129fb411aa5a21ff03ddec5">IDLE</a>,
                <a class="code" href="class_ieee80211_mac.html#ae7e7f22c4c76ac7be8ffff853cbf7503">finishCurrentTransmission</a>();
                <a class="code" href="class_ieee80211_mac.html#aa6376b24ff26d3f78706f5b8656c3167">numSentBroadcast</a>++;
            );
        }
        <span class="comment">// accoriding to 9.2.5.7 CTS procedure</span>
        <a class="code" href="_f_s_m_a_8h.html#a8291ad6e80866efe80d61d383e50ef3c">FSMA_State</a>(<a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daac1baac3a7681ac2dbfaf5f5d79e28588">WAITCTS</a>)
        {
            <a class="code" href="_f_s_m_a_8h.html#a12c2433a4260c7583d61162fa951bca7">FSMA_Enter</a>(<a class="code" href="class_ieee80211_mac.html#a916864ac7a266c8fdf466a185c3a68dc">scheduleCTSTimeoutPeriod</a>());
            <a class="code" href="_f_s_m_a_8h.html#ac70de60b30e30958d33808d2aceacc09">FSMA_Event_Transition</a>(Receive-<a class="code" href="_consts80211_8h.html#ad70ed57eb996b190fc586f309107250ea97dc7d7bbe8a217f4bc934b4a868c521">CTS</a>,
                                  <a class="code" href="class_wireless_mac_base.html#af982fd8985b1ceca8771b43908a027c5">isLowerMsg</a>(msg) &amp;&amp; <a class="code" href="class_ieee80211_mac.html#a6a44f63a391702d7e31078eae7fe453b" title="Returns true if message destination address is ours.">isForUs</a>(frame) &amp;&amp; frameType == ST_CTS,
                                  <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daafe9bbc5fc649aa20f4512da028cbbeac">WAITSIFS</a>,
                <a class="code" href="class_ieee80211_mac.html#a9a3d534aa427c8ec65713ad1f3e0e223">cancelTimeoutPeriod</a>();
            );
            <a class="code" href="_f_s_m_a_8h.html#ac70de60b30e30958d33808d2aceacc09">FSMA_Event_Transition</a>(Transmit-<a class="code" href="_consts80211_8h.html#ad70ed57eb996b190fc586f309107250eae58caa68ff8b6e4838007985c7e3ae66">RTS</a>-Failed,
                                  msg == <a class="code" href="class_ieee80211_mac.html#a27bd612a3164002020b5c315fb096f79">endTimeout</a> &amp;&amp; <a class="code" href="class_ieee80211_mac.html#aaf4fd54bc69d8695ebc5d1f86d4cacdd">retryCounter</a> == <a class="code" href="class_ieee80211_mac.html#a7ef4f6b331003c2e2054428fa4534bd9">transmissionLimit</a> - 1,
                                  <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daae7e75316d129fb411aa5a21ff03ddec5">IDLE</a>,
                <a class="code" href="class_ieee80211_mac.html#a793227beb883e6f0f0b5c993aa6b7f56">giveUpCurrentTransmission</a>();
            );
            <a class="code" href="_f_s_m_a_8h.html#ac70de60b30e30958d33808d2aceacc09">FSMA_Event_Transition</a>(Receive-<a class="code" href="_consts80211_8h.html#ad70ed57eb996b190fc586f309107250ea97dc7d7bbe8a217f4bc934b4a868c521">CTS</a>-Timeout,
                                  msg == <a class="code" href="class_ieee80211_mac.html#a27bd612a3164002020b5c315fb096f79">endTimeout</a>,
                                  <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daa5c036fca4b3f1c9032358fee9fc2ab25">DEFER</a>,
                <a class="code" href="class_ieee80211_mac.html#a1140ac3364f8defb6d66deb76af9d55e">retryCurrentTransmission</a>();
            );
        }
        <a class="code" href="_f_s_m_a_8h.html#a8291ad6e80866efe80d61d383e50ef3c">FSMA_State</a>(<a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daafe9bbc5fc649aa20f4512da028cbbeac">WAITSIFS</a>)
        {
            <a class="code" href="_f_s_m_a_8h.html#a12c2433a4260c7583d61162fa951bca7">FSMA_Enter</a>(<a class="code" href="class_ieee80211_mac.html#a325e59dc74a3ad59596933aaf96012a7">scheduleSIFSPeriod</a>(frame));
            <a class="code" href="_f_s_m_a_8h.html#ac70de60b30e30958d33808d2aceacc09">FSMA_Event_Transition</a>(Transmit-<a class="code" href="_consts80211_8h.html#ad70ed57eb996b190fc586f309107250ea97dc7d7bbe8a217f4bc934b4a868c521">CTS</a>,
                                  msg == <a class="code" href="class_ieee80211_mac.html#a72b8ec2bcb1b505a709eab0ff96799dc">endSIFS</a> &amp;&amp; <a class="code" href="class_ieee80211_mac.html#a3ae0423bce927f7db18f55a88e44e20a" title="Returns the last frame received before the SIFS period.">getFrameReceivedBeforeSIFS</a>()-&gt;getType() == ST_RTS,
                                  <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daae7e75316d129fb411aa5a21ff03ddec5">IDLE</a>,
                <a class="code" href="class_ieee80211_mac.html#a821d34cb04fd6ebd9b0d6989b963614d">sendCTSFrameOnEndSIFS</a>();
                <a class="code" href="class_ieee80211_mac.html#ace0608e9ca57414b54817d04b184b120" title="Reset backoff, backoffPeriod and retryCounter for IDLE state.">resetStateVariables</a>();
            );
            <a class="code" href="_f_s_m_a_8h.html#ac70de60b30e30958d33808d2aceacc09">FSMA_Event_Transition</a>(Transmit-<a class="code" href="_consts80211_8h.html#ad70ed57eb996b190fc586f309107250ea9d7d6f31868d66330397c967c4afd2d2">DATA</a>,
                                  msg == <a class="code" href="class_ieee80211_mac.html#a72b8ec2bcb1b505a709eab0ff96799dc">endSIFS</a> &amp;&amp; <a class="code" href="class_ieee80211_mac.html#a3ae0423bce927f7db18f55a88e44e20a" title="Returns the last frame received before the SIFS period.">getFrameReceivedBeforeSIFS</a>()-&gt;getType() == ST_CTS,
                                  <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daa3b6427c4aab59339ba051c2705a5fd70">WAITACK</a>,
                <a class="code" href="class_ieee80211_mac.html#a535d6bc217f1cfc210fe798c3b89a114">sendDataFrameOnEndSIFS</a>(<a class="code" href="class_ieee80211_mac.html#a85bc4ee88b4123a9b38d42cbf6af8e43" title="Returns the current frame being transmitted.">getCurrentTransmission</a>());
            );
            <a class="code" href="_f_s_m_a_8h.html#ac70de60b30e30958d33808d2aceacc09">FSMA_Event_Transition</a>(Transmit-<a class="code" href="_consts80211_8h.html#ad70ed57eb996b190fc586f309107250ea41246e9c8691b7e33bc79b345e06b48e">ACK</a>,
                                  msg == <a class="code" href="class_ieee80211_mac.html#a72b8ec2bcb1b505a709eab0ff96799dc">endSIFS</a> &amp;&amp; <a class="code" href="class_ieee80211_mac.html#a331f759ba45d0d363362dce7d1b9f9b0" title="Checks if the frame is a data or management frame.">isDataOrMgmtFrame</a>(<a class="code" href="class_ieee80211_mac.html#a3ae0423bce927f7db18f55a88e44e20a" title="Returns the last frame received before the SIFS period.">getFrameReceivedBeforeSIFS</a>()),
                                  <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daae7e75316d129fb411aa5a21ff03ddec5">IDLE</a>,
                <a class="code" href="class_ieee80211_mac.html#a1fa778f58e945ac0b347dfa66785224b">sendACKFrameOnEndSIFS</a>();
                <a class="code" href="class_ieee80211_mac.html#ace0608e9ca57414b54817d04b184b120" title="Reset backoff, backoffPeriod and retryCounter for IDLE state.">resetStateVariables</a>();
            );
        }
        <span class="comment">// this is not a real state</span>
        <a class="code" href="_f_s_m_a_8h.html#a8291ad6e80866efe80d61d383e50ef3c">FSMA_State</a>(<a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daa07c35947e7029a7277a4a23db15b0a0b">RECEIVE</a>)
        {
            <a class="code" href="_f_s_m_a_8h.html#abd229cc2e176b0e81494a93c14f18e8f">FSMA_No_Event_Transition</a>(Immediate-Receive-Error,
                                     <a class="code" href="class_wireless_mac_base.html#af982fd8985b1ceca8771b43908a027c5">isLowerMsg</a>(msg) &amp;&amp; (msgKind == <a class="code" href="_consts80211_8h.html#ad70ed57eb996b190fc586f309107250ead5384d1822c72da119100438c5051831">COLLISION</a> || msgKind == <a class="code" href="_consts80211_8h.html#ad70ed57eb996b190fc586f309107250ea46f67b4287ec5f32a482fe2245acb694">BITERROR</a>),
                                     <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daae7e75316d129fb411aa5a21ff03ddec5">IDLE</a>,
                <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;received frame contains bit errors or collision, next wait period is EIFS\n&quot;</span>;
                <a class="code" href="class_ieee80211_mac.html#a7cde61a60a0ba921bec433b5d1113c84">numCollision</a>++;
                <a class="code" href="class_ieee80211_mac.html#ace0608e9ca57414b54817d04b184b120" title="Reset backoff, backoffPeriod and retryCounter for IDLE state.">resetStateVariables</a>();
            );
            <a class="code" href="_f_s_m_a_8h.html#abd229cc2e176b0e81494a93c14f18e8f">FSMA_No_Event_Transition</a>(Immediate-Receive-Broadcast,
                                     <a class="code" href="class_wireless_mac_base.html#af982fd8985b1ceca8771b43908a027c5">isLowerMsg</a>(msg) &amp;&amp; <a class="code" href="class_ieee80211_mac.html#a3e8e21090db18d0cc4596af8588346c9" title="Returns true if message is a broadcast message.">isBroadcast</a>(frame) &amp;&amp; <a class="code" href="class_ieee80211_mac.html#a331f759ba45d0d363362dce7d1b9f9b0" title="Checks if the frame is a data or management frame.">isDataOrMgmtFrame</a>(frame),
                                     <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daae7e75316d129fb411aa5a21ff03ddec5">IDLE</a>,
                <a class="code" href="class_wireless_mac_base.html#a5454ec5040663e5af4ddb00f525a3caf" title="Sends a message to the upper layer.">sendUp</a>(frame);
                <a class="code" href="class_ieee80211_mac.html#af5839182df73e2f63a767d1927a5ac16">numReceivedBroadcast</a>++;
                <a class="code" href="class_ieee80211_mac.html#ace0608e9ca57414b54817d04b184b120" title="Reset backoff, backoffPeriod and retryCounter for IDLE state.">resetStateVariables</a>();
            );
            <a class="code" href="_f_s_m_a_8h.html#abd229cc2e176b0e81494a93c14f18e8f">FSMA_No_Event_Transition</a>(Immediate-Receive-Data,
                                     <a class="code" href="class_wireless_mac_base.html#af982fd8985b1ceca8771b43908a027c5">isLowerMsg</a>(msg) &amp;&amp; <a class="code" href="class_ieee80211_mac.html#a6a44f63a391702d7e31078eae7fe453b" title="Returns true if message destination address is ours.">isForUs</a>(frame) &amp;&amp; <a class="code" href="class_ieee80211_mac.html#a331f759ba45d0d363362dce7d1b9f9b0" title="Checks if the frame is a data or management frame.">isDataOrMgmtFrame</a>(frame),
                                     <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daafe9bbc5fc649aa20f4512da028cbbeac">WAITSIFS</a>,
                <a class="code" href="class_wireless_mac_base.html#a5454ec5040663e5af4ddb00f525a3caf" title="Sends a message to the upper layer.">sendUp</a>(frame);
                <a class="code" href="class_ieee80211_mac.html#a44149d10cf8b6f6b1f906d68d2157714">numReceived</a>++;
            );
            <a class="code" href="_f_s_m_a_8h.html#abd229cc2e176b0e81494a93c14f18e8f">FSMA_No_Event_Transition</a>(Immediate-Receive-<a class="code" href="_consts80211_8h.html#ad70ed57eb996b190fc586f309107250eae58caa68ff8b6e4838007985c7e3ae66">RTS</a>,
                                     <a class="code" href="class_wireless_mac_base.html#af982fd8985b1ceca8771b43908a027c5">isLowerMsg</a>(msg) &amp;&amp; <a class="code" href="class_ieee80211_mac.html#a6a44f63a391702d7e31078eae7fe453b" title="Returns true if message destination address is ours.">isForUs</a>(frame) &amp;&amp; frameType == ST_RTS,
                                     <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daafe9bbc5fc649aa20f4512da028cbbeac">WAITSIFS</a>,
            );
            <a class="code" href="_f_s_m_a_8h.html#abd229cc2e176b0e81494a93c14f18e8f">FSMA_No_Event_Transition</a>(Immediate-Receive-Other,
                                     <a class="code" href="class_wireless_mac_base.html#af982fd8985b1ceca8771b43908a027c5">isLowerMsg</a>(msg),
                                     <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daae7e75316d129fb411aa5a21ff03ddec5">IDLE</a>,
                <a class="code" href="class_ieee80211_mac.html#ace0608e9ca57414b54817d04b184b120" title="Reset backoff, backoffPeriod and retryCounter for IDLE state.">resetStateVariables</a>();
            );
        }
    }

    <a class="code" href="class_ieee80211_mac.html#a0cae572eab527e836aadae2ef9df5b3d" title="Logs all state information.">logState</a>();
    <a class="code" href="class_ieee80211_mac.html#a784de8a16601c48f1f792adc9a35c321">stateVector</a>.record(<a class="code" href="class_ieee80211_mac.html#a43b47b9bec83a94863108b1b3ae34bb6">fsm</a>.getState());
}
</pre></div>
</div>
</div>
<a class="anchor" id="acc89ca1fc93ad17f2a78a01bd474f058"></a><!-- doxytag: member="Ieee80211Mac::initialize" ref="acc89ca1fc93ad17f2a78a01bd474f058" args="(int)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::initialize </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stage</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialization of the module and some variables. </p>

<p>Reimplemented from <a class="el" href="class_wireless_mac_base.html#a74866aacf342c21cd220d959698d87af">WirelessMacBase</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058" title="Initialization of the module and some variables.">WirelessMacBase::initialize</a>(stage);

    <span class="keywordflow">if</span> (stage == 0)
    {
        <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;Initializing stage 0\n&quot;</span>;

        <span class="comment">// initialize parameters</span>
        <a class="code" href="class_ieee80211_mac.html#a06b55f6481683d64db13605b27b9537a">maxQueueSize</a> = par(<span class="stringliteral">&quot;maxQueueSize&quot;</span>);
        <a class="code" href="class_ieee80211_mac.html#a1a66661cea11c9b2bcf69076d85b70c3">bitrate</a> = par(<span class="stringliteral">&quot;bitrate&quot;</span>);
        <a class="code" href="class_ieee80211_mac.html#a1bb21c978ee1dced3878113908a6cc56">basicBitrate</a> = 2e6; <span class="comment">//FIXME make it parameter</span>
        <a class="code" href="class_ieee80211_mac.html#a1bb03a4c3ab2056a1a3d9cab41388613">rtsThreshold</a> = par(<span class="stringliteral">&quot;rtsThresholdBytes&quot;</span>);

        <span class="comment">// the variable is renamed due to a confusion in the standard</span>
        <span class="comment">// the name retry limit would be misleading, see the header file comment</span>
        <a class="code" href="class_ieee80211_mac.html#a7ef4f6b331003c2e2054428fa4534bd9">transmissionLimit</a> = par(<span class="stringliteral">&quot;retryLimit&quot;</span>);
        <span class="keywordflow">if</span> (<a class="code" href="class_ieee80211_mac.html#a7ef4f6b331003c2e2054428fa4534bd9">transmissionLimit</a> == -1) <a class="code" href="class_ieee80211_mac.html#a7ef4f6b331003c2e2054428fa4534bd9">transmissionLimit</a> = 7;
        ASSERT(<a class="code" href="class_ieee80211_mac.html#a7ef4f6b331003c2e2054428fa4534bd9">transmissionLimit</a> &gt; 0);

        <a class="code" href="class_ieee80211_mac.html#a620e6bf7dd85045ca5f65164a47e1cfd">cwMinData</a> = par(<span class="stringliteral">&quot;cwMinData&quot;</span>);
        <span class="keywordflow">if</span> (<a class="code" href="class_ieee80211_mac.html#a620e6bf7dd85045ca5f65164a47e1cfd">cwMinData</a> == -1) <a class="code" href="class_ieee80211_mac.html#a620e6bf7dd85045ca5f65164a47e1cfd">cwMinData</a> = <a class="code" href="_ieee80211_consts_8h.html#a104d9aa9c5a73eeecc9799c60b238289">CW_MIN</a>;
        ASSERT(<a class="code" href="class_ieee80211_mac.html#a620e6bf7dd85045ca5f65164a47e1cfd">cwMinData</a> &gt;= 0);

        <a class="code" href="class_ieee80211_mac.html#a189e3641d647b4d4c506e709a0873467">cwMinBroadcast</a> = par(<span class="stringliteral">&quot;cwMinBroadcast&quot;</span>);
        <span class="keywordflow">if</span> (<a class="code" href="class_ieee80211_mac.html#a189e3641d647b4d4c506e709a0873467">cwMinBroadcast</a> == -1) <a class="code" href="class_ieee80211_mac.html#a189e3641d647b4d4c506e709a0873467">cwMinBroadcast</a> = 31;
        ASSERT(<a class="code" href="class_ieee80211_mac.html#a189e3641d647b4d4c506e709a0873467">cwMinBroadcast</a> &gt;= 0);

        <span class="keyword">const</span> <span class="keywordtype">char</span> *addressString = par(<span class="stringliteral">&quot;address&quot;</span>);
        <span class="keywordflow">if</span> (!strcmp(addressString, <span class="stringliteral">&quot;auto&quot;</span>)) {
            <span class="comment">// assign automatic address</span>
            <a class="code" href="class_ieee80211_mac.html#a3c12af5380d900067de2346248e5fc57">address</a> = <a class="code" href="class_m_a_c_address.html#a020d8e71aa50506e2b29a15833fedfd9">MACAddress::generateAutoAddress</a>();
            <span class="comment">// change module parameter from &quot;auto&quot; to concrete address</span>
            par(<span class="stringliteral">&quot;address&quot;</span>).setStringValue(<a class="code" href="class_ieee80211_mac.html#a3c12af5380d900067de2346248e5fc57">address</a>.<a class="code" href="class_m_a_c_address.html#a5eed6450abcdd795b2a3d59828a29802">str</a>().c_str());
        }
        <span class="keywordflow">else</span>
            <a class="code" href="class_ieee80211_mac.html#a3c12af5380d900067de2346248e5fc57">address</a>.<a class="code" href="class_m_a_c_address.html#a8098d36b9f4a40ef61e1a3cb62cb27dd">setAddress</a>(addressString);

        <span class="comment">// subscribe for the information of the carrier sense</span>
        <a class="code" href="class_wireless_mac_base.html#a779ea8a0af7e4ef85c5faa85d6a281ed" title="Cached pointer to the NotificationBoard module.">nb</a>-&gt;<a class="code" href="class_notification_board.html#aeb02a282e6c807c1cb064a28e8409ff2">subscribe</a>(<span class="keyword">this</span>, <a class="code" href="_notifier_consts_8h.html#a06fc87d81c62e9abb8790b6e5713c55baa6e69ccdaad903262ac00b89b6208a69">NF_RADIOSTATE_CHANGED</a>);

        <span class="comment">// initalize self messages</span>
        <a class="code" href="class_ieee80211_mac.html#a72b8ec2bcb1b505a709eab0ff96799dc">endSIFS</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;SIFS&quot;</span>);
        <a class="code" href="class_ieee80211_mac.html#a5bec0576b30d76fcb7f6546a83e6194a">endDIFS</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;DIFS&quot;</span>);
        <a class="code" href="class_ieee80211_mac.html#a82794398a43a1d936ba16d893871e0e2">endBackoff</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;Backoff&quot;</span>);
        <a class="code" href="class_ieee80211_mac.html#a27bd612a3164002020b5c315fb096f79">endTimeout</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;Timeout&quot;</span>);
        <a class="code" href="class_ieee80211_mac.html#a0f69601950c961a483e33c1455390f9a">endReserve</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;Reserve&quot;</span>);
        <a class="code" href="class_ieee80211_mac.html#add8e4e32b5dc5f2e4960563eb457ed40">mediumStateChange</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;MediumStateChange&quot;</span>);

        <span class="comment">// interface</span>
        <a class="code" href="class_ieee80211_mac.html#a306f0e039efc2ede2e2e209bf02f7b1a">registerInterface</a>();

        <span class="comment">// obtain pointer to external queue</span>
        <a class="code" href="class_ieee80211_mac.html#a76503451f2ddc57bec7426c3f9f919ca">initializeQueueModule</a>();

        <span class="comment">// state variables</span>
        <a class="code" href="class_ieee80211_mac.html#a43b47b9bec83a94863108b1b3ae34bb6">fsm</a>.setName(<span class="stringliteral">&quot;Ieee80211Mac State Machine&quot;</span>);
        <a class="code" href="class_ieee80211_mac.html#a4d34e2aa99b6fd38ef07005d8cc7be99">mode</a> = <a class="code" href="class_ieee80211_mac.html#acc067e4a0585c9fbac4ce009e2ed03caad4632a6aa23ad2c585b22a7d823fd792" title="Distributed Coordination Function.">DCF</a>;
        <a class="code" href="class_ieee80211_mac.html#a109b2d75d8fc4201674478a72bb31762">sequenceNumber</a> = 0;
        <a class="code" href="class_ieee80211_mac.html#a08443ed66fd8def7cdbce3953cb732c0">radioState</a> = <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daae7e75316d129fb411aa5a21ff03ddec5">RadioState::IDLE</a>;
        <a class="code" href="class_ieee80211_mac.html#aaf4fd54bc69d8695ebc5d1f86d4cacdd">retryCounter</a> = 0;
        <a class="code" href="class_ieee80211_mac.html#a97fb235214ec97bd334dc0bcdcb94f32">backoffPeriod</a> = -1;
        <a class="code" href="class_ieee80211_mac.html#aa21f2979d0e71025b7d7da1ae9a5e656">backoff</a> = <span class="keyword">false</span>;
        <a class="code" href="class_ieee80211_mac.html#aae4419ab39198abdf1fc8955b07e5e20">lastReceiveFailed</a> = <span class="keyword">false</span>;
        <a class="code" href="class_ieee80211_mac.html#a591c8f37742e3960afb1a50df3e6673f">nav</a> = <span class="keyword">false</span>;

        <span class="comment">// statistics</span>
        <a class="code" href="class_ieee80211_mac.html#a5a3258861ee26e78b2378160233ae6f5">numRetry</a> = 0;
        <a class="code" href="class_ieee80211_mac.html#a6c4930c1fd531fe421935816d8856443">numSentWithoutRetry</a> = 0;
        <a class="code" href="class_ieee80211_mac.html#aea9e86c3d8f9db03a6a9dcab0bd36df7">numGivenUp</a> = 0;
        <a class="code" href="class_ieee80211_mac.html#a7cde61a60a0ba921bec433b5d1113c84">numCollision</a> = 0;
        <a class="code" href="class_ieee80211_mac.html#a5451e3e610dca607187e39f176d91120">numSent</a> = 0;
        <a class="code" href="class_ieee80211_mac.html#a44149d10cf8b6f6b1f906d68d2157714">numReceived</a> = 0;
        <a class="code" href="class_ieee80211_mac.html#aa6376b24ff26d3f78706f5b8656c3167">numSentBroadcast</a> = 0;
        <a class="code" href="class_ieee80211_mac.html#af5839182df73e2f63a767d1927a5ac16">numReceivedBroadcast</a> = 0;
        <a class="code" href="class_ieee80211_mac.html#a784de8a16601c48f1f792adc9a35c321">stateVector</a>.setName(<span class="stringliteral">&quot;State&quot;</span>);
        <a class="code" href="class_ieee80211_mac.html#a784de8a16601c48f1f792adc9a35c321">stateVector</a>.setEnum(<span class="stringliteral">&quot;Ieee80211Mac&quot;</span>);
        <a class="code" href="class_ieee80211_mac.html#a84539589b7715d29c69d1191a521f45b">radioStateVector</a>.setName(<span class="stringliteral">&quot;RadioState&quot;</span>);
        <a class="code" href="class_ieee80211_mac.html#a84539589b7715d29c69d1191a521f45b">radioStateVector</a>.setEnum(<span class="stringliteral">&quot;RadioState&quot;</span>);

        <span class="comment">// initialize watches</span>
        WATCH(<a class="code" href="class_ieee80211_mac.html#a43b47b9bec83a94863108b1b3ae34bb6">fsm</a>);
        WATCH(<a class="code" href="class_ieee80211_mac.html#a08443ed66fd8def7cdbce3953cb732c0">radioState</a>);
        WATCH(<a class="code" href="class_ieee80211_mac.html#aaf4fd54bc69d8695ebc5d1f86d4cacdd">retryCounter</a>);
        WATCH(<a class="code" href="class_ieee80211_mac.html#aa21f2979d0e71025b7d7da1ae9a5e656">backoff</a>);
        WATCH(<a class="code" href="class_ieee80211_mac.html#a591c8f37742e3960afb1a50df3e6673f">nav</a>);

        WATCH(<a class="code" href="class_ieee80211_mac.html#a5a3258861ee26e78b2378160233ae6f5">numRetry</a>);
        WATCH(<a class="code" href="class_ieee80211_mac.html#a6c4930c1fd531fe421935816d8856443">numSentWithoutRetry</a>);
        WATCH(<a class="code" href="class_ieee80211_mac.html#aea9e86c3d8f9db03a6a9dcab0bd36df7">numGivenUp</a>);
        WATCH(<a class="code" href="class_ieee80211_mac.html#a7cde61a60a0ba921bec433b5d1113c84">numCollision</a>);
        WATCH(<a class="code" href="class_ieee80211_mac.html#a5451e3e610dca607187e39f176d91120">numSent</a>);
        WATCH(<a class="code" href="class_ieee80211_mac.html#a44149d10cf8b6f6b1f906d68d2157714">numReceived</a>);
        WATCH(<a class="code" href="class_ieee80211_mac.html#aa6376b24ff26d3f78706f5b8656c3167">numSentBroadcast</a>);
        WATCH(<a class="code" href="class_ieee80211_mac.html#af5839182df73e2f63a767d1927a5ac16">numReceivedBroadcast</a>);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a76503451f2ddc57bec7426c3f9f919ca"></a><!-- doxytag: member="Ieee80211Mac::initializeQueueModule" ref="a76503451f2ddc57bec7426c3f9f919ca" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::initializeQueueModule </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// use of external queue module is optional -- find it if there&#39;s one specified</span>
    <span class="keywordflow">if</span> (par(<span class="stringliteral">&quot;queueModule&quot;</span>).stringValue()[0])
    {
        cModule *module = getParentModule()-&gt;getSubmodule(par(<span class="stringliteral">&quot;queueModule&quot;</span>).stringValue());
        <a class="code" href="class_ieee80211_mac.html#a59cc1a59362db4fdf48b81b8e7f62d2e">queueModule</a> = check_and_cast&lt;<a class="code" href="class_i_passive_queue.html">IPassiveQueue</a> *&gt;(module);

        <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;Requesting first two frames from queue module\n&quot;</span>;
        <a class="code" href="class_ieee80211_mac.html#a59cc1a59362db4fdf48b81b8e7f62d2e">queueModule</a>-&gt;<a class="code" href="class_i_passive_queue.html#af28ddf4ff33afab50f9d34d1b24e2f6d">requestPacket</a>();
        <span class="comment">// needed for backoff: mandatory if next message is already present</span>
        <a class="code" href="class_ieee80211_mac.html#a59cc1a59362db4fdf48b81b8e7f62d2e">queueModule</a>-&gt;<a class="code" href="class_i_passive_queue.html#af28ddf4ff33afab50f9d34d1b24e2f6d">requestPacket</a>();
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a45baf5991b010588132ecfea105a17b0"></a><!-- doxytag: member="Ieee80211Mac::invalidateBackoffPeriod" ref="a45baf5991b010588132ecfea105a17b0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::invalidateBackoffPeriod </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Generates a new backoff period based on the contention window. </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_ieee80211_mac.html#a97fb235214ec97bd334dc0bcdcb94f32">backoffPeriod</a> = -1;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3e8e21090db18d0cc4596af8588346c9"></a><!-- doxytag: member="Ieee80211Mac::isBroadcast" ref="a3e8e21090db18d0cc4596af8588346c9" args="(Ieee80211Frame *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Ieee80211Mac::isBroadcast </td>
          <td>(</td>
          <td class="paramtype">Ieee80211Frame *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns true if message is a broadcast message. </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#a5806d200b6dc0abcd87732edb240479e">buildDataFrame()</a>, <a class="el" href="class_ieee80211_mac.html#ab34517c360aa546041515d97c354dd43">computeBackoffPeriod()</a>, and <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> frame &amp;&amp; frame-&gt;getReceiverAddress().isBroadcast();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a331f759ba45d0d363362dce7d1b9f9b0"></a><!-- doxytag: member="Ieee80211Mac::isDataOrMgmtFrame" ref="a331f759ba45d0d363362dce7d1b9f9b0" args="(Ieee80211Frame *frame)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Ieee80211Mac::isDataOrMgmtFrame </td>
          <td>(</td>
          <td class="paramtype">Ieee80211Frame *&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Checks if the frame is a data or management frame. </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span>Ieee80211DataOrMgmtFrame*<span class="keyword">&gt;</span>(frame);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6a44f63a391702d7e31078eae7fe453b"></a><!-- doxytag: member="Ieee80211Mac::isForUs" ref="a6a44f63a391702d7e31078eae7fe453b" args="(Ieee80211Frame *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Ieee80211Mac::isForUs </td>
          <td>(</td>
          <td class="paramtype">Ieee80211Frame *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns true if message destination address is ours. </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#af163e249ed0577fb5027e3e9cf54d6a5">handleLowerMsg()</a>, <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>, and <a class="el" href="class_ieee80211_mac.html#a21662171dd8c6356df3c8b050d7c9414">scheduleReservePeriod()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> frame &amp;&amp; frame-&gt;getReceiverAddress() == <a class="code" href="class_ieee80211_mac.html#a3c12af5380d900067de2346248e5fc57">address</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac0b29b4f8c930e44e5dd062b79e394c0"></a><!-- doxytag: member="Ieee80211Mac::isInvalidBackoffPeriod" ref="ac0b29b4f8c930e44e5dd062b79e394c0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Ieee80211Mac::isInvalidBackoffPeriod </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="class_ieee80211_mac.html#a97fb235214ec97bd334dc0bcdcb94f32">backoffPeriod</a> == -1;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa4550d6a69c5e5a56d2a72ac0dc86729"></a><!-- doxytag: member="Ieee80211Mac::isMediumFree" ref="aa4550d6a69c5e5a56d2a72ac0dc86729" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Ieee80211Mac::isMediumFree </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Tells if the medium is free according to the physical and virtual carrier sense algorithm. </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="class_ieee80211_mac.html#a08443ed66fd8def7cdbce3953cb732c0">radioState</a> == <a class="code" href="class_radio_state.html#a9b2ff8c4d3f1cdb73af0a9fcea0d5449aeb600ab2fbbbbc2d12d874edb9320ec0">RadioState::IDLE</a> &amp;&amp; !<a class="code" href="class_ieee80211_mac.html#a0f69601950c961a483e33c1455390f9a">endReserve</a>-&gt;isScheduled();
}
</pre></div>
</div>
</div>
<a class="anchor" id="adf18b82f7ec2838535e84fba8ef43f3e"></a><!-- doxytag: member="Ieee80211Mac::isMediumStateChange" ref="adf18b82f7ec2838535e84fba8ef43f3e" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Ieee80211Mac::isMediumStateChange </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Used by the state machine to identify medium state change events. This message is currently optimized away and not sent through the kernel. </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> msg == <a class="code" href="class_ieee80211_mac.html#add8e4e32b5dc5f2e4960563eb457ed40">mediumStateChange</a> || (msg == <a class="code" href="class_ieee80211_mac.html#a0f69601950c961a483e33c1455390f9a">endReserve</a> &amp;&amp; <a class="code" href="class_ieee80211_mac.html#a08443ed66fd8def7cdbce3953cb732c0">radioState</a> == <a class="code" href="class_ieee80211_mac.html#a7c7e301f779c29eb446b9a06f74020daae7e75316d129fb411aa5a21ff03ddec5">RadioState::IDLE</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0cae572eab527e836aadae2ef9df5b3d"></a><!-- doxytag: member="Ieee80211Mac::logState" ref="a0cae572eab527e836aadae2ef9df5b3d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::logState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Logs all state information. </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a>  &lt;&lt; <span class="stringliteral">&quot;state information: mode = &quot;</span> &lt;&lt; <a class="code" href="class_ieee80211_mac.html#ad717066cb5cc83f789b4abbe28d311d7" title="Produce a readable name of the given MAC operation mode.">modeName</a>(<a class="code" href="class_ieee80211_mac.html#a4d34e2aa99b6fd38ef07005d8cc7be99">mode</a>) &lt;&lt; <span class="stringliteral">&quot;, state = &quot;</span> &lt;&lt; <a class="code" href="class_ieee80211_mac.html#a43b47b9bec83a94863108b1b3ae34bb6">fsm</a>.getStateName()
        &lt;&lt; <span class="stringliteral">&quot;, backoff = &quot;</span> &lt;&lt; <a class="code" href="class_ieee80211_mac.html#aa21f2979d0e71025b7d7da1ae9a5e656">backoff</a> &lt;&lt; <span class="stringliteral">&quot;, backoffPeriod = &quot;</span> &lt;&lt; <a class="code" href="class_ieee80211_mac.html#a97fb235214ec97bd334dc0bcdcb94f32">backoffPeriod</a>
        &lt;&lt; <span class="stringliteral">&quot;, retryCounter = &quot;</span> &lt;&lt; <a class="code" href="class_ieee80211_mac.html#aaf4fd54bc69d8695ebc5d1f86d4cacdd">retryCounter</a> &lt;&lt; <span class="stringliteral">&quot;, radioState = &quot;</span> &lt;&lt; <a class="code" href="class_ieee80211_mac.html#a08443ed66fd8def7cdbce3953cb732c0">radioState</a>
        &lt;&lt; <span class="stringliteral">&quot;, nav = &quot;</span> &lt;&lt; <a class="code" href="class_ieee80211_mac.html#a591c8f37742e3960afb1a50df3e6673f">nav</a> &lt;&lt; endl;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad717066cb5cc83f789b4abbe28d311d7"></a><!-- doxytag: member="Ieee80211Mac::modeName" ref="ad717066cb5cc83f789b4abbe28d311d7" args="(int mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * Ieee80211Mac::modeName </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Produce a readable name of the given MAC operation mode. </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#a0cae572eab527e836aadae2ef9df5b3d">logState()</a>.</p>
<div class="fragment"><pre class="fragment">{
<span class="preprocessor">#define CASE(x) case x: s=#x; break</span>
<span class="preprocessor"></span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *s = <span class="stringliteral">&quot;???&quot;</span>;
    <span class="keywordflow">switch</span> (<a class="code" href="class_ieee80211_mac.html#a4d34e2aa99b6fd38ef07005d8cc7be99">mode</a>)
    {
        <a class="code" href="_ether_m_a_c_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="class_ieee80211_mac.html#acc067e4a0585c9fbac4ce009e2ed03caad4632a6aa23ad2c585b22a7d823fd792" title="Distributed Coordination Function.">DCF</a>);
        <a class="code" href="_ether_m_a_c_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="class_ieee80211_mac.html#acc067e4a0585c9fbac4ce009e2ed03caa3a0563a9327d929352635290f322e189" title="Point Coordination Function.">PCF</a>);
    }
    <span class="keywordflow">return</span> s;
<span class="preprocessor">#undef CASE</span>
<span class="preprocessor"></span>}
</pre></div>
</div>
</div>
<a class="anchor" id="a71351c92bb5234f62edb24b1a0f1f1b7"></a><!-- doxytag: member="Ieee80211Mac::numInitStages" ref="a71351c92bb5234f62edb24b1a0f1f1b7" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int Ieee80211Mac::numInitStages </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialization of the module and its variables. </p>
<div class="fragment"><pre class="fragment">{<span class="keywordflow">return</span> 2;}
</pre></div>
</div>
</div>
<a class="anchor" id="af9ffa2b13e0336e9cc15334dea0122da"></a><!-- doxytag: member="Ieee80211Mac::popTransmissionQueue" ref="af9ffa2b13e0336e9cc15334dea0122da" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::popTransmissionQueue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Deletes frame at the front of queue. </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#ae7e7f22c4c76ac7be8ffff853cbf7503">finishCurrentTransmission()</a>, and <a class="el" href="class_ieee80211_mac.html#a793227beb883e6f0f0b5c993aa6b7f56">giveUpCurrentTransmission()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;dropping frame from transmission queue\n&quot;</span>;
    Ieee80211Frame *temp = <a class="code" href="class_ieee80211_mac.html#ac08493c34df5189f10a3199ba60f95c4">transmissionQueue</a>.front();
    <a class="code" href="class_ieee80211_mac.html#ac08493c34df5189f10a3199ba60f95c4">transmissionQueue</a>.pop_front();
    <span class="keyword">delete</span> temp;

    <span class="keywordflow">if</span> (<a class="code" href="class_ieee80211_mac.html#a59cc1a59362db4fdf48b81b8e7f62d2e">queueModule</a>)
    {
        <span class="comment">// tell queue module that we&#39;ve become idle</span>
        <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;requesting another frame from queue module\n&quot;</span>;
        <a class="code" href="class_ieee80211_mac.html#a59cc1a59362db4fdf48b81b8e7f62d2e">queueModule</a>-&gt;<a class="code" href="class_i_passive_queue.html#af28ddf4ff33afab50f9d34d1b24e2f6d">requestPacket</a>();
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3c6164232e8645bbbef5d178d78fd8c4"></a><!-- doxytag: member="Ieee80211Mac::receiveChangeNotification" ref="a3c6164232e8645bbbef5d178d78fd8c4" args="(int category, const cPolymorphic *details)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::receiveChangeNotification </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>category</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const cPolymorphic *&#160;</td>
          <td class="paramname"><em>details</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called by the <a class="el" href="class_notification_board.html">NotificationBoard</a> whenever a change occurs we're interested in. </p>

<p>Implements <a class="el" href="class_i_notifiable.html#a67d757190e1128eaec8f0a8e51ed38f6">INotifiable</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method_Silent();
    <a class="code" href="_notifier_consts_8cc.html#a68fd4b933fae636048bb9ee52fd922e5">printNotificationBanner</a>(category, details);

    <span class="keywordflow">if</span> (category == <a class="code" href="_notifier_consts_8h.html#a06fc87d81c62e9abb8790b6e5713c55baa6e69ccdaad903262ac00b89b6208a69">NF_RADIOSTATE_CHANGED</a>)
    {
        <a class="code" href="class_radio_state.html#a9b2ff8c4d3f1cdb73af0a9fcea0d5449">RadioState::State</a> newRadioState = check_and_cast&lt;<a class="code" href="class_radio_state.html">RadioState</a> *&gt;(details)-&gt;getState();

        <span class="comment">// FIXME: double recording, because there&#39;s no sample hold in the gui</span>
        <a class="code" href="class_ieee80211_mac.html#a84539589b7715d29c69d1191a521f45b">radioStateVector</a>.record(<a class="code" href="class_ieee80211_mac.html#a08443ed66fd8def7cdbce3953cb732c0">radioState</a>);
        <a class="code" href="class_ieee80211_mac.html#a84539589b7715d29c69d1191a521f45b">radioStateVector</a>.record(newRadioState);

        <a class="code" href="class_ieee80211_mac.html#a08443ed66fd8def7cdbce3953cb732c0">radioState</a> = newRadioState;

        <a class="code" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2" title="Handle all kinds of messages and notifications with the state machine.">handleWithFSM</a>(<a class="code" href="class_ieee80211_mac.html#add8e4e32b5dc5f2e4960563eb457ed40">mediumStateChange</a>);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a306f0e039efc2ede2e2e209bf02f7b1a"></a><!-- doxytag: member="Ieee80211Mac::registerInterface" ref="a306f0e039efc2ede2e2e209bf02f7b1a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::registerInterface </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_i_interface_table.html">IInterfaceTable</a> *ift = <a class="code" href="class_interface_table_access.html">InterfaceTableAccess</a>().<a class="code" href="class_module_access.html#af36748c789196a55ab1c11c28d741b03">getIfExists</a>();
    <span class="keywordflow">if</span> (!ift)
        <span class="keywordflow">return</span>;

    <a class="code" href="class_interface_entry.html">InterfaceEntry</a> *e = <span class="keyword">new</span> <a class="code" href="class_interface_entry.html">InterfaceEntry</a>();

    <span class="comment">// interface name: NetworkInterface module&#39;s name without special characters ([])</span>
    <span class="keywordtype">char</span> *interfaceName = <span class="keyword">new</span> <span class="keywordtype">char</span>[strlen(getParentModule()-&gt;getFullName()) + 1];
    <span class="keywordtype">char</span> *d = interfaceName;
    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keywordtype">char</span> *s = getParentModule()-&gt;getFullName(); *s; s++)
        <span class="keywordflow">if</span> (isalnum(*s))
            *d++ = *s;
    *d = <span class="charliteral">&#39;\0&#39;</span>;

    e-&gt;<a class="code" href="class_interface_entry.html#af9ca0c7af3a0f45e7d7102e6cc2b089e">setName</a>(interfaceName);
    <span class="keyword">delete</span> [] interfaceName;

    <span class="comment">// address</span>
    e-&gt;<a class="code" href="class_interface_entry.html#ac10c228cc65a2c799c798ca75de593dc">setMACAddress</a>(<a class="code" href="class_ieee80211_mac.html#a3c12af5380d900067de2346248e5fc57">address</a>);
    e-&gt;<a class="code" href="class_interface_entry.html#a7fad57b268a57abe1de80d30299d4c45">setInterfaceToken</a>(<a class="code" href="class_ieee80211_mac.html#a3c12af5380d900067de2346248e5fc57">address</a>.<a class="code" href="class_m_a_c_address.html#af646c7d6a3dbe4a94465fd3ec144f08f">formInterfaceIdentifier</a>());

    <span class="comment">// FIXME: MTU on 802.11 = ?</span>
    e-&gt;<a class="code" href="class_interface_entry.html#aaebcf5970e29877b0a4b68ddaaaf540f">setMtu</a>(par(<span class="stringliteral">&quot;mtu&quot;</span>));

    <span class="comment">// capabilities</span>
    e-&gt;<a class="code" href="class_interface_entry.html#a6f9c79da187d1d56c028b616f3be28fe">setBroadcast</a>(<span class="keyword">true</span>);
    e-&gt;<a class="code" href="class_interface_entry.html#a0b9fca7071b37185a18b6693c3502f69">setMulticast</a>(<span class="keyword">true</span>);
    e-&gt;<a class="code" href="class_interface_entry.html#af207b6ea20ecd9bedd4acfae50a3500f">setPointToPoint</a>(<span class="keyword">false</span>);

    <span class="comment">// add</span>
    ift-&gt;<a class="code" href="class_i_interface_table.html#a2159ab6dc917bd6f1b2061980bbdf107">addInterface</a>(e, <span class="keyword">this</span>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ace0608e9ca57414b54817d04b184b120"></a><!-- doxytag: member="Ieee80211Mac::resetStateVariables" ref="ace0608e9ca57414b54817d04b184b120" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::resetStateVariables </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reset backoff, backoffPeriod and retryCounter for IDLE state. </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#ae7e7f22c4c76ac7be8ffff853cbf7503">finishCurrentTransmission()</a>, <a class="el" href="class_ieee80211_mac.html#a793227beb883e6f0f0b5c993aa6b7f56">giveUpCurrentTransmission()</a>, and <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_ieee80211_mac.html#a97fb235214ec97bd334dc0bcdcb94f32">backoffPeriod</a> = 0;
    <a class="code" href="class_ieee80211_mac.html#aaf4fd54bc69d8695ebc5d1f86d4cacdd">retryCounter</a> = 0;

    <span class="keywordflow">if</span> (!<a class="code" href="class_ieee80211_mac.html#ac08493c34df5189f10a3199ba60f95c4">transmissionQueue</a>.empty()) {
        <a class="code" href="class_ieee80211_mac.html#aa21f2979d0e71025b7d7da1ae9a5e656">backoff</a> = <span class="keyword">true</span>;
        <a class="code" href="class_ieee80211_mac.html#a85bc4ee88b4123a9b38d42cbf6af8e43" title="Returns the current frame being transmitted.">getCurrentTransmission</a>()-&gt;setRetry(<span class="keyword">false</span>);
    }
    <span class="keywordflow">else</span> {
        <a class="code" href="class_ieee80211_mac.html#aa21f2979d0e71025b7d7da1ae9a5e656">backoff</a> = <span class="keyword">false</span>;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1140ac3364f8defb6d66deb76af9d55e"></a><!-- doxytag: member="Ieee80211Mac::retryCurrentTransmission" ref="a1140ac3364f8defb6d66deb76af9d55e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::retryCurrentTransmission </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>.</p>
<div class="fragment"><pre class="fragment">{
    ASSERT(<a class="code" href="class_ieee80211_mac.html#aaf4fd54bc69d8695ebc5d1f86d4cacdd">retryCounter</a> &lt; <a class="code" href="class_ieee80211_mac.html#a7ef4f6b331003c2e2054428fa4534bd9">transmissionLimit</a> - 1);
    <a class="code" href="class_ieee80211_mac.html#a85bc4ee88b4123a9b38d42cbf6af8e43" title="Returns the current frame being transmitted.">getCurrentTransmission</a>()-&gt;setRetry(<span class="keyword">true</span>);
    <a class="code" href="class_ieee80211_mac.html#aaf4fd54bc69d8695ebc5d1f86d4cacdd">retryCounter</a>++;
    <a class="code" href="class_ieee80211_mac.html#a5a3258861ee26e78b2378160233ae6f5">numRetry</a>++;
    <a class="code" href="class_ieee80211_mac.html#aa21f2979d0e71025b7d7da1ae9a5e656">backoff</a> = <span class="keyword">true</span>;
    <a class="code" href="class_ieee80211_mac.html#adb7349369b15dc3f966da2b8a7b8d0d0">generateBackoffPeriod</a>();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4ea47166959fb7622be67011d131d8f5"></a><!-- doxytag: member="Ieee80211Mac::scheduleBackoffPeriod" ref="a4ea47166959fb7622be67011d131d8f5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::scheduleBackoffPeriod </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;scheduling backoff period\n&quot;</span>;
    scheduleAt(simTime() + <a class="code" href="class_ieee80211_mac.html#a97fb235214ec97bd334dc0bcdcb94f32">backoffPeriod</a>, <a class="code" href="class_ieee80211_mac.html#a82794398a43a1d936ba16d893871e0e2">endBackoff</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae49ff307323745c607aa72ddbd8eefcd"></a><!-- doxytag: member="Ieee80211Mac::scheduleBroadcastTimeoutPeriod" ref="ae49ff307323745c607aa72ddbd8eefcd" args="(Ieee80211DataOrMgmtFrame *frame)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::scheduleBroadcastTimeoutPeriod </td>
          <td>(</td>
          <td class="paramtype">Ieee80211DataOrMgmtFrame *&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;scheduling broadcast timeout period\n&quot;</span>;
    scheduleAt(simTime() + <a class="code" href="class_ieee80211_mac.html#a938984c4144284ab225e087b6789ce71" title="Computes the duration (in seconds) of the transmission of a frame over the physical channel...">computeFrameDuration</a>(frameToSend), <a class="code" href="class_ieee80211_mac.html#a27bd612a3164002020b5c315fb096f79">endTimeout</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a916864ac7a266c8fdf466a185c3a68dc"></a><!-- doxytag: member="Ieee80211Mac::scheduleCTSTimeoutPeriod" ref="a916864ac7a266c8fdf466a185c3a68dc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::scheduleCTSTimeoutPeriod </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>.</p>
<div class="fragment"><pre class="fragment">{
    scheduleAt(simTime() + <a class="code" href="class_ieee80211_mac.html#a938984c4144284ab225e087b6789ce71" title="Computes the duration (in seconds) of the transmission of a frame over the physical channel...">computeFrameDuration</a>(<a class="code" href="_ieee80211_consts_8h.html#a994032d4c974294f5a24e0e3160d90f4">LENGTH_RTS</a>, <a class="code" href="class_ieee80211_mac.html#a1bb21c978ee1dced3878113908a6cc56">basicBitrate</a>) + <a class="code" href="class_ieee80211_mac.html#a502179f9e3503763304b8f3fd4ba32fa">getSIFS</a>() + <a class="code" href="class_ieee80211_mac.html#a938984c4144284ab225e087b6789ce71" title="Computes the duration (in seconds) of the transmission of a frame over the physical channel...">computeFrameDuration</a>(<a class="code" href="_ieee80211_consts_8h.html#a615c2db16153273956d34e0a7b4a46cf">LENGTH_CTS</a>, <a class="code" href="class_ieee80211_mac.html#a1bb21c978ee1dced3878113908a6cc56">basicBitrate</a>) + <a class="code" href="_ieee80211_consts_8h.html#a326bc90ca8d16cf60d60f761b6494a40">MAX_PROPAGATION_DELAY</a> * 2, <a class="code" href="class_ieee80211_mac.html#a27bd612a3164002020b5c315fb096f79">endTimeout</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab699599e2dc2ffb747a9a7ae8a8f98e8"></a><!-- doxytag: member="Ieee80211Mac::scheduleDataTimeoutPeriod" ref="ab699599e2dc2ffb747a9a7ae8a8f98e8" args="(Ieee80211DataOrMgmtFrame *frame)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::scheduleDataTimeoutPeriod </td>
          <td>(</td>
          <td class="paramtype">Ieee80211DataOrMgmtFrame *&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;scheduling data timeout period\n&quot;</span>;
    scheduleAt(simTime() + <a class="code" href="class_ieee80211_mac.html#a938984c4144284ab225e087b6789ce71" title="Computes the duration (in seconds) of the transmission of a frame over the physical channel...">computeFrameDuration</a>(frameToSend) + <a class="code" href="class_ieee80211_mac.html#a502179f9e3503763304b8f3fd4ba32fa">getSIFS</a>() + <a class="code" href="class_ieee80211_mac.html#a938984c4144284ab225e087b6789ce71" title="Computes the duration (in seconds) of the transmission of a frame over the physical channel...">computeFrameDuration</a>(<a class="code" href="_ieee80211_consts_8h.html#a91dfe4eeae95a6cf191fe0cfddeac182">LENGTH_ACK</a>, <a class="code" href="class_ieee80211_mac.html#a1bb21c978ee1dced3878113908a6cc56">basicBitrate</a>) + <a class="code" href="_ieee80211_consts_8h.html#a326bc90ca8d16cf60d60f761b6494a40">MAX_PROPAGATION_DELAY</a> * 2, <a class="code" href="class_ieee80211_mac.html#a27bd612a3164002020b5c315fb096f79">endTimeout</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a84bd3147b655f8396f37926fe34a17ad"></a><!-- doxytag: member="Ieee80211Mac::scheduleDIFSPeriod" ref="a84bd3147b655f8396f37926fe34a17ad" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::scheduleDIFSPeriod </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="class_ieee80211_mac.html#aae4419ab39198abdf1fc8955b07e5e20">lastReceiveFailed</a>)
    {
        <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;receiption of last frame failed, scheduling EIFS period\n&quot;</span>;
        scheduleAt(simTime() + <a class="code" href="class_ieee80211_mac.html#a87bec8aaae96a4fe5d70816d48477183">getEIFS</a>(), <a class="code" href="class_ieee80211_mac.html#a5bec0576b30d76fcb7f6546a83e6194a">endDIFS</a>);
    }
    <span class="keywordflow">else</span>
    {
        <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;scheduling DIFS period\n&quot;</span>;
        scheduleAt(simTime() + <a class="code" href="class_ieee80211_mac.html#a0f34064c34a1e6bc53832280a95e8fbc">getDIFS</a>(), <a class="code" href="class_ieee80211_mac.html#a5bec0576b30d76fcb7f6546a83e6194a">endDIFS</a>);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a21662171dd8c6356df3c8b050d7c9414"></a><!-- doxytag: member="Ieee80211Mac::scheduleReservePeriod" ref="a21662171dd8c6356df3c8b050d7c9414" args="(Ieee80211Frame *frame)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::scheduleReservePeriod </td>
          <td>(</td>
          <td class="paramtype">Ieee80211Frame *&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Schedule network allocation period according to 9.2.5.4. </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>.</p>
<div class="fragment"><pre class="fragment">{
    simtime_t reserve = frame-&gt;getDuration();

    <span class="comment">// see spec. 7.1.3.2</span>
    <span class="keywordflow">if</span> (!<a class="code" href="class_ieee80211_mac.html#a6a44f63a391702d7e31078eae7fe453b" title="Returns true if message destination address is ours.">isForUs</a>(frame) &amp;&amp; reserve != 0 &amp;&amp; reserve &lt; 32768)
    {
        <span class="keywordflow">if</span> (<a class="code" href="class_ieee80211_mac.html#a0f69601950c961a483e33c1455390f9a">endReserve</a>-&gt;isScheduled()) {
            simtime_t oldReserve = <a class="code" href="class_ieee80211_mac.html#a0f69601950c961a483e33c1455390f9a">endReserve</a>-&gt;getArrivalTime() - simTime();

            <span class="keywordflow">if</span> (oldReserve &gt; reserve)
                <span class="keywordflow">return</span>;

            reserve = <a class="code" href="_s_c_t_p_association_8h.html#afdb84bd44c7cbd3fc9cbe1e3bf07d948">std::max</a>(reserve, oldReserve);
            cancelEvent(<a class="code" href="class_ieee80211_mac.html#a0f69601950c961a483e33c1455390f9a">endReserve</a>);
        }
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_ieee80211_mac.html#a08443ed66fd8def7cdbce3953cb732c0">radioState</a> == <a class="code" href="class_radio_state.html#a9b2ff8c4d3f1cdb73af0a9fcea0d5449aeb600ab2fbbbbc2d12d874edb9320ec0">RadioState::IDLE</a>)
        {
            <span class="comment">// NAV: the channel just became virtually busy according to the spec</span>
            scheduleAt(simTime(), <a class="code" href="class_ieee80211_mac.html#add8e4e32b5dc5f2e4960563eb457ed40">mediumStateChange</a>);
        }

        <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;scheduling reserve period for: &quot;</span> &lt;&lt; reserve &lt;&lt; endl;

        ASSERT(reserve &gt; 0);

        <a class="code" href="class_ieee80211_mac.html#a591c8f37742e3960afb1a50df3e6673f">nav</a> = <span class="keyword">true</span>;
        scheduleAt(simTime() + reserve, <a class="code" href="class_ieee80211_mac.html#a0f69601950c961a483e33c1455390f9a">endReserve</a>);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a325e59dc74a3ad59596933aaf96012a7"></a><!-- doxytag: member="Ieee80211Mac::scheduleSIFSPeriod" ref="a325e59dc74a3ad59596933aaf96012a7" args="(Ieee80211Frame *frame)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::scheduleSIFSPeriod </td>
          <td>(</td>
          <td class="paramtype">Ieee80211Frame *&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;scheduling SIFS period\n&quot;</span>;
    <a class="code" href="class_ieee80211_mac.html#a72b8ec2bcb1b505a709eab0ff96799dc">endSIFS</a>-&gt;setContextPointer(frame-&gt;dup());
    scheduleAt(simTime() + <a class="code" href="class_ieee80211_mac.html#a502179f9e3503763304b8f3fd4ba32fa">getSIFS</a>(), <a class="code" href="class_ieee80211_mac.html#a72b8ec2bcb1b505a709eab0ff96799dc">endSIFS</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0afcec3ebbe4fac7c63ac32937604540"></a><!-- doxytag: member="Ieee80211Mac::sendACKFrame" ref="a0afcec3ebbe4fac7c63ac32937604540" args="(Ieee80211DataOrMgmtFrame *frame)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::sendACKFrame </td>
          <td>(</td>
          <td class="paramtype">Ieee80211DataOrMgmtFrame *&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#a1fa778f58e945ac0b347dfa66785224b">sendACKFrameOnEndSIFS()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;sending ACK frame\n&quot;</span>;
    <a class="code" href="class_wireless_mac_base.html#a97af424876ed4fc77702d183f38dc83c" title="Sends a message to the lower layer.">sendDown</a>(<a class="code" href="class_ieee80211_mac.html#a90256fefdfde93f0f350a100c8b94eda" title="Attaches a PhyControlInfo to the frame which will cause it to be sent at basicBitrate not bitrate (e...">setBasicBitrate</a>(<a class="code" href="class_ieee80211_mac.html#a7eab1962fd94c95151d62e3fb71253e0">buildACKFrame</a>(frameToACK)));
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1fa778f58e945ac0b347dfa66785224b"></a><!-- doxytag: member="Ieee80211Mac::sendACKFrameOnEndSIFS" ref="a1fa778f58e945ac0b347dfa66785224b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::sendACKFrameOnEndSIFS </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>.</p>
<div class="fragment"><pre class="fragment">{
    Ieee80211Frame *frameToACK = (Ieee80211Frame *)<a class="code" href="class_ieee80211_mac.html#a72b8ec2bcb1b505a709eab0ff96799dc">endSIFS</a>-&gt;getContextPointer();
    <a class="code" href="class_ieee80211_mac.html#a72b8ec2bcb1b505a709eab0ff96799dc">endSIFS</a>-&gt;setContextPointer(NULL);
    <a class="code" href="class_ieee80211_mac.html#a0afcec3ebbe4fac7c63ac32937604540">sendACKFrame</a>(check_and_cast&lt;Ieee80211DataOrMgmtFrame*&gt;(frameToACK));
    <span class="keyword">delete</span> frameToACK;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a39720691a045c98037ec4025b9ab5207"></a><!-- doxytag: member="Ieee80211Mac::sendBroadcastFrame" ref="a39720691a045c98037ec4025b9ab5207" args="(Ieee80211DataOrMgmtFrame *frameToSend)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::sendBroadcastFrame </td>
          <td>(</td>
          <td class="paramtype">Ieee80211DataOrMgmtFrame *&#160;</td>
          <td class="paramname"><em>frameToSend</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;sending Broadcast frame\n&quot;</span>;
    <a class="code" href="class_wireless_mac_base.html#a97af424876ed4fc77702d183f38dc83c" title="Sends a message to the lower layer.">sendDown</a>(<a class="code" href="class_ieee80211_mac.html#a8213d9fea4bc9500dfe899ee70d2789e">buildBroadcastFrame</a>(frameToSend));
}
</pre></div>
</div>
</div>
<a class="anchor" id="a910622485a5816a5a5475858871bbbdc"></a><!-- doxytag: member="Ieee80211Mac::sendCTSFrame" ref="a910622485a5816a5a5475858871bbbdc" args="(Ieee80211RTSFrame *rtsFrame)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::sendCTSFrame </td>
          <td>(</td>
          <td class="paramtype">Ieee80211RTSFrame *&#160;</td>
          <td class="paramname"><em>rtsFrame</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#a821d34cb04fd6ebd9b0d6989b963614d">sendCTSFrameOnEndSIFS()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;sending CTS frame\n&quot;</span>;
    <a class="code" href="class_wireless_mac_base.html#a97af424876ed4fc77702d183f38dc83c" title="Sends a message to the lower layer.">sendDown</a>(<a class="code" href="class_ieee80211_mac.html#a90256fefdfde93f0f350a100c8b94eda" title="Attaches a PhyControlInfo to the frame which will cause it to be sent at basicBitrate not bitrate (e...">setBasicBitrate</a>(<a class="code" href="class_ieee80211_mac.html#aaea047b56dcec7dc99d9681138c1f719">buildCTSFrame</a>(rtsFrame)));
}
</pre></div>
</div>
</div>
<a class="anchor" id="a821d34cb04fd6ebd9b0d6989b963614d"></a><!-- doxytag: member="Ieee80211Mac::sendCTSFrameOnEndSIFS" ref="a821d34cb04fd6ebd9b0d6989b963614d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::sendCTSFrameOnEndSIFS </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>.</p>
<div class="fragment"><pre class="fragment">{
    Ieee80211Frame *rtsFrame = (Ieee80211Frame *)<a class="code" href="class_ieee80211_mac.html#a72b8ec2bcb1b505a709eab0ff96799dc">endSIFS</a>-&gt;getContextPointer();
    <a class="code" href="class_ieee80211_mac.html#a72b8ec2bcb1b505a709eab0ff96799dc">endSIFS</a>-&gt;setContextPointer(NULL);
    <a class="code" href="class_ieee80211_mac.html#a910622485a5816a5a5475858871bbbdc">sendCTSFrame</a>(check_and_cast&lt;Ieee80211RTSFrame*&gt;(rtsFrame));
    <span class="keyword">delete</span> rtsFrame;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3283d9bfc1d01d05dc65887e6f0e8518"></a><!-- doxytag: member="Ieee80211Mac::sendDataFrame" ref="a3283d9bfc1d01d05dc65887e6f0e8518" args="(Ieee80211DataOrMgmtFrame *frameToSend)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::sendDataFrame </td>
          <td>(</td>
          <td class="paramtype">Ieee80211DataOrMgmtFrame *&#160;</td>
          <td class="paramname"><em>frameToSend</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>, and <a class="el" href="class_ieee80211_mac.html#a535d6bc217f1cfc210fe798c3b89a114">sendDataFrameOnEndSIFS()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;sending Data frame\n&quot;</span>;
    <a class="code" href="class_wireless_mac_base.html#a97af424876ed4fc77702d183f38dc83c" title="Sends a message to the lower layer.">sendDown</a>(<a class="code" href="class_ieee80211_mac.html#a5806d200b6dc0abcd87732edb240479e">buildDataFrame</a>(frameToSend));
}
</pre></div>
</div>
</div>
<a class="anchor" id="a535d6bc217f1cfc210fe798c3b89a114"></a><!-- doxytag: member="Ieee80211Mac::sendDataFrameOnEndSIFS" ref="a535d6bc217f1cfc210fe798c3b89a114" args="(Ieee80211DataOrMgmtFrame *frameToSend)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::sendDataFrameOnEndSIFS </td>
          <td>(</td>
          <td class="paramtype">Ieee80211DataOrMgmtFrame *&#160;</td>
          <td class="paramname"><em>frameToSend</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>.</p>
<div class="fragment"><pre class="fragment">{
    Ieee80211Frame *ctsFrame = (Ieee80211Frame *)<a class="code" href="class_ieee80211_mac.html#a72b8ec2bcb1b505a709eab0ff96799dc">endSIFS</a>-&gt;getContextPointer();
    <a class="code" href="class_ieee80211_mac.html#a72b8ec2bcb1b505a709eab0ff96799dc">endSIFS</a>-&gt;setContextPointer(NULL);
    <a class="code" href="class_ieee80211_mac.html#a3283d9bfc1d01d05dc65887e6f0e8518">sendDataFrame</a>(frameToSend);
    <span class="keyword">delete</span> ctsFrame;
}
</pre></div>
</div>
</div>
<a class="anchor" id="af24a75754986f091cf9b5e6987bb7bf3"></a><!-- doxytag: member="Ieee80211Mac::sendDownPendingRadioConfigMsg" ref="af24a75754986f091cf9b5e6987bb7bf3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::sendDownPendingRadioConfigMsg </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send down the change channel message to the physical layer if there is any. </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="class_ieee80211_mac.html#ad747f5e3abaad56a3fb03ec39426c27e">pendingRadioConfigMsg</a> != NULL)
    {
        <a class="code" href="class_wireless_mac_base.html#a97af424876ed4fc77702d183f38dc83c" title="Sends a message to the lower layer.">sendDown</a>(<a class="code" href="class_ieee80211_mac.html#ad747f5e3abaad56a3fb03ec39426c27e">pendingRadioConfigMsg</a>);
        <a class="code" href="class_ieee80211_mac.html#ad747f5e3abaad56a3fb03ec39426c27e">pendingRadioConfigMsg</a> = NULL;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="abe3eb2e0a57570ce0f786da221090924"></a><!-- doxytag: member="Ieee80211Mac::sendRTSFrame" ref="abe3eb2e0a57570ce0f786da221090924" args="(Ieee80211DataOrMgmtFrame *frameToSend)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::sendRTSFrame </td>
          <td>(</td>
          <td class="paramtype">Ieee80211DataOrMgmtFrame *&#160;</td>
          <td class="paramname"><em>frameToSend</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;sending RTS frame\n&quot;</span>;
    <a class="code" href="class_wireless_mac_base.html#a97af424876ed4fc77702d183f38dc83c" title="Sends a message to the lower layer.">sendDown</a>(<a class="code" href="class_ieee80211_mac.html#a90256fefdfde93f0f350a100c8b94eda" title="Attaches a PhyControlInfo to the frame which will cause it to be sent at basicBitrate not bitrate (e...">setBasicBitrate</a>(<a class="code" href="class_ieee80211_mac.html#aec5d4575e8b8f4339815208c394f86cc">buildRTSFrame</a>(frameToSend)));
}
</pre></div>
</div>
</div>
<a class="anchor" id="a90256fefdfde93f0f350a100c8b94eda"></a><!-- doxytag: member="Ieee80211Mac::setBasicBitrate" ref="a90256fefdfde93f0f350a100c8b94eda" args="(Ieee80211Frame *frame)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Ieee80211Frame * Ieee80211Mac::setBasicBitrate </td>
          <td>(</td>
          <td class="paramtype">Ieee80211Frame *&#160;</td>
          <td class="paramname"><em>frame</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Attaches a PhyControlInfo to the frame which will cause it to be sent at basicBitrate not bitrate (e.g. 2Mbps instead of 11Mbps). Used with ACK, CTS, RTS. </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#a0afcec3ebbe4fac7c63ac32937604540">sendACKFrame()</a>, <a class="el" href="class_ieee80211_mac.html#a910622485a5816a5a5475858871bbbdc">sendCTSFrame()</a>, and <a class="el" href="class_ieee80211_mac.html#abe3eb2e0a57570ce0f786da221090924">sendRTSFrame()</a>.</p>
<div class="fragment"><pre class="fragment">{
    ASSERT(frame-&gt;getControlInfo()==NULL);
    PhyControlInfo *ctrl = <span class="keyword">new</span> PhyControlInfo();
    ctrl-&gt;setBitrate(<a class="code" href="class_ieee80211_mac.html#a1bb21c978ee1dced3878113908a6cc56">basicBitrate</a>);
    frame-&gt;setControlInfo(ctrl);
    <span class="keywordflow">return</span> frame;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a030408679db4d3c498bf79032baa4618"></a><!-- doxytag: member="Ieee80211Mac::setMode" ref="a030408679db4d3c498bf79032baa4618" args="(Mode mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ieee80211Mac::setMode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_ieee80211_mac.html#acc067e4a0585c9fbac4ce009e2ed03ca">Mode</a>&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Change the current MAC operation mode. </p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="class_ieee80211_mac.html#a4d34e2aa99b6fd38ef07005d8cc7be99">mode</a> == <a class="code" href="class_ieee80211_mac.html#acc067e4a0585c9fbac4ce009e2ed03caa3a0563a9327d929352635290f322e189" title="Point Coordination Function.">PCF</a>)
        error(<span class="stringliteral">&quot;PCF mode not yet supported&quot;</span>);

    this-&gt;<a class="code" href="class_ieee80211_mac.html#a4d34e2aa99b6fd38ef07005d8cc7be99">mode</a> = <a class="code" href="class_ieee80211_mac.html#a4d34e2aa99b6fd38ef07005d8cc7be99">mode</a>;
}
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a3c12af5380d900067de2346248e5fc57"></a><!-- doxytag: member="Ieee80211Mac::address" ref="a3c12af5380d900067de2346248e5fc57" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_m_a_c_address.html">MACAddress</a> <a class="el" href="class_ieee80211_mac.html#a3c12af5380d900067de2346248e5fc57">Ieee80211Mac::address</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>MAC address </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aec5d4575e8b8f4339815208c394f86cc">buildRTSFrame()</a>, <a class="el" href="class_ieee80211_mac.html#af163e249ed0577fb5027e3e9cf54d6a5">handleLowerMsg()</a>, <a class="el" href="class_ieee80211_mac.html#a3c78df80f39331fe0c35a19b2a991714">handleUpperMsg()</a>, <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>, <a class="el" href="class_ieee80211_mac.html#a6a44f63a391702d7e31078eae7fe453b">isForUs()</a>, and <a class="el" href="class_ieee80211_mac.html#a306f0e039efc2ede2e2e209bf02f7b1a">registerInterface()</a>.</p>

</div>
</div>
<a class="anchor" id="af3cf1a0d1737d69c490ef2fdf9595f3f"></a><!-- doxytag: member="Ieee80211Mac::asfTuplesList" ref="af3cf1a0d1737d69c490ef2fdf9595f3f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_ieee80211_mac.html#a58735d5a5662d92c0dd3246a4e8ffbeb">Ieee80211ASFTupleList</a> <a class="el" href="class_ieee80211_mac.html#af3cf1a0d1737d69c490ef2fdf9595f3f">Ieee80211Mac::asfTuplesList</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>A list of last sender, sequence and fragment number tuples to identify duplicates, see spec 9.2.9. TODO: this is not yet used </p>

</div>
</div>
<a class="anchor" id="aa21f2979d0e71025b7d7da1ae9a5e656"></a><!-- doxytag: member="Ieee80211Mac::backoff" ref="aa21f2979d0e71025b7d7da1ae9a5e656" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_ieee80211_mac.html#aa21f2979d0e71025b7d7da1ae9a5e656">Ieee80211Mac::backoff</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>True if backoff is enabled </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>, <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>, <a class="el" href="class_ieee80211_mac.html#a0cae572eab527e836aadae2ef9df5b3d">logState()</a>, <a class="el" href="class_ieee80211_mac.html#ace0608e9ca57414b54817d04b184b120">resetStateVariables()</a>, and <a class="el" href="class_ieee80211_mac.html#a1140ac3364f8defb6d66deb76af9d55e">retryCurrentTransmission()</a>.</p>

</div>
</div>
<a class="anchor" id="a97fb235214ec97bd334dc0bcdcb94f32"></a><!-- doxytag: member="Ieee80211Mac::backoffPeriod" ref="a97fb235214ec97bd334dc0bcdcb94f32" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t <a class="el" href="class_ieee80211_mac.html#a97fb235214ec97bd334dc0bcdcb94f32">Ieee80211Mac::backoffPeriod</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Remaining backoff period in seconds </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#accd0c207251e64841e545a538a0d5e13">decreaseBackoffPeriod()</a>, <a class="el" href="class_ieee80211_mac.html#adb7349369b15dc3f966da2b8a7b8d0d0">generateBackoffPeriod()</a>, <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>, <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>, <a class="el" href="class_ieee80211_mac.html#a45baf5991b010588132ecfea105a17b0">invalidateBackoffPeriod()</a>, <a class="el" href="class_ieee80211_mac.html#ac0b29b4f8c930e44e5dd062b79e394c0">isInvalidBackoffPeriod()</a>, <a class="el" href="class_ieee80211_mac.html#a0cae572eab527e836aadae2ef9df5b3d">logState()</a>, <a class="el" href="class_ieee80211_mac.html#ace0608e9ca57414b54817d04b184b120">resetStateVariables()</a>, and <a class="el" href="class_ieee80211_mac.html#a4ea47166959fb7622be67011d131d8f5">scheduleBackoffPeriod()</a>.</p>

</div>
</div>
<a class="anchor" id="a1bb21c978ee1dced3878113908a6cc56"></a><!-- doxytag: member="Ieee80211Mac::basicBitrate" ref="a1bb21c978ee1dced3878113908a6cc56" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="class_ieee80211_mac.html#a1bb21c978ee1dced3878113908a6cc56">Ieee80211Mac::basicBitrate</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The basic bitrate (1 or 2 Mbps) is used to transmit control frames </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#a7eab1962fd94c95151d62e3fb71253e0">buildACKFrame()</a>, <a class="el" href="class_ieee80211_mac.html#aaea047b56dcec7dc99d9681138c1f719">buildCTSFrame()</a>, <a class="el" href="class_ieee80211_mac.html#a5806d200b6dc0abcd87732edb240479e">buildDataFrame()</a>, <a class="el" href="class_ieee80211_mac.html#aec5d4575e8b8f4339815208c394f86cc">buildRTSFrame()</a>, <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>, <a class="el" href="class_ieee80211_mac.html#a916864ac7a266c8fdf466a185c3a68dc">scheduleCTSTimeoutPeriod()</a>, <a class="el" href="class_ieee80211_mac.html#ab699599e2dc2ffb747a9a7ae8a8f98e8">scheduleDataTimeoutPeriod()</a>, and <a class="el" href="class_ieee80211_mac.html#a90256fefdfde93f0f350a100c8b94eda">setBasicBitrate()</a>.</p>

</div>
</div>
<a class="anchor" id="a1a66661cea11c9b2bcf69076d85b70c3"></a><!-- doxytag: member="Ieee80211Mac::bitrate" ref="a1a66661cea11c9b2bcf69076d85b70c3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="class_ieee80211_mac.html#a1a66661cea11c9b2bcf69076d85b70c3">Ieee80211Mac::bitrate</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The bitrate is used to send data and mgmt frames; be sure to use a valid 802.11 bitrate </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#a938984c4144284ab225e087b6789ce71">computeFrameDuration()</a>, and <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="a189e3641d647b4d4c506e709a0873467"></a><!-- doxytag: member="Ieee80211Mac::cwMinBroadcast" ref="a189e3641d647b4d4c506e709a0873467" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_ieee80211_mac.html#a189e3641d647b4d4c506e709a0873467">Ieee80211Mac::cwMinBroadcast</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Contention window size for broadcast messages. </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#ab34517c360aa546041515d97c354dd43">computeBackoffPeriod()</a>, and <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="a620e6bf7dd85045ca5f65164a47e1cfd"></a><!-- doxytag: member="Ieee80211Mac::cwMinData" ref="a620e6bf7dd85045ca5f65164a47e1cfd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_ieee80211_mac.html#a620e6bf7dd85045ca5f65164a47e1cfd">Ieee80211Mac::cwMinData</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Minimum contention window. </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#ab34517c360aa546041515d97c354dd43">computeBackoffPeriod()</a>, and <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="a82794398a43a1d936ba16d893871e0e2"></a><!-- doxytag: member="Ieee80211Mac::endBackoff" ref="a82794398a43a1d936ba16d893871e0e2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* <a class="el" href="class_ieee80211_mac.html#a82794398a43a1d936ba16d893871e0e2">Ieee80211Mac::endBackoff</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>End of the backoff period </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#a80a6ffa55936b6ee00a09c45cf82aaf0">cancelBackoffPeriod()</a>, <a class="el" href="class_ieee80211_mac.html#accd0c207251e64841e545a538a0d5e13">decreaseBackoffPeriod()</a>, <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>, <a class="el" href="class_ieee80211_mac.html#a34230eadfc933351daa3921147113e67">Ieee80211Mac()</a>, <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>, <a class="el" href="class_ieee80211_mac.html#a4ea47166959fb7622be67011d131d8f5">scheduleBackoffPeriod()</a>, and <a class="el" href="class_ieee80211_mac.html#a5996f42ab538115f55c7f74121276f09">~Ieee80211Mac()</a>.</p>

</div>
</div>
<a class="anchor" id="a5bec0576b30d76fcb7f6546a83e6194a"></a><!-- doxytag: member="Ieee80211Mac::endDIFS" ref="a5bec0576b30d76fcb7f6546a83e6194a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* <a class="el" href="class_ieee80211_mac.html#a5bec0576b30d76fcb7f6546a83e6194a">Ieee80211Mac::endDIFS</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>End of the Data Inter-Frame Time period </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#a1427f98783abfa545523111cd3f209bb">cancelDIFSPeriod()</a>, <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>, <a class="el" href="class_ieee80211_mac.html#a34230eadfc933351daa3921147113e67">Ieee80211Mac()</a>, <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>, <a class="el" href="class_ieee80211_mac.html#a84bd3147b655f8396f37926fe34a17ad">scheduleDIFSPeriod()</a>, and <a class="el" href="class_ieee80211_mac.html#a5996f42ab538115f55c7f74121276f09">~Ieee80211Mac()</a>.</p>

</div>
</div>
<a class="anchor" id="a0f69601950c961a483e33c1455390f9a"></a><!-- doxytag: member="Ieee80211Mac::endReserve" ref="a0f69601950c961a483e33c1455390f9a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* <a class="el" href="class_ieee80211_mac.html#a0f69601950c961a483e33c1455390f9a">Ieee80211Mac::endReserve</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>End of medium reserve period (NAV) when two other nodes were communicating on the channel </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#a9c4e21cc98783e53810b622e0c6deda2">handleSelfMsg()</a>, <a class="el" href="class_ieee80211_mac.html#a34230eadfc933351daa3921147113e67">Ieee80211Mac()</a>, <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>, <a class="el" href="class_ieee80211_mac.html#aa4550d6a69c5e5a56d2a72ac0dc86729">isMediumFree()</a>, <a class="el" href="class_ieee80211_mac.html#adf18b82f7ec2838535e84fba8ef43f3e">isMediumStateChange()</a>, <a class="el" href="class_ieee80211_mac.html#a21662171dd8c6356df3c8b050d7c9414">scheduleReservePeriod()</a>, and <a class="el" href="class_ieee80211_mac.html#a5996f42ab538115f55c7f74121276f09">~Ieee80211Mac()</a>.</p>

</div>
</div>
<a class="anchor" id="a72b8ec2bcb1b505a709eab0ff96799dc"></a><!-- doxytag: member="Ieee80211Mac::endSIFS" ref="a72b8ec2bcb1b505a709eab0ff96799dc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* <a class="el" href="class_ieee80211_mac.html#a72b8ec2bcb1b505a709eab0ff96799dc">Ieee80211Mac::endSIFS</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>End of the Short Inter-Frame Time period </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#a3ae0423bce927f7db18f55a88e44e20a">getFrameReceivedBeforeSIFS()</a>, <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>, <a class="el" href="class_ieee80211_mac.html#a34230eadfc933351daa3921147113e67">Ieee80211Mac()</a>, <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>, <a class="el" href="class_ieee80211_mac.html#a325e59dc74a3ad59596933aaf96012a7">scheduleSIFSPeriod()</a>, <a class="el" href="class_ieee80211_mac.html#a1fa778f58e945ac0b347dfa66785224b">sendACKFrameOnEndSIFS()</a>, <a class="el" href="class_ieee80211_mac.html#a821d34cb04fd6ebd9b0d6989b963614d">sendCTSFrameOnEndSIFS()</a>, <a class="el" href="class_ieee80211_mac.html#a535d6bc217f1cfc210fe798c3b89a114">sendDataFrameOnEndSIFS()</a>, and <a class="el" href="class_ieee80211_mac.html#a5996f42ab538115f55c7f74121276f09">~Ieee80211Mac()</a>.</p>

</div>
</div>
<a class="anchor" id="a27bd612a3164002020b5c315fb096f79"></a><!-- doxytag: member="Ieee80211Mac::endTimeout" ref="a27bd612a3164002020b5c315fb096f79" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* <a class="el" href="class_ieee80211_mac.html#a27bd612a3164002020b5c315fb096f79">Ieee80211Mac::endTimeout</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Timeout after the transmission of an RTS, a CTS, or a DATA frame </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#a9a3d534aa427c8ec65713ad1f3e0e223">cancelTimeoutPeriod()</a>, <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>, <a class="el" href="class_ieee80211_mac.html#a34230eadfc933351daa3921147113e67">Ieee80211Mac()</a>, <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>, <a class="el" href="class_ieee80211_mac.html#ae49ff307323745c607aa72ddbd8eefcd">scheduleBroadcastTimeoutPeriod()</a>, <a class="el" href="class_ieee80211_mac.html#a916864ac7a266c8fdf466a185c3a68dc">scheduleCTSTimeoutPeriod()</a>, <a class="el" href="class_ieee80211_mac.html#ab699599e2dc2ffb747a9a7ae8a8f98e8">scheduleDataTimeoutPeriod()</a>, and <a class="el" href="class_ieee80211_mac.html#a5996f42ab538115f55c7f74121276f09">~Ieee80211Mac()</a>.</p>

</div>
</div>
<a class="anchor" id="af6a8a67f828409cf76bf3c3f0fd6d35b"></a><!-- doxytag: member="Ieee80211Mac::fragmentationThreshold" ref="af6a8a67f828409cf76bf3c3f0fd6d35b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int <a class="el" href="class_ieee80211_mac.html#af6a8a67f828409cf76bf3c3f0fd6d35b">Ieee80211Mac::fragmentationThreshold</a> = 2346<code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Messages longer than this threshold will be sent in multiple fragments. see spec 361 </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#a3c78df80f39331fe0c35a19b2a991714">handleUpperMsg()</a>.</p>

</div>
</div>
<a class="anchor" id="a43b47b9bec83a94863108b1b3ae34bb6"></a><!-- doxytag: member="Ieee80211Mac::fsm" ref="a43b47b9bec83a94863108b1b3ae34bb6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cFSM <a class="el" href="class_ieee80211_mac.html#a43b47b9bec83a94863108b1b3ae34bb6">Ieee80211Mac::fsm</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aedaaf3e337f2d4a0790dbe392ac9f481">handleCommand()</a>, <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>, <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>, and <a class="el" href="class_ieee80211_mac.html#a0cae572eab527e836aadae2ef9df5b3d">logState()</a>.</p>

</div>
</div>
<a class="anchor" id="aae4419ab39198abdf1fc8955b07e5e20"></a><!-- doxytag: member="Ieee80211Mac::lastReceiveFailed" ref="aae4419ab39198abdf1fc8955b07e5e20" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_ieee80211_mac.html#aae4419ab39198abdf1fc8955b07e5e20">Ieee80211Mac::lastReceiveFailed</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Indicates that the last frame received had bit errors in it or there was a collision during receiving the frame. If this flag is set, then the MAC will wait EIFS instead of DIFS period of time in WAITDIFS state. </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>, <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>, and <a class="el" href="class_ieee80211_mac.html#a84bd3147b655f8396f37926fe34a17ad">scheduleDIFSPeriod()</a>.</p>

</div>
</div>
<a class="anchor" id="a06b55f6481683d64db13605b27b9537a"></a><!-- doxytag: member="Ieee80211Mac::maxQueueSize" ref="a06b55f6481683d64db13605b27b9537a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_ieee80211_mac.html#a06b55f6481683d64db13605b27b9537a">Ieee80211Mac::maxQueueSize</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Maximum number of frames in the queue; should be set in the omnetpp.ini </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#a3c78df80f39331fe0c35a19b2a991714">handleUpperMsg()</a>, and <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="add8e4e32b5dc5f2e4960563eb457ed40"></a><!-- doxytag: member="Ieee80211Mac::mediumStateChange" ref="add8e4e32b5dc5f2e4960563eb457ed40" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* <a class="el" href="class_ieee80211_mac.html#add8e4e32b5dc5f2e4960563eb457ed40">Ieee80211Mac::mediumStateChange</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Radio state change self message. Currently this is optimized away and sent directly </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#a34230eadfc933351daa3921147113e67">Ieee80211Mac()</a>, <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>, <a class="el" href="class_ieee80211_mac.html#adf18b82f7ec2838535e84fba8ef43f3e">isMediumStateChange()</a>, <a class="el" href="class_ieee80211_mac.html#a3c6164232e8645bbbef5d178d78fd8c4">receiveChangeNotification()</a>, <a class="el" href="class_ieee80211_mac.html#a21662171dd8c6356df3c8b050d7c9414">scheduleReservePeriod()</a>, and <a class="el" href="class_ieee80211_mac.html#a5996f42ab538115f55c7f74121276f09">~Ieee80211Mac()</a>.</p>

</div>
</div>
<a class="anchor" id="a4d34e2aa99b6fd38ef07005d8cc7be99"></a><!-- doxytag: member="Ieee80211Mac::mode" ref="a4d34e2aa99b6fd38ef07005d8cc7be99" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_ieee80211_mac.html#acc067e4a0585c9fbac4ce009e2ed03ca">Mode</a> <a class="el" href="class_ieee80211_mac.html#a4d34e2aa99b6fd38ef07005d8cc7be99">Ieee80211Mac::mode</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>, <a class="el" href="class_ieee80211_mac.html#a0cae572eab527e836aadae2ef9df5b3d">logState()</a>, and <a class="el" href="class_ieee80211_mac.html#a030408679db4d3c498bf79032baa4618">setMode()</a>.</p>

</div>
</div>
<a class="anchor" id="a591c8f37742e3960afb1a50df3e6673f"></a><!-- doxytag: member="Ieee80211Mac::nav" ref="a591c8f37742e3960afb1a50df3e6673f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_ieee80211_mac.html#a591c8f37742e3960afb1a50df3e6673f">Ieee80211Mac::nav</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>True during network allocation period. This flag is present to be able to watch this state. </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#a9c4e21cc98783e53810b622e0c6deda2">handleSelfMsg()</a>, <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>, <a class="el" href="class_ieee80211_mac.html#a0cae572eab527e836aadae2ef9df5b3d">logState()</a>, and <a class="el" href="class_ieee80211_mac.html#a21662171dd8c6356df3c8b050d7c9414">scheduleReservePeriod()</a>.</p>

</div>
</div>
<a class="anchor" id="a7cde61a60a0ba921bec433b5d1113c84"></a><!-- doxytag: member="Ieee80211Mac::numCollision" ref="a7cde61a60a0ba921bec433b5d1113c84" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long <a class="el" href="class_ieee80211_mac.html#a7cde61a60a0ba921bec433b5d1113c84">Ieee80211Mac::numCollision</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>, and <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="aea9e86c3d8f9db03a6a9dcab0bd36df7"></a><!-- doxytag: member="Ieee80211Mac::numGivenUp" ref="aea9e86c3d8f9db03a6a9dcab0bd36df7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long <a class="el" href="class_ieee80211_mac.html#aea9e86c3d8f9db03a6a9dcab0bd36df7">Ieee80211Mac::numGivenUp</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#a793227beb883e6f0f0b5c993aa6b7f56">giveUpCurrentTransmission()</a>, and <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="a44149d10cf8b6f6b1f906d68d2157714"></a><!-- doxytag: member="Ieee80211Mac::numReceived" ref="a44149d10cf8b6f6b1f906d68d2157714" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long <a class="el" href="class_ieee80211_mac.html#a44149d10cf8b6f6b1f906d68d2157714">Ieee80211Mac::numReceived</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>, and <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="af5839182df73e2f63a767d1927a5ac16"></a><!-- doxytag: member="Ieee80211Mac::numReceivedBroadcast" ref="af5839182df73e2f63a767d1927a5ac16" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long <a class="el" href="class_ieee80211_mac.html#af5839182df73e2f63a767d1927a5ac16">Ieee80211Mac::numReceivedBroadcast</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>, and <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="a5a3258861ee26e78b2378160233ae6f5"></a><!-- doxytag: member="Ieee80211Mac::numRetry" ref="a5a3258861ee26e78b2378160233ae6f5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long <a class="el" href="class_ieee80211_mac.html#a5a3258861ee26e78b2378160233ae6f5">Ieee80211Mac::numRetry</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>, and <a class="el" href="class_ieee80211_mac.html#a1140ac3364f8defb6d66deb76af9d55e">retryCurrentTransmission()</a>.</p>

</div>
</div>
<a class="anchor" id="a5451e3e610dca607187e39f176d91120"></a><!-- doxytag: member="Ieee80211Mac::numSent" ref="a5451e3e610dca607187e39f176d91120" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long <a class="el" href="class_ieee80211_mac.html#a5451e3e610dca607187e39f176d91120">Ieee80211Mac::numSent</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>, and <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="aa6376b24ff26d3f78706f5b8656c3167"></a><!-- doxytag: member="Ieee80211Mac::numSentBroadcast" ref="aa6376b24ff26d3f78706f5b8656c3167" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long <a class="el" href="class_ieee80211_mac.html#aa6376b24ff26d3f78706f5b8656c3167">Ieee80211Mac::numSentBroadcast</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>, and <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="a6c4930c1fd531fe421935816d8856443"></a><!-- doxytag: member="Ieee80211Mac::numSentWithoutRetry" ref="a6c4930c1fd531fe421935816d8856443" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long <a class="el" href="class_ieee80211_mac.html#a6c4930c1fd531fe421935816d8856443">Ieee80211Mac::numSentWithoutRetry</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>, and <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="ad747f5e3abaad56a3fb03ec39426c27e"></a><!-- doxytag: member="Ieee80211Mac::pendingRadioConfigMsg" ref="ad747f5e3abaad56a3fb03ec39426c27e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* <a class="el" href="class_ieee80211_mac.html#ad747f5e3abaad56a3fb03ec39426c27e">Ieee80211Mac::pendingRadioConfigMsg</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The last change channel message received and not yet sent to the physical layer, or NULL. The message will be sent down when the state goes to IDLE or DEFER next time. </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aedaaf3e337f2d4a0790dbe392ac9f481">handleCommand()</a>, <a class="el" href="class_ieee80211_mac.html#a34230eadfc933351daa3921147113e67">Ieee80211Mac()</a>, <a class="el" href="class_ieee80211_mac.html#af24a75754986f091cf9b5e6987bb7bf3">sendDownPendingRadioConfigMsg()</a>, and <a class="el" href="class_ieee80211_mac.html#a5996f42ab538115f55c7f74121276f09">~Ieee80211Mac()</a>.</p>

</div>
</div>
<a class="anchor" id="a59cc1a59362db4fdf48b81b8e7f62d2e"></a><!-- doxytag: member="Ieee80211Mac::queueModule" ref="a59cc1a59362db4fdf48b81b8e7f62d2e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_passive_queue.html">IPassiveQueue</a>* <a class="el" href="class_ieee80211_mac.html#a59cc1a59362db4fdf48b81b8e7f62d2e">Ieee80211Mac::queueModule</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Passive queue module to request messages from </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#a76503451f2ddc57bec7426c3f9f919ca">initializeQueueModule()</a>, and <a class="el" href="class_ieee80211_mac.html#af9ffa2b13e0336e9cc15334dea0122da">popTransmissionQueue()</a>.</p>

</div>
</div>
<a class="anchor" id="a08443ed66fd8def7cdbce3953cb732c0"></a><!-- doxytag: member="Ieee80211Mac::radioState" ref="a08443ed66fd8def7cdbce3953cb732c0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_radio_state.html#a9b2ff8c4d3f1cdb73af0a9fcea0d5449">RadioState::State</a> <a class="el" href="class_ieee80211_mac.html#a08443ed66fd8def7cdbce3953cb732c0">Ieee80211Mac::radioState</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Physical radio (medium) state copied from physical layer </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>, <a class="el" href="class_ieee80211_mac.html#aa4550d6a69c5e5a56d2a72ac0dc86729">isMediumFree()</a>, <a class="el" href="class_ieee80211_mac.html#adf18b82f7ec2838535e84fba8ef43f3e">isMediumStateChange()</a>, <a class="el" href="class_ieee80211_mac.html#a0cae572eab527e836aadae2ef9df5b3d">logState()</a>, <a class="el" href="class_ieee80211_mac.html#a3c6164232e8645bbbef5d178d78fd8c4">receiveChangeNotification()</a>, and <a class="el" href="class_ieee80211_mac.html#a21662171dd8c6356df3c8b050d7c9414">scheduleReservePeriod()</a>.</p>

</div>
</div>
<a class="anchor" id="a84539589b7715d29c69d1191a521f45b"></a><!-- doxytag: member="Ieee80211Mac::radioStateVector" ref="a84539589b7715d29c69d1191a521f45b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector <a class="el" href="class_ieee80211_mac.html#a84539589b7715d29c69d1191a521f45b">Ieee80211Mac::radioStateVector</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>, and <a class="el" href="class_ieee80211_mac.html#a3c6164232e8645bbbef5d178d78fd8c4">receiveChangeNotification()</a>.</p>

</div>
</div>
<a class="anchor" id="aaf4fd54bc69d8695ebc5d1f86d4cacdd"></a><!-- doxytag: member="Ieee80211Mac::retryCounter" ref="aaf4fd54bc69d8695ebc5d1f86d4cacdd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_ieee80211_mac.html#aaf4fd54bc69d8695ebc5d1f86d4cacdd">Ieee80211Mac::retryCounter</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Number of frame retransmission attempts, this is a simpification of SLRC and SSRC, see 9.2.4 in the spec </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#adb7349369b15dc3f966da2b8a7b8d0d0">generateBackoffPeriod()</a>, <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>, <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>, <a class="el" href="class_ieee80211_mac.html#a0cae572eab527e836aadae2ef9df5b3d">logState()</a>, <a class="el" href="class_ieee80211_mac.html#ace0608e9ca57414b54817d04b184b120">resetStateVariables()</a>, and <a class="el" href="class_ieee80211_mac.html#a1140ac3364f8defb6d66deb76af9d55e">retryCurrentTransmission()</a>.</p>

</div>
</div>
<a class="anchor" id="a1bb03a4c3ab2056a1a3d9cab41388613"></a><!-- doxytag: member="Ieee80211Mac::rtsThreshold" ref="a1bb03a4c3ab2056a1a3d9cab41388613" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_ieee80211_mac.html#a1bb03a4c3ab2056a1a3d9cab41388613">Ieee80211Mac::rtsThreshold</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The minimum length of MPDU to use RTS/CTS mechanism. 0 means always, extremely large value means never. See spec 9.2.6 and 361. </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>, and <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="a109b2d75d8fc4201674478a72bb31762"></a><!-- doxytag: member="Ieee80211Mac::sequenceNumber" ref="a109b2d75d8fc4201674478a72bb31762" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_ieee80211_mac.html#a109b2d75d8fc4201674478a72bb31762">Ieee80211Mac::sequenceNumber</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sequence number to be assigned to the next frame </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#a3c78df80f39331fe0c35a19b2a991714">handleUpperMsg()</a>, and <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="a784de8a16601c48f1f792adc9a35c321"></a><!-- doxytag: member="Ieee80211Mac::stateVector" ref="a784de8a16601c48f1f792adc9a35c321" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector <a class="el" href="class_ieee80211_mac.html#a784de8a16601c48f1f792adc9a35c321">Ieee80211Mac::stateVector</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>, and <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="a7ef4f6b331003c2e2054428fa4534bd9"></a><!-- doxytag: member="Ieee80211Mac::transmissionLimit" ref="a7ef4f6b331003c2e2054428fa4534bd9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_ieee80211_mac.html#a7ef4f6b331003c2e2054428fa4534bd9">Ieee80211Mac::transmissionLimit</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Maximum number of transmissions for a message. This includes the initial transmission and all subsequent retransmissions. Thus a value 0 is invalid and a value 1 means no retransmissions. See: dot11ShortRetryLimit on page 484. 'This attribute shall indicate the maximum number of transmission attempts of a frame, the length of which is less than or equal to dot11RTSThreshold, that shall be made before a failure condition is indicated. The default value of this attribute shall be 7' </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#ab34517c360aa546041515d97c354dd43">computeBackoffPeriod()</a>, <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>, <a class="el" href="class_ieee80211_mac.html#acc89ca1fc93ad17f2a78a01bd474f058">initialize()</a>, and <a class="el" href="class_ieee80211_mac.html#a1140ac3364f8defb6d66deb76af9d55e">retryCurrentTransmission()</a>.</p>

</div>
</div>
<a class="anchor" id="ac08493c34df5189f10a3199ba60f95c4"></a><!-- doxytag: member="Ieee80211Mac::transmissionQueue" ref="ac08493c34df5189f10a3199ba60f95c4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_ieee80211_mac.html#a79de4fc04e68ba3e7154437b1b6bf6de">Ieee80211DataOrMgmtFrameList</a> <a class="el" href="class_ieee80211_mac.html#ac08493c34df5189f10a3199ba60f95c4">Ieee80211Mac::transmissionQueue</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Messages received from upper layer and to be transmitted later </p>

<p>Referenced by <a class="el" href="class_ieee80211_mac.html#a85bc4ee88b4123a9b38d42cbf6af8e43">getCurrentTransmission()</a>, <a class="el" href="class_ieee80211_mac.html#a3c78df80f39331fe0c35a19b2a991714">handleUpperMsg()</a>, <a class="el" href="class_ieee80211_mac.html#aa95e52e25b2792fb62dd4d758cac72a2">handleWithFSM()</a>, <a class="el" href="class_ieee80211_mac.html#af9ffa2b13e0336e9cc15334dea0122da">popTransmissionQueue()</a>, and <a class="el" href="class_ieee80211_mac.html#ace0608e9ca57414b54817d04b184b120">resetStateVariables()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_ieee80211_mac_8h.html">Ieee80211Mac.h</a></li>
<li><a class="el" href="_ieee80211_mac_8cc.html">Ieee80211Mac.cc</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="class_ieee80211_mac.html">Ieee80211Mac</a>      </li>
      <li class="footer">Generated on Fri Nov 18 2011 12:47:12 for INET Framework for OMNeT++/OMNEST by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </li>
    </ul>
  </div>

</body>
</html>
