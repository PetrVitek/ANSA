<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>INET Framework for OMNeT++/OMNEST: ErrAndCollDecider Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">INET Framework for OMNeT++/OMNEST
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_err_and_coll_decider.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pro-methods">Protected Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">ErrAndCollDecider Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="ErrAndCollDecider" --><!-- doxytag: inherits="SnrDecider" -->
<p>decider module for the <a class="el" href="class_gilbert_elliot_snr.html" title="Keeps track of the different snir levels when receiving a packet and switches between states GOOD and...">GilbertElliotSnr</a> module  
 <a href="class_err_and_coll_decider.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_err_and_coll_decider_8h_source.html">ErrAndCollDecider.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ErrAndCollDecider:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_err_and_coll_decider.png" usemap="#ErrAndCollDecider_map" alt=""/>
  <map id="ErrAndCollDecider_map" name="ErrAndCollDecider_map">
<area href="class_snr_decider.html" title="a simple snr decider..." alt="SnrDecider" shape="rect" coords="0,168,120,192"/>
<area href="class_basic_decider.html" title="Module to decide whether a frame is received correctly or is lost due to bit errors, interference..." alt="BasicDecider" shape="rect" coords="0,112,120,136"/>
<area href="class_basic_module.html" title="Base class for all simple modules of a host that want to have access to the NotificationBoard module..." alt="BasicModule" shape="rect" coords="0,56,120,80"/>
<area href="class_i_notifiable.html" alt="INotifiable" shape="rect" coords="0,0,120,24"/>
</map>
 </div></div>

<p><a href="class_err_and_coll_decider-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_err_and_coll_decider.html#aee1da91d3d0a44bd00edc9ac58b600a8">handleLowerMsg</a> (<a class="el" href="class_air_frame.html">AirFrame</a> *, <a class="el" href="_snr_list_8h.html#a241b5e7c9575e932988a55f7a5012a61">SnrList</a> &amp;)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">In this function the decision whether a frame is received correctly or not is made.  <a href="#aee1da91d3d0a44bd00edc9ac58b600a8"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>decider module for the <a class="el" href="class_gilbert_elliot_snr.html" title="Keeps track of the different snir levels when receiving a packet and switches between states GOOD and...">GilbertElliotSnr</a> module </p>
<p>This decider simply takes a look at the sduList contained in the received PhySDU packet and checks whether one of the mentioned snr levels is lower than the snrThresholdLevel which has to be read in at the beginning of a simulation (suggestion: from the omnetpp.ini file!). If there is such a level the packet is considered to be lost due to a collision. On top of that the packet can also be lost due to the BAD state of the digital channel model model (see e.g. <a class="el" href="class_gilbert_elliot_snr.html" title="Keeps track of the different snir levels when receiving a packet and switches between states GOOD and...">GilbertElliotSnr</a> module). This module should be used in combination with digital channel modules like <a class="el" href="class_gilbert_elliot_snr.html" title="Keeps track of the different snir levels when receiving a packet and switches between states GOOD and...">GilbertElliotSnr</a>.</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Marc Löbbers </dd></dl>

<p>Definition at line <a class="el" href="_err_and_coll_decider_8h_source.html#l00043">43</a> of file <a class="el" href="_err_and_coll_decider_8h_source.html">ErrAndCollDecider.h</a>.</p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aee1da91d3d0a44bd00edc9ac58b600a8"></a><!-- doxytag: member="ErrAndCollDecider::handleLowerMsg" ref="aee1da91d3d0a44bd00edc9ac58b600a8" args="(AirFrame *, SnrList &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_err_and_coll_decider.html#aee1da91d3d0a44bd00edc9ac58b600a8">ErrAndCollDecider::handleLowerMsg</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_air_frame.html">AirFrame</a> *&#160;</td>
          <td class="paramname"><em>frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_snr_list_8h.html#a241b5e7c9575e932988a55f7a5012a61">SnrList</a> &amp;&#160;</td>
          <td class="paramname"><em>snrList</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>In this function the decision whether a frame is received correctly or not is made. </p>
<p>Redefine this function if you want to process messages from the channel before they are forwarded to upper layers</p>
<p>In this function it has to be decided whether this message got lost or not. This can be done with a simple SNR threshold or with transformations of SNR into bit error probabilities...</p>
<p>If you want to forward the message to upper layers please use <a class="el" href="class_basic_decider.html#af138c784173f1f4099d25d59e1bde3e7">sendUp</a> which will decapsulate the MAC frame before sending </p>

<p>Reimplemented from <a class="el" href="class_snr_decider.html#affd51bd42b5411df2f8f6c115614d387">SnrDecider</a>.</p>

<p>Definition at line <a class="el" href="_err_and_coll_decider_8cc_source.html#l00027">27</a> of file <a class="el" href="_err_and_coll_decider_8cc_source.html">ErrAndCollDecider.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="class_snr_decider.html#a4c795f28df74941eeeab18e8dc8034a4">snrOverThreshold</a>(receivedList))
    {
        <span class="keywordflow">if</span> (af-&gt;hasBitError())
        {
            <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;Message got lost due to digital channel model BAD state\n&quot;</span>;
            <span class="keyword">delete</span> af;
        }
        <span class="keywordflow">else</span>
        {
            <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;Message handed on to Mac\n&quot;</span>;
            <a class="code" href="class_basic_decider.html#af138c784173f1f4099d25d59e1bde3e7" title="Sends a message to the upper layer.">sendUp</a>(af);
        }
    }
    <span class="keywordflow">else</span>
    {
        <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;COLLISION!\n&quot;</span>;
        <span class="keyword">delete</span> af;
    }
}
</pre></div>
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_err_and_coll_decider_8h_source.html">ErrAndCollDecider.h</a></li>
<li><a class="el" href="_err_and_coll_decider_8cc_source.html">ErrAndCollDecider.cc</a></li>
</ul>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="class_err_and_coll_decider.html">ErrAndCollDecider</a>      </li>

    <li class="footer">Generated on Wed Aug 29 2012 21:13:04 for INET Framework for OMNeT++/OMNEST by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
