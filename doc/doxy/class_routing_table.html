<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>INET Framework for OMNeT++/OMNEST: RoutingTable Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">INET Framework for OMNeT++/OMNEST
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_routing_table.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">RoutingTable Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="RoutingTable" --><!-- doxytag: inherits="IRoutingTable,INotifiable" -->
<p>Represents the routing table.  
 <a href="class_routing_table.html#details">More...</a></p>

<p><code>#include &lt;RoutingTable.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for RoutingTable:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_routing_table.png" usemap="#RoutingTable_map" alt=""/>
  <map id="RoutingTable_map" name="RoutingTable_map">
<area href="class_i_routing_table.html" title="A C++ interface to abstract the functionality of IRoutingTable." alt="IRoutingTable" shape="rect" coords="0,0,88,24"/>
<area href="class_i_notifiable.html" title="Clients can receive change notifications from the NotificationBoard via this interface." alt="INotifiable" shape="rect" coords="98,0,186,24"/>
</map>
 </div></div>

<p><a href="class_routing_table-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a0f4caeade124b4fde4c1a4521a914a02">RoutingTable</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#abe5b508511742899600b98401af7c761">~RoutingTable</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a86f4aa3d025b21b5e67ba14943fdf02b">printRoutingTable</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">For debugging.  <a href="#a86f4aa3d025b21b5e67ba14943fdf02b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#ad2aa6793b486715ceb51fac3c697fe67">printMulticastRoutingTable</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">For debugging.  <a href="#ad2aa6793b486715ceb51fac3c697fe67"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual cModule *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a1666faceee62135d13a90de564cb8027">getHostModule</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the host or router this routing table lives in.  <a href="#a1666faceee62135d13a90de564cb8027"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#ac1eb79e7247a9da2a64abc4050913efd">isIPForwardingEnabled</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_i_pv4.html" title="Implements the IPv4 protocol.">IPv4</a> forwarding on/off.  <a href="#ac1eb79e7247a9da2a64abc4050913efd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a8fc2f36e3d44475d4d32f50665959e0a">isMulticastForwardingEnabled</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_i_pv4.html" title="Implements the IPv4 protocol.">IPv4</a> multicast forwarding on/off.  <a href="#a8fc2f36e3d44475d4d32f50665959e0a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_i_pv4_address.html">IPv4Address</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a419c47addb0f3fb4e9c79909415fdf01">getRouterId</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns routerId.  <a href="#a419c47addb0f3fb4e9c79909415fdf01"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#aa739ac55cb618545366530bc60f1f58a">setRouterId</a> (<a class="el" href="class_i_pv4_address.html">IPv4Address</a> a)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets routerId.  <a href="#aa739ac55cb618545366530bc60f1f58a"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Interfaces</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#afaca8cf9e47f78fdd727d794109c1842">configureInterfaceForIPv4</a> (<a class="el" href="class_interface_entry.html">InterfaceEntry</a> *ie)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_interface_entry.html">InterfaceEntry</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a5876e9ceaa4796c12ca72a7fdc6474b8">getInterfaceByAddress</a> (const <a class="el" href="class_i_pv4_address.html">IPv4Address</a> &amp;address) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an interface given by its address.  <a href="#a5876e9ceaa4796c12ca72a7fdc6474b8"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Routing functions (query the route table)</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a128cafbfd8459bb37effbd0318cef00b">isLocalAddress</a> (const <a class="el" href="class_i_pv4_address.html">IPv4Address</a> &amp;dest) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the address is a local one, i.e.  <a href="#a128cafbfd8459bb37effbd0318cef00b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a08f67b0ddf0c5604469209234fee4275">isLocalBroadcastAddress</a> (const <a class="el" href="class_i_pv4_address.html">IPv4Address</a> &amp;dest) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the address is a local network broadcast address, i.e.  <a href="#a08f67b0ddf0c5604469209234fee4275"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_interface_entry.html">InterfaceEntry</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#ae79acf20435b1810f2a6ac6b34e00d27">findInterfaceByLocalBroadcastAddress</a> (const <a class="el" href="class_i_pv4_address.html">IPv4Address</a> &amp;dest) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the interface entry having the specified address as its local broadcast address.  <a href="#ae79acf20435b1810f2a6ac6b34e00d27"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_i_pv4_route.html">IPv4Route</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a8b9092653e4e081773350bcbe013a85e">findBestMatchingRoute</a> (const <a class="el" href="class_i_pv4_address.html">IPv4Address</a> &amp;dest) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The routing function.  <a href="#a8b9092653e4e081773350bcbe013a85e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_interface_entry.html">InterfaceEntry</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a3d41e5ff15d06e6e52ec404de9eb28c8">getInterfaceForDestAddr</a> (const <a class="el" href="class_i_pv4_address.html">IPv4Address</a> &amp;dest) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience function based on <a class="el" href="class_routing_table.html#a8b9092653e4e081773350bcbe013a85e" title="The routing function.">findBestMatchingRoute()</a>.  <a href="#a3d41e5ff15d06e6e52ec404de9eb28c8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_i_pv4_address.html">IPv4Address</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#aea8bf191d15222ec6cf57baa3302e8c2">getGatewayForDestAddr</a> (const <a class="el" href="class_i_pv4_address.html">IPv4Address</a> &amp;dest) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience function based on <a class="el" href="class_routing_table.html#a8b9092653e4e081773350bcbe013a85e" title="The routing function.">findBestMatchingRoute()</a>.  <a href="#aea8bf191d15222ec6cf57baa3302e8c2"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Multicast routing functions</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a825a08a15267e7d11fa40759ba2ec68f">isLocalMulticastAddress</a> (const <a class="el" href="class_i_pv4_address.html">IPv4Address</a> &amp;dest) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the address is in one of the local multicast group address list.  <a href="#a825a08a15267e7d11fa40759ba2ec68f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="class_i_pv4_multicast_route.html">IPv4MulticastRoute</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a4056063ca9a3cdea701b136fcae29eb0">findBestMatchingMulticastRoute</a> (const <a class="el" href="class_i_pv4_address.html">IPv4Address</a> &amp;origin, const <a class="el" href="class_i_pv4_address.html">IPv4Address</a> &amp;group) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns route for a multicast source and multicast group.  <a href="#a4056063ca9a3cdea701b136fcae29eb0"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Route table manipulation</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a5b823df5ff8f413bfdb0949253713e6f">getNumRoutes</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total number of routes (unicast, multicast, plus the default route).  <a href="#a5b823df5ff8f413bfdb0949253713e6f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_i_pv4_route.html">IPv4Route</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a458934c3272cfa75a1546fe227b03ded">getRoute</a> (int k) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the kth route.  <a href="#a458934c3272cfa75a1546fe227b03ded"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_i_pv4_route.html">IPv4Route</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a825bfcd82cc8a57343473d0a4dc289e6">getDefaultRoute</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Finds and returns the default route, or NULL if it doesn't exist.  <a href="#a825bfcd82cc8a57343473d0a4dc289e6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a98ddb5a7192facf8e9d25ce9c69570ed">addRoute</a> (<a class="el" href="class_i_pv4_route.html">IPv4Route</a> *entry)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a route to the routing table.  <a href="#a98ddb5a7192facf8e9d25ce9c69570ed"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_i_pv4_route.html">IPv4Route</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#ac435dc1e629b1d080820e2ef06aae9c7">removeRoute</a> (<a class="el" href="class_i_pv4_route.html">IPv4Route</a> *entry)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the given route from the routing table, and returns it.  <a href="#ac435dc1e629b1d080820e2ef06aae9c7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a5b5eb54bc29e507eb635d85b63c0fa1e">deleteRoute</a> (<a class="el" href="class_i_pv4_route.html">IPv4Route</a> *entry)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes the given route from the routing table.  <a href="#a5b5eb54bc29e507eb635d85b63c0fa1e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#ad14ea7ff2385644420653691ca4aba97">getNumMulticastRoutes</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total number of multicast routes.  <a href="#ad14ea7ff2385644420653691ca4aba97"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_i_pv4_multicast_route.html">IPv4MulticastRoute</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a6ea4e5b7be084e1b67715e960c77d0fb">getMulticastRoute</a> (int k) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the kth multicast route.  <a href="#a6ea4e5b7be084e1b67715e960c77d0fb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#acd12f958b135f524100b06357d18e901">addMulticastRoute</a> (<a class="el" href="class_i_pv4_multicast_route.html">IPv4MulticastRoute</a> *entry)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a multicast route to the routing table.  <a href="#acd12f958b135f524100b06357d18e901"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_i_pv4_multicast_route.html">IPv4MulticastRoute</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a499b9875800569b06af8982a687f4344">removeMulticastRoute</a> (<a class="el" href="class_i_pv4_multicast_route.html">IPv4MulticastRoute</a> *entry)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the given route from the routing table, and returns it.  <a href="#a499b9875800569b06af8982a687f4344"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#ae859a31dd464a73ecb15002e4ed6efde">deleteMulticastRoute</a> (<a class="el" href="class_i_pv4_multicast_route.html">IPv4MulticastRoute</a> *entry)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes the given multicast route from the routing table.  <a href="#ae859a31dd464a73ecb15002e4ed6efde"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#aca41a2d77a9dd13653ecbcfe1d53b068">purge</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes invalid routes from the routing table.  <a href="#aca41a2d77a9dd13653ecbcfe1d53b068"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; <a class="el" href="class_i_pv4_address.html">IPv4Address</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a1745a8eaff3a2a3f9e4a14416dfea88f">gatherAddresses</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility function: Returns a vector of all addresses of the node.  <a href="#a1745a8eaff3a2a3f9e4a14416dfea88f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a20a7e03aa0efb2ec1b0ed40b554477c6">routeChanged</a> (<a class="el" href="class_i_pv4_route.html">IPv4Route</a> *entry, int fieldCode)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">To be called from route objects whenever a field changes.  <a href="#a20a7e03aa0efb2ec1b0ed40b554477c6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#ad2fa475834fc1e958130d58ca7fbc54b">multicastRouteChanged</a> (<a class="el" href="class_i_pv4_multicast_route.html">IPv4MulticastRoute</a> *entry, int fieldCode)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">To be called from multicast route objects whenever a field changes.  <a href="#ad2fa475834fc1e958130d58ca7fbc54b"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef std::vector&lt; <a class="el" href="class_i_pv4_route.html">IPv4Route</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a80c11896617cb4aaf72bc1463cda679b">RouteVector</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef std::vector<br class="typebreak"/>
&lt; <a class="el" href="class_i_pv4_multicast_route.html">IPv4MulticastRoute</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a7b2ad6414325ee530041501f7e2a916c">MulticastRouteVector</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <br class="typebreak"/>
<a class="el" href="class_i_pv4_multicast_route_1_1_child_interface.html">IPv4MulticastRoute::ChildInterface</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a101275896cdf08d0d475750639a8dbc6">ChildInterface</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <br class="typebreak"/>
<a class="el" href="class_i_pv4_multicast_route.html#a32e2e490412f0f328b54f9e82ccb319c">IPv4MulticastRoute::ChildInterfaceVector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#af9975432a56ac87c52a8ff174c129126">ChildInterfaceVector</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; <a class="el" href="class_i_pv4_address.html">IPv4Address</a>, <br class="typebreak"/>
<a class="el" href="class_i_pv4_route.html">IPv4Route</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a37306e1075f508936680ca7c86aba6d4">RoutingCache</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef std::set&lt; <a class="el" href="class_i_pv4_address.html">IPv4Address</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#ad0bac83f4f0b674d0b9c35ad716352c3">AddressSet</a></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a7c5e8b0d56e707bffc8ae56aeb3ca545">configureLoopbackForIPv4</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a8b681e68c0cecf8b3b67981c23a86085">configureRouterId</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a22ed882b21268b0cb94b4ed3cd437319">updateNetmaskRoutes</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a8a8313b75234201d11785afdd69e4eca">updateDisplayString</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a95718902c009b8c2d4b09405a0d547a9">deleteInterfaceRoutes</a> (<a class="el" href="class_interface_entry.html">InterfaceEntry</a> *entry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a484a19b6b712d938738521f454420129">invalidateCache</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a5d35de53ea3791256f77bb09e0175c04">internalAddRoute</a> (<a class="el" href="class_i_pv4_route.html">IPv4Route</a> *entry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_i_pv4_route.html">IPv4Route</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a8fe7723ab30b95f277d3da8168f19c56">internalRemoveRoute</a> (<a class="el" href="class_i_pv4_route.html">IPv4Route</a> *entry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#acd82c7f8be63cede1b6ca3d1aca47cf8">internalAddMulticastRoute</a> (<a class="el" href="class_i_pv4_multicast_route.html">IPv4MulticastRoute</a> *entry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_i_pv4_multicast_route.html">IPv4MulticastRoute</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#acf31a89f3c3f7c8625e36d7738c4361a">internalRemoveMulticastRoute</a> (<a class="el" href="class_i_pv4_multicast_route.html">IPv4MulticastRoute</a> *entry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a4ab26e1c685f9810d85a1cde9ff007e7">numInitStages</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a0f8b6dd1c9a692ca1eba05d35bcc78ed">initialize</a> (int stage)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a27a3710233113ed3316c39c47dba1f64">handleMessage</a> (cMessage *)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Raises an error.  <a href="#a27a3710233113ed3316c39c47dba1f64"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a79264e2505b8a9de5693d9a9ae1e1b42">receiveChangeNotification</a> (int category, const cObject *details)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by the <a class="el" href="class_notification_board.html" title="Acts as a intermediary between module where state changes can occur and modules which are interested ...">NotificationBoard</a> whenever a change of a category occurs to which this client has subscribed.  <a href="#a79264e2505b8a9de5693d9a9ae1e1b42"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#afc51238fa606f019e8d30780e4ce5b86">routeLessThan</a> (const <a class="el" href="class_i_pv4_route.html">IPv4Route</a> *a, const <a class="el" href="class_i_pv4_route.html">IPv4Route</a> *b)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a7a3016d540a8deaf2c5c0a5382bf2a28">multicastRouteLessThan</a> (const <a class="el" href="class_i_pv4_multicast_route.html">IPv4MulticastRoute</a> *a, const <a class="el" href="class_i_pv4_multicast_route.html">IPv4MulticastRoute</a> *b)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_i_interface_table.html">IInterfaceTable</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_notification_board.html">NotificationBoard</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a5c4641496d9964ea8422157447691880">nb</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_i_pv4_address.html">IPv4Address</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a63120b24a542151bc71d8950a1f8e057">routerId</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#ab1fae735c632287a00881b1b6eb24271">IPForward</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a8be36cc0907b268f2d21f9014cc527cb">multicastForward</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_routing_table.html#a80c11896617cb4aaf72bc1463cda679b">RouteVector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_routing_table.html#a7b2ad6414325ee530041501f7e2a916c">MulticastRouteVector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a1aa104091d93b9bb0fe1661546394090">multicastRoutes</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_routing_table.html#a37306e1075f508936680ca7c86aba6d4">RoutingCache</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#ac2aeac5d70e440d6ad1b3d560029f277">routingCache</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_routing_table.html#ad0bac83f4f0b674d0b9c35ad716352c3">AddressSet</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a732fcc528f888d4318dfe00220df230b">localAddresses</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_routing_table.html#ad0bac83f4f0b674d0b9c35ad716352c3">AddressSet</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#adfb5bdd77739bc3e5b4e4d3785b804dc">localBroadcastAddresses</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Represents the routing table. </p>
<p>This object has one instance per host or router. It has methods to manage the route table and the interface table, so one can achieve functionality similar to the "route" and "ifconfig" commands.</p>
<p>See the NED documentation for general overview.</p>
<p>This is a simple module without gates, it requires function calls to it (message handling does nothing). Methods are provided for reading and updating the interface table and the route table, as well as for unicast and multicast routing.</p>
<p>Interfaces are dynamically registered: at the start of the simulation, every L2 module adds its own interface entry to the table.</p>
<p>The route table is read from a file (<a class="el" href="class_routing_table_parser.html" title="Parses a routing table file into a routing table.">RoutingTableParser</a>); the file can also fill in or overwrite interface settings. The route table can also be read and modified during simulation, typically by routing protocol implementations (e.g. <a class="el" href="namespace_o_s_p_f.html" title="All OSPF classes are in this namespace.">OSPF</a>).</p>
<p>Entries in the route table are represented by <a class="el" href="class_i_pv4_route.html" title="IPv4 unicast route in IRoutingTable.">IPv4Route</a> objects. <a class="el" href="class_i_pv4_route.html" title="IPv4 unicast route in IRoutingTable.">IPv4Route</a> objects can be polymorphic: if a routing protocol needs to store additional data, it can simply subclass from <a class="el" href="class_i_pv4_route.html" title="IPv4 unicast route in IRoutingTable.">IPv4Route</a>, and add the derived object to the table.</p>
<p>Uses <a class="el" href="class_routing_table_parser.html" title="Parses a routing table file into a routing table.">RoutingTableParser</a> to read routing files (.irt, .mrt).</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_interface_entry.html" title="Interface entry for the interface table in IInterfaceTable.">InterfaceEntry</a>, <a class="el" href="class_i_pv4_interface_data.html" title="IPv4-specific data in an InterfaceEntry.">IPv4InterfaceData</a>, <a class="el" href="class_i_pv4_route.html" title="IPv4 unicast route in IRoutingTable.">IPv4Route</a> </dd></dl>
</div><hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="ad0bac83f4f0b674d0b9c35ad716352c3"></a><!-- doxytag: member="RoutingTable::AddressSet" ref="ad0bac83f4f0b674d0b9c35ad716352c3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::set&lt;<a class="el" href="class_i_pv4_address.html">IPv4Address</a>&gt; <a class="el" href="class_routing_table.html#ad0bac83f4f0b674d0b9c35ad716352c3">RoutingTable::AddressSet</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a101275896cdf08d0d475750639a8dbc6"></a><!-- doxytag: member="RoutingTable::ChildInterface" ref="a101275896cdf08d0d475750639a8dbc6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="class_i_pv4_multicast_route_1_1_child_interface.html">IPv4MulticastRoute::ChildInterface</a> <a class="el" href="class_routing_table.html#a101275896cdf08d0d475750639a8dbc6">RoutingTable::ChildInterface</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="af9975432a56ac87c52a8ff174c129126"></a><!-- doxytag: member="RoutingTable::ChildInterfaceVector" ref="af9975432a56ac87c52a8ff174c129126" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="class_i_pv4_multicast_route.html#a32e2e490412f0f328b54f9e82ccb319c">IPv4MulticastRoute::ChildInterfaceVector</a> <a class="el" href="class_routing_table.html#af9975432a56ac87c52a8ff174c129126">RoutingTable::ChildInterfaceVector</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a7b2ad6414325ee530041501f7e2a916c"></a><!-- doxytag: member="RoutingTable::MulticastRouteVector" ref="a7b2ad6414325ee530041501f7e2a916c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt;<a class="el" href="class_i_pv4_multicast_route.html">IPv4MulticastRoute</a>*&gt; <a class="el" href="class_routing_table.html#a7b2ad6414325ee530041501f7e2a916c">RoutingTable::MulticastRouteVector</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a80c11896617cb4aaf72bc1463cda679b"></a><!-- doxytag: member="RoutingTable::RouteVector" ref="a80c11896617cb4aaf72bc1463cda679b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt;<a class="el" href="class_i_pv4_route.html">IPv4Route</a> *&gt; <a class="el" href="class_routing_table.html#a80c11896617cb4aaf72bc1463cda679b">RoutingTable::RouteVector</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a37306e1075f508936680ca7c86aba6d4"></a><!-- doxytag: member="RoutingTable::RoutingCache" ref="a37306e1075f508936680ca7c86aba6d4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;<a class="el" href="class_i_pv4_address.html">IPv4Address</a>, <a class="el" href="class_i_pv4_route.html">IPv4Route</a> *&gt; <a class="el" href="class_routing_table.html#a37306e1075f508936680ca7c86aba6d4">RoutingTable::RoutingCache</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a0f4caeade124b4fde4c1a4521a914a02"></a><!-- doxytag: member="RoutingTable::RoutingTable" ref="a0f4caeade124b4fde4c1a4521a914a02" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_routing_table.html#a0f4caeade124b4fde4c1a4521a914a02">RoutingTable::RoutingTable</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a> = <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
    <a class="code" href="structnb.html">nb</a> = <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="abe5b508511742899600b98401af7c761"></a><!-- doxytag: member="RoutingTable::~RoutingTable" ref="abe5b508511742899600b98401af7c761" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_routing_table.html#abe5b508511742899600b98401af7c761">RoutingTable::~RoutingTable</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.size(); i++)
        <span class="keyword">delete</span> <a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>[i];
    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_routing_table.html#a1aa104091d93b9bb0fe1661546394090">multicastRoutes</a>.size(); i++)
        <span class="keyword">delete</span> <a class="code" href="class_routing_table.html#a1aa104091d93b9bb0fe1661546394090">multicastRoutes</a>[i];
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="acd12f958b135f524100b06357d18e901"></a><!-- doxytag: member="RoutingTable::addMulticastRoute" ref="acd12f958b135f524100b06357d18e901" args="(IPv4MulticastRoute *entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_routing_table.html#acd12f958b135f524100b06357d18e901">RoutingTable::addMulticastRoute</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_i_pv4_multicast_route.html">IPv4MulticastRoute</a> *&#160;</td>
          <td class="paramname"><em>entry</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Adds a multicast route to the routing table. </p>
<p>Routes are allowed to be modified while in the routing table. (There is a notification mechanism that allows routing table internals to be updated on a routing entry change.) </p>

<p>Implements <a class="el" href="class_i_routing_table.html#a4beb1b3161db5204ec05bca3eadaa4f6">IRoutingTable</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method(<span class="stringliteral">&quot;addMulticastRoute(...)&quot;</span>);

    <a class="code" href="class_routing_table.html#acd82c7f8be63cede1b6ca3d1aca47cf8">internalAddMulticastRoute</a>(entry);

    <a class="code" href="class_routing_table.html#a484a19b6b712d938738521f454420129">invalidateCache</a>();
    <a class="code" href="class_routing_table.html#a8a8313b75234201d11785afdd69e4eca">updateDisplayString</a>();

    <a class="code" href="structnb.html">nb</a>-&gt;fireChangeNotification(<a class="code" href="_notifier_consts_8h.html#adf764cbdea00d65edcd07bb9953ad2b7abd66307080851fc1ae09f1683635690d">NF_IPv4_MROUTE_ADDED</a>, entry);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a98ddb5a7192facf8e9d25ce9c69570ed"></a><!-- doxytag: member="RoutingTable::addRoute" ref="a98ddb5a7192facf8e9d25ce9c69570ed" args="(IPv4Route *entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_routing_table.html#a98ddb5a7192facf8e9d25ce9c69570ed">RoutingTable::addRoute</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_i_pv4_route.html">IPv4Route</a> *&#160;</td>
          <td class="paramname"><em>entry</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Adds a route to the routing table. </p>
<p>Routes are allowed to be modified while in the routing table. (There is a notification mechanism that allows routing table internals to be updated on a routing entry change.) </p>

<p>Implements <a class="el" href="class_i_routing_table.html#ad7be1ebe567f40bca667ba0f33a2ca8d">IRoutingTable</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method(<span class="stringliteral">&quot;addRoute(...)&quot;</span>);

    <a class="code" href="class_routing_table.html#a5d35de53ea3791256f77bb09e0175c04">internalAddRoute</a>(entry);

    <a class="code" href="class_routing_table.html#a484a19b6b712d938738521f454420129">invalidateCache</a>();
    <a class="code" href="class_routing_table.html#a8a8313b75234201d11785afdd69e4eca">updateDisplayString</a>();

    <a class="code" href="structnb.html">nb</a>-&gt;fireChangeNotification(<a class="code" href="_notifier_consts_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a38a4632902da5c126d1b1bc992799303">NF_IPv4_ROUTE_ADDED</a>, entry);
}
</pre></div>
</div>
</div>
<a class="anchor" id="afaca8cf9e47f78fdd727d794109c1842"></a><!-- doxytag: member="RoutingTable::configureInterfaceForIPv4" ref="afaca8cf9e47f78fdd727d794109c1842" args="(InterfaceEntry *ie)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_routing_table.html#afaca8cf9e47f78fdd727d794109c1842">RoutingTable::configureInterfaceForIPv4</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_interface_entry.html">InterfaceEntry</a> *&#160;</td>
          <td class="paramname"><em>ie</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implements <a class="el" href="class_i_routing_table.html#a8c72322818d3cfc903c4c630dcd400c7">IRoutingTable</a>.</p>

<p>Referenced by <a class="el" href="class_routing_table.html#a0f8b6dd1c9a692ca1eba05d35bcc78ed">initialize()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_i_pv4_interface_data.html" title="IPv4-specific data in an InterfaceEntry.">IPv4InterfaceData</a> *d = <span class="keyword">new</span> <a class="code" href="class_i_pv4_interface_data.html" title="IPv4-specific data in an InterfaceEntry.">IPv4InterfaceData</a>();
    ie-&gt;<a class="code" href="class_interface_entry.html#a7b2e8a8e6ee3bab717b90a2068f550f1">setIPv4Data</a>(d);

    <span class="comment">// metric: some hints: OSPF cost (2e9/bps value), MS KB article Q299540, ...</span>
    d-&gt;<a class="code" href="class_i_pv4_interface_data.html#a05354e589ed8f221d74f81f276fb158e">setMetric</a>((<span class="keywordtype">int</span>)ceil(2e9/ie-&gt;<a class="code" href="class_interface_entry.html#a54591c28cfc7a3ccbf8025ff4bb4f889">getDatarate</a>())); <span class="comment">// use OSPF cost as default</span>

    <span class="comment">// join &quot;224.0.0.1&quot; and &quot;224.0.0.2&quot; (if router) multicast groups automatically</span>
    <span class="keywordflow">if</span> (ie-&gt;<a class="code" href="class_interface_entry.html#a275db86c899f3278865c47004500588f">isMulticast</a>())
    {
        d-&gt;<a class="code" href="class_i_pv4_interface_data.html#a0ced2d5b5dfaa92205e1a0de34d9f0b3">joinMulticastGroup</a>(<a class="code" href="class_i_pv4_address.html#af863d58e7ce97614d02a6b36a9c10bb5" title="224.0.0.1 All hosts on a subnet">IPv4Address::ALL_HOSTS_MCAST</a>);
        <span class="keywordflow">if</span> (<a class="code" href="class_routing_table.html#ab1fae735c632287a00881b1b6eb24271">IPForward</a>)
            d-&gt;<a class="code" href="class_i_pv4_interface_data.html#a0ced2d5b5dfaa92205e1a0de34d9f0b3">joinMulticastGroup</a>(<a class="code" href="class_i_pv4_address.html#a432cda23cbebbf2bb7731b17295893f3" title="224.0.0.2 All routers on a subnet">IPv4Address::ALL_ROUTERS_MCAST</a>);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7c5e8b0d56e707bffc8ae56aeb3ca545"></a><!-- doxytag: member="RoutingTable::configureLoopbackForIPv4" ref="a7c5e8b0d56e707bffc8ae56aeb3ca545" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_routing_table.html#a7c5e8b0d56e707bffc8ae56aeb3ca545">RoutingTable::configureLoopbackForIPv4</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_routing_table.html#a0f8b6dd1c9a692ca1eba05d35bcc78ed">initialize()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_interface_entry.html" title="Interface entry for the interface table in IInterfaceTable.">InterfaceEntry</a> *ie = <a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#ad9b040947200941201b8c82d35c7abee" title="Returns the first interface with the isLoopback flag set.">getFirstLoopbackInterface</a>();

    <span class="comment">// add IPv4 info. Set 127.0.0.1/8 as address by default --</span>
    <span class="comment">// we may reconfigure later it to be the routerId</span>
    <a class="code" href="class_i_pv4_interface_data.html" title="IPv4-specific data in an InterfaceEntry.">IPv4InterfaceData</a> *d = <span class="keyword">new</span> <a class="code" href="class_i_pv4_interface_data.html" title="IPv4-specific data in an InterfaceEntry.">IPv4InterfaceData</a>();
    d-&gt;<a class="code" href="class_i_pv4_interface_data.html#a42fff801962e93d13f453f3b57528d93">setIPAddress</a>(<a class="code" href="class_i_pv4_address.html#a8baa7f4ed2deb9127cda51b06130276b" title="127.0.0.1">IPv4Address::LOOPBACK_ADDRESS</a>);
    d-&gt;<a class="code" href="class_i_pv4_interface_data.html#a216f0208506bb50e20dad0e18a037e84">setNetmask</a>(<a class="code" href="class_i_pv4_address.html#a31c24392b7a7f3e9a7e2a246663b0f15" title="255.0.0.0">IPv4Address::LOOPBACK_NETMASK</a>);
    d-&gt;<a class="code" href="class_i_pv4_interface_data.html#a05354e589ed8f221d74f81f276fb158e">setMetric</a>(1);
    ie-&gt;<a class="code" href="class_interface_entry.html#a7b2e8a8e6ee3bab717b90a2068f550f1">setIPv4Data</a>(d);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8b681e68c0cecf8b3b67981c23a86085"></a><!-- doxytag: member="RoutingTable::configureRouterId" ref="a8b681e68c0cecf8b3b67981c23a86085" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_routing_table.html#a8b681e68c0cecf8b3b67981c23a86085">RoutingTable::configureRouterId</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_routing_table.html#a0f8b6dd1c9a692ca1eba05d35bcc78ed">initialize()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="class_routing_table.html#a63120b24a542151bc71d8950a1f8e057">routerId</a>.<a class="code" href="class_i_pv4_address.html#a76dbddd2575a9e91412b998512b45a2d" title="True if all four address bytes are zero.">isUnspecified</a>())  <span class="comment">// not yet configured</span>
    {
        <span class="keyword">const</span> <span class="keywordtype">char</span> *routerIdStr = par(<span class="stringliteral">&quot;routerId&quot;</span>).stringValue();
        <span class="keywordflow">if</span> (!strcmp(routerIdStr, <span class="stringliteral">&quot;auto&quot;</span>))  <span class="comment">// non-&quot;auto&quot; cases already handled in stage 1</span>
        {
            <span class="comment">// choose highest interface address as routerId</span>
            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#a2b0ce46cd92da6f64fc363410dc71904" title="Returns the number of interfaces.">getNumInterfaces</a>(); ++i)
            {
                <a class="code" href="class_interface_entry.html" title="Interface entry for the interface table in IInterfaceTable.">InterfaceEntry</a> *ie = <a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#a19ce4ca3b47b52b8e2b67c25806c4b49" title="Returns the InterfaceEntry specified by an index 0..numInterfaces-1.">getInterface</a>(i);
                <span class="keywordflow">if</span> (!ie-&gt;<a class="code" href="class_interface_entry.html#a0ee93e88273f61390d1293dae55004d1">isLoopback</a>() &amp;&amp; ie-&gt;<a class="code" href="class_interface_entry.html#a4f52f31546a140edf6979882492e1a0b">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#afab661980ddb8db4adc9ba5e9fc1f346">getIPAddress</a>().<a class="code" href="class_i_pv4_address.html#ac4abdd5df9c86071f13af7a3f0931237" title="Returns the address as an int.">getInt</a>() &gt; <a class="code" href="class_routing_table.html#a63120b24a542151bc71d8950a1f8e057">routerId</a>.<a class="code" href="class_i_pv4_address.html#ac4abdd5df9c86071f13af7a3f0931237" title="Returns the address as an int.">getInt</a>())
                    <a class="code" href="class_routing_table.html#a63120b24a542151bc71d8950a1f8e057">routerId</a> = ie-&gt;<a class="code" href="class_interface_entry.html#a4f52f31546a140edf6979882492e1a0b">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#afab661980ddb8db4adc9ba5e9fc1f346">getIPAddress</a>();
            }
        }
    }
    <span class="keywordflow">else</span> <span class="comment">// already configured</span>
    {
        <span class="comment">// if there is no interface with routerId yet, assign it to the loopback address;</span>
        <span class="comment">// TODO find out if this is a good practice, in which situations it is useful etc.</span>
        <span class="keywordflow">if</span> (<a class="code" href="class_routing_table.html#a5876e9ceaa4796c12ca72a7fdc6474b8" title="Returns an interface given by its address.">getInterfaceByAddress</a>(<a class="code" href="class_routing_table.html#a63120b24a542151bc71d8950a1f8e057">routerId</a>)==<a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
        {
            <a class="code" href="class_interface_entry.html" title="Interface entry for the interface table in IInterfaceTable.">InterfaceEntry</a> *lo0 = <a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#ad9b040947200941201b8c82d35c7abee" title="Returns the first interface with the isLoopback flag set.">getFirstLoopbackInterface</a>();
            lo0-&gt;<a class="code" href="class_interface_entry.html#a4f52f31546a140edf6979882492e1a0b">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#a42fff801962e93d13f453f3b57528d93">setIPAddress</a>(<a class="code" href="class_routing_table.html#a63120b24a542151bc71d8950a1f8e057">routerId</a>);
            lo0-&gt;<a class="code" href="class_interface_entry.html#a4f52f31546a140edf6979882492e1a0b">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#a216f0208506bb50e20dad0e18a037e84">setNetmask</a>(<a class="code" href="class_i_pv4_address.html#abc2da8e3ab9691fa0718d0f18ac852f7" title="255.255.255.255">IPv4Address::ALLONES_ADDRESS</a>);
        }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a95718902c009b8c2d4b09405a0d547a9"></a><!-- doxytag: member="RoutingTable::deleteInterfaceRoutes" ref="a95718902c009b8c2d4b09405a0d547a9" args="(InterfaceEntry *entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_routing_table.html#a95718902c009b8c2d4b09405a0d547a9">RoutingTable::deleteInterfaceRoutes</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_interface_entry.html">InterfaceEntry</a> *&#160;</td>
          <td class="paramname"><em>entry</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_routing_table.html#a79264e2505b8a9de5693d9a9ae1e1b42">receiveChangeNotification()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">bool</span> changed = <span class="keyword">false</span>;

    <span class="comment">// delete unicast routes using this interface</span>
    <span class="keywordflow">for</span> (RouteVector::iterator it = <a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.begin(); it != <a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.end(); )
    {
        <a class="code" href="class_i_pv4_route.html" title="IPv4 unicast route in IRoutingTable.">IPv4Route</a> *route = *it;
        <span class="keywordflow">if</span> (route-&gt;<a class="code" href="class_i_pv4_route.html#aa29a0d4d0846b62b957e15e317d591de" title="Next hop interface.">getInterface</a>() == entry)
        {
            it = <a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.erase(it);
            ASSERT(route-&gt;<a class="code" href="class_i_pv4_route.html#a93eb747e36e41810dadef2185f8108af">getRoutingTable</a>() == <span class="keyword">this</span>); <span class="comment">// still filled in, for the listeners&#39; benefit</span>
            <a class="code" href="structnb.html">nb</a>-&gt;fireChangeNotification(<a class="code" href="_notifier_consts_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a250243f132a5001e082e2c58b25eb0f1">NF_IPv4_ROUTE_DELETED</a>, route);
            <span class="keyword">delete</span> route;
            changed = <span class="keyword">true</span>;
        }
        <span class="keywordflow">else</span>
            ++it;
    }

    <span class="comment">// delete or update multicast routes:</span>
    <span class="comment">//   1. delete routes has entry as parent</span>
    <span class="comment">//   2. remove entry from children list</span>
    <span class="keywordflow">for</span> (MulticastRouteVector::iterator it = <a class="code" href="class_routing_table.html#a1aa104091d93b9bb0fe1661546394090">multicastRoutes</a>.begin(); it != <a class="code" href="class_routing_table.html#a1aa104091d93b9bb0fe1661546394090">multicastRoutes</a>.end(); )
    {
        <a class="code" href="class_i_pv4_multicast_route.html" title="IPv4 multicast route in IRoutingTable.">IPv4MulticastRoute</a> *route = *it;
        <span class="keywordflow">if</span> (route-&gt;<a class="code" href="class_i_pv4_multicast_route.html#a097d41b0a4a18fae519e351adf1ecd7b" title="Parent interface.">getParent</a>() == entry)
        {
            it = <a class="code" href="class_routing_table.html#a1aa104091d93b9bb0fe1661546394090">multicastRoutes</a>.erase(it);
            ASSERT(route-&gt;<a class="code" href="class_i_pv4_multicast_route.html#a9037ca12f5b0789da6589cee566e8dbf">getRoutingTable</a>() == <span class="keyword">this</span>); <span class="comment">// still filled in, for the listeners&#39; benefit</span>
            <a class="code" href="structnb.html">nb</a>-&gt;fireChangeNotification(<a class="code" href="_notifier_consts_8h.html#adf764cbdea00d65edcd07bb9953ad2b7ae4729ae61675adfddac18916dee282de">NF_IPv4_MROUTE_DELETED</a>, route);
            <span class="keyword">delete</span> route;
            changed = <span class="keyword">true</span>;
        }
        <span class="keywordflow">else</span>
        {
            <span class="keywordtype">bool</span> removed = route-&gt;<a class="code" href="class_i_pv4_multicast_route.html#a3bc663ac0752fde17a8bf72de668a37f">removeChild</a>(entry);
            <span class="keywordflow">if</span> (removed)
            {
                <a class="code" href="structnb.html">nb</a>-&gt;fireChangeNotification(<a class="code" href="_notifier_consts_8h.html#adf764cbdea00d65edcd07bb9953ad2b7ab3d76c4f44e1aaaa479a5f7baa115a24">NF_IPv4_MROUTE_CHANGED</a>, route);
                changed = <span class="keyword">true</span>;
            }
            ++it;
        }
    }

    <span class="keywordflow">if</span> (changed)
    {
        <a class="code" href="class_routing_table.html#a484a19b6b712d938738521f454420129">invalidateCache</a>();
        <a class="code" href="class_routing_table.html#a8a8313b75234201d11785afdd69e4eca">updateDisplayString</a>();
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae859a31dd464a73ecb15002e4ed6efde"></a><!-- doxytag: member="RoutingTable::deleteMulticastRoute" ref="ae859a31dd464a73ecb15002e4ed6efde" args="(IPv4MulticastRoute *entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_routing_table.html#ae859a31dd464a73ecb15002e4ed6efde">RoutingTable::deleteMulticastRoute</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_i_pv4_multicast_route.html">IPv4MulticastRoute</a> *&#160;</td>
          <td class="paramname"><em>entry</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Deletes the given multicast route from the routing table. </p>
<p>Returns true if the route was deleted, and false if it was not in the routing table. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#aaf0d85da3a0e48b0ff03b7756667ea1c">IRoutingTable</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method(<span class="stringliteral">&quot;deleteMulticastRoute(...)&quot;</span>);

    entry = <a class="code" href="class_routing_table.html#acf31a89f3c3f7c8625e36d7738c4361a">internalRemoveMulticastRoute</a>(entry);

    <span class="keywordflow">if</span> (entry != <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    {
        <a class="code" href="class_routing_table.html#a484a19b6b712d938738521f454420129">invalidateCache</a>();
        <a class="code" href="class_routing_table.html#a8a8313b75234201d11785afdd69e4eca">updateDisplayString</a>();
        ASSERT(entry-&gt;<a class="code" href="class_i_pv4_multicast_route.html#a9037ca12f5b0789da6589cee566e8dbf">getRoutingTable</a>() == <span class="keyword">this</span>); <span class="comment">// still filled in, for the listeners&#39; benefit</span>
        <a class="code" href="structnb.html">nb</a>-&gt;fireChangeNotification(<a class="code" href="_notifier_consts_8h.html#adf764cbdea00d65edcd07bb9953ad2b7ae4729ae61675adfddac18916dee282de">NF_IPv4_MROUTE_DELETED</a>, entry);
        <span class="keyword">delete</span> entry;
    }
    <span class="keywordflow">return</span> entry != <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5b5eb54bc29e507eb635d85b63c0fa1e"></a><!-- doxytag: member="RoutingTable::deleteRoute" ref="a5b5eb54bc29e507eb635d85b63c0fa1e" args="(IPv4Route *entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_routing_table.html#a5b5eb54bc29e507eb635d85b63c0fa1e">RoutingTable::deleteRoute</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_i_pv4_route.html">IPv4Route</a> *&#160;</td>
          <td class="paramname"><em>entry</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Deletes the given route from the routing table. </p>
<p>Returns true if the route was deleted, and false if it was not in the routing table. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#a318a5f6e4382cb52dbc25d714df7a994">IRoutingTable</a>.</p>

<p>Referenced by <a class="el" href="class_routing_table.html#a5d35de53ea3791256f77bb09e0175c04">internalAddRoute()</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method(<span class="stringliteral">&quot;deleteRoute(...)&quot;</span>);

    entry = <a class="code" href="class_routing_table.html#a8fe7723ab30b95f277d3da8168f19c56">internalRemoveRoute</a>(entry);

    <span class="keywordflow">if</span> (entry != <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    {
        <a class="code" href="class_routing_table.html#a484a19b6b712d938738521f454420129">invalidateCache</a>();
        <a class="code" href="class_routing_table.html#a8a8313b75234201d11785afdd69e4eca">updateDisplayString</a>();
        ASSERT(entry-&gt;<a class="code" href="class_i_pv4_route.html#a93eb747e36e41810dadef2185f8108af">getRoutingTable</a>() == <span class="keyword">this</span>); <span class="comment">// still filled in, for the listeners&#39; benefit</span>
        <a class="code" href="structnb.html">nb</a>-&gt;fireChangeNotification(<a class="code" href="_notifier_consts_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a250243f132a5001e082e2c58b25eb0f1">NF_IPv4_ROUTE_DELETED</a>, entry);
        <span class="keyword">delete</span> entry;
    }
    <span class="keywordflow">return</span> entry != <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4056063ca9a3cdea701b136fcae29eb0"></a><!-- doxytag: member="RoutingTable::findBestMatchingMulticastRoute" ref="a4056063ca9a3cdea701b136fcae29eb0" args="(const IPv4Address &amp;origin, const IPv4Address &amp;group) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_i_pv4_multicast_route.html">IPv4MulticastRoute</a> * <a class="el" href="class_routing_table.html#a4056063ca9a3cdea701b136fcae29eb0">RoutingTable::findBestMatchingMulticastRoute</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_i_pv4_address.html">IPv4Address</a> &amp;&#160;</td>
          <td class="paramname"><em>origin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_i_pv4_address.html">IPv4Address</a> &amp;&#160;</td>
          <td class="paramname"><em>group</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns route for a multicast source and multicast group. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#a9568dc27da275c1f18862af01a18d7b2">IRoutingTable</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method(<span class="stringliteral">&quot;getMulticastRoutesFor(%u.%u.%u.%u, %u.%u.%u.%u)&quot;</span>,
            origin.<a class="code" href="class_i_pv4_address.html#a70cb48eb76f46544accae0999642f0fa" title="Returns the corresponding part of the address specified by the index (&quot;[0].[1].[2].[3]&quot;)">getDByte</a>(0), origin.<a class="code" href="class_i_pv4_address.html#a70cb48eb76f46544accae0999642f0fa" title="Returns the corresponding part of the address specified by the index (&quot;[0].[1].[2].[3]&quot;)">getDByte</a>(1), origin.<a class="code" href="class_i_pv4_address.html#a70cb48eb76f46544accae0999642f0fa" title="Returns the corresponding part of the address specified by the index (&quot;[0].[1].[2].[3]&quot;)">getDByte</a>(2), origin.<a class="code" href="class_i_pv4_address.html#a70cb48eb76f46544accae0999642f0fa" title="Returns the corresponding part of the address specified by the index (&quot;[0].[1].[2].[3]&quot;)">getDByte</a>(3),
            group.<a class="code" href="class_i_pv4_address.html#a70cb48eb76f46544accae0999642f0fa" title="Returns the corresponding part of the address specified by the index (&quot;[0].[1].[2].[3]&quot;)">getDByte</a>(0), group.<a class="code" href="class_i_pv4_address.html#a70cb48eb76f46544accae0999642f0fa" title="Returns the corresponding part of the address specified by the index (&quot;[0].[1].[2].[3]&quot;)">getDByte</a>(1), group.<a class="code" href="class_i_pv4_address.html#a70cb48eb76f46544accae0999642f0fa" title="Returns the corresponding part of the address specified by the index (&quot;[0].[1].[2].[3]&quot;)">getDByte</a>(2), group.<a class="code" href="class_i_pv4_address.html#a70cb48eb76f46544accae0999642f0fa" title="Returns the corresponding part of the address specified by the index (&quot;[0].[1].[2].[3]&quot;)">getDByte</a>(3)); <span class="comment">// note: str().c_str() too slow here here</span>

    <span class="comment">// TODO caching?</span>

    <span class="keywordflow">for</span> (MulticastRouteVector::const_iterator i=<a class="code" href="class_routing_table.html#a1aa104091d93b9bb0fe1661546394090">multicastRoutes</a>.begin(); i!=<a class="code" href="class_routing_table.html#a1aa104091d93b9bb0fe1661546394090">multicastRoutes</a>.end(); ++i)
    {
        <span class="keyword">const</span> <a class="code" href="class_i_pv4_multicast_route.html" title="IPv4 multicast route in IRoutingTable.">IPv4MulticastRoute</a> *e = *i;
        <span class="keywordflow">if</span> (e-&gt;<a class="code" href="class_i_pv4_multicast_route.html#a35b9e2520c424ca1c514d17768e55d2c" title="test validity of route entry, e.g.">isValid</a>() &amp;&amp; e-&gt;<a class="code" href="class_i_pv4_multicast_route.html#a50a281c5e970e331d87637446c6f8f3c">matches</a>(origin, group))
            <span class="keywordflow">return</span> e;
    }

    <span class="keywordflow">return</span> <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8b9092653e4e081773350bcbe013a85e"></a><!-- doxytag: member="RoutingTable::findBestMatchingRoute" ref="a8b9092653e4e081773350bcbe013a85e" args="(const IPv4Address &amp;dest) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_pv4_route.html">IPv4Route</a> * <a class="el" href="class_routing_table.html#a8b9092653e4e081773350bcbe013a85e">RoutingTable::findBestMatchingRoute</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_i_pv4_address.html">IPv4Address</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The routing function. </p>
<p>Performs longest prefix match for the given destination address, and returns the resulting route. Returns NULL if there is no matching route. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#ae309804f72cea82fc56e6543b52d259d">IRoutingTable</a>.</p>

<p>Referenced by <a class="el" href="class_routing_table.html#aea8bf191d15222ec6cf57baa3302e8c2">getGatewayForDestAddr()</a>, and <a class="el" href="class_routing_table.html#a3d41e5ff15d06e6e52ec404de9eb28c8">getInterfaceForDestAddr()</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method(<span class="stringliteral">&quot;findBestMatchingRoute(%u.%u.%u.%u)&quot;</span>, dest.<a class="code" href="class_i_pv4_address.html#a70cb48eb76f46544accae0999642f0fa" title="Returns the corresponding part of the address specified by the index (&quot;[0].[1].[2].[3]&quot;)">getDByte</a>(0), dest.<a class="code" href="class_i_pv4_address.html#a70cb48eb76f46544accae0999642f0fa" title="Returns the corresponding part of the address specified by the index (&quot;[0].[1].[2].[3]&quot;)">getDByte</a>(1), dest.<a class="code" href="class_i_pv4_address.html#a70cb48eb76f46544accae0999642f0fa" title="Returns the corresponding part of the address specified by the index (&quot;[0].[1].[2].[3]&quot;)">getDByte</a>(2), dest.<a class="code" href="class_i_pv4_address.html#a70cb48eb76f46544accae0999642f0fa" title="Returns the corresponding part of the address specified by the index (&quot;[0].[1].[2].[3]&quot;)">getDByte</a>(3)); <span class="comment">// note: str().c_str() too slow here</span>

    RoutingCache::iterator it = <a class="code" href="class_routing_table.html#ac2aeac5d70e440d6ad1b3d560029f277">routingCache</a>.find(dest);
    <span class="keywordflow">if</span> (it != <a class="code" href="class_routing_table.html#ac2aeac5d70e440d6ad1b3d560029f277">routingCache</a>.end())
    {
        <span class="keywordflow">if</span> (it-&gt;second==<a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> || it-&gt;second-&gt;isValid())
            <span class="keywordflow">return</span> it-&gt;second;
    }

    <span class="comment">// find best match (one with longest prefix)</span>
    <span class="comment">// default route has zero prefix length, so (if exists) it&#39;ll be selected as last resort</span>
    <a class="code" href="class_i_pv4_route.html" title="IPv4 unicast route in IRoutingTable.">IPv4Route</a> *bestRoute = <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
    <span class="keywordflow">for</span> (RouteVector::const_iterator i=<a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.begin(); i!=<a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.end(); ++i)
    {
        <a class="code" href="class_i_pv4_route.html" title="IPv4 unicast route in IRoutingTable.">IPv4Route</a> *e = *i;
        <span class="keywordflow">if</span> (e-&gt;<a class="code" href="class_i_pv4_route.html#aa0b8b4ecb7c88ce7cb1665c37c281334" title="test validity of route entry, e.g.">isValid</a>())
        {
            <span class="keywordflow">if</span> (<a class="code" href="class_i_pv4_address.html#ae7af0edc134f9412a0dedf4f4648781e" title="Test if the masked addresses (ie the mask is applied to addr1 and addr2) are equal.">IPv4Address::maskedAddrAreEqual</a>(dest, e-&gt;<a class="code" href="class_i_pv4_route.html#a4982ef0132d4e1560371231b7c11cf8c" title="Destination address prefix to match.">getDestination</a>(), e-&gt;<a class="code" href="class_i_pv4_route.html#ac7d8f045f17b54b9d7e364cd525ba9ae" title="Represents length of prefix to match.">getNetmask</a>())) <span class="comment">// match</span>
            {
                bestRoute = <span class="keyword">const_cast&lt;</span><a class="code" href="class_i_pv4_route.html" title="IPv4 unicast route in IRoutingTable.">IPv4Route</a> *<span class="keyword">&gt;</span>(e);
                <span class="keywordflow">break</span>;
            }
        }
    }

    <a class="code" href="class_routing_table.html#ac2aeac5d70e440d6ad1b3d560029f277">routingCache</a>[dest] = bestRoute;
    <span class="keywordflow">return</span> bestRoute;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae79acf20435b1810f2a6ac6b34e00d27"></a><!-- doxytag: member="RoutingTable::findInterfaceByLocalBroadcastAddress" ref="ae79acf20435b1810f2a6ac6b34e00d27" args="(const IPv4Address &amp;dest) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_interface_entry.html">InterfaceEntry</a> * <a class="el" href="class_routing_table.html#ae79acf20435b1810f2a6ac6b34e00d27">RoutingTable::findInterfaceByLocalBroadcastAddress</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_i_pv4_address.html">IPv4Address</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the interface entry having the specified address as its local broadcast address. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#a1d1d26bc53a3e07cc6149283a387f30a">IRoutingTable</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#a2b0ce46cd92da6f64fc363410dc71904" title="Returns the number of interfaces.">getNumInterfaces</a>(); i++)
    {
        <a class="code" href="class_interface_entry.html" title="Interface entry for the interface table in IInterfaceTable.">InterfaceEntry</a> *ie = <a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#a19ce4ca3b47b52b8e2b67c25806c4b49" title="Returns the InterfaceEntry specified by an index 0..numInterfaces-1.">getInterface</a>(i);
        <a class="code" href="class_i_pv4_address.html" title="IPv4 address.">IPv4Address</a> interfaceAddr = ie-&gt;<a class="code" href="class_interface_entry.html#a4f52f31546a140edf6979882492e1a0b">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#afab661980ddb8db4adc9ba5e9fc1f346">getIPAddress</a>();
        <a class="code" href="class_i_pv4_address.html" title="IPv4 address.">IPv4Address</a> broadcastAddr = interfaceAddr.<a class="code" href="class_i_pv4_address.html#abaed6078220ce34ed5407d5c0b73015f" title="Returns the broadcast address for the given netmask.">getBroadcastAddress</a>(ie-&gt;<a class="code" href="class_interface_entry.html#a4f52f31546a140edf6979882492e1a0b">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#a7bd9bc7a6caff7bc7ff9e6448db0e394">getNetmask</a>());
        <span class="keywordflow">if</span> (broadcastAddr == dest)
            <span class="keywordflow">return</span> ie;
    }
    <span class="keywordflow">return</span> <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1745a8eaff3a2a3f9e4a14416dfea88f"></a><!-- doxytag: member="RoutingTable::gatherAddresses" ref="a1745a8eaff3a2a3f9e4a14416dfea88f" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="class_i_pv4_address.html">IPv4Address</a> &gt; <a class="el" href="class_routing_table.html#a1745a8eaff3a2a3f9e4a14416dfea88f">RoutingTable::gatherAddresses</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Utility function: Returns a vector of all addresses of the node. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#ac431d3aa2adf350e44fca17e210d6224">IRoutingTable</a>.</p>
<div class="fragment"><pre class="fragment">{
    std::vector&lt;IPv4Address&gt; addressvector;

    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#a2b0ce46cd92da6f64fc363410dc71904" title="Returns the number of interfaces.">getNumInterfaces</a>(); ++i)
        addressvector.push_back(<a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#a19ce4ca3b47b52b8e2b67c25806c4b49" title="Returns the InterfaceEntry specified by an index 0..numInterfaces-1.">getInterface</a>(i)-&gt;<a class="code" href="class_interface_entry.html#a4f52f31546a140edf6979882492e1a0b">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#afab661980ddb8db4adc9ba5e9fc1f346">getIPAddress</a>());
    <span class="keywordflow">return</span> addressvector;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a825bfcd82cc8a57343473d0a4dc289e6"></a><!-- doxytag: member="RoutingTable::getDefaultRoute" ref="a825bfcd82cc8a57343473d0a4dc289e6" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_pv4_route.html">IPv4Route</a> * <a class="el" href="class_routing_table.html#a825bfcd82cc8a57343473d0a4dc289e6">RoutingTable::getDefaultRoute</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Finds and returns the default route, or NULL if it doesn't exist. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#acd62771ba200b70b9674bce581e2f421">IRoutingTable</a>.</p>

<p>Referenced by <a class="el" href="class_routing_table.html#a5d35de53ea3791256f77bb09e0175c04">internalAddRoute()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// if exists default route entry, it is the last valid entry</span>
    <span class="keywordflow">for</span> (RouteVector::const_reverse_iterator i=<a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.rbegin(); i!=<a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.rend() &amp;&amp; (*i)-&gt;getNetmask().isUnspecified(); ++i)
    {
        <span class="keywordflow">if</span> ((*i)-&gt;isValid())
            <span class="keywordflow">return</span> *i;
    }
    <span class="keywordflow">return</span> <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aea8bf191d15222ec6cf57baa3302e8c2"></a><!-- doxytag: member="RoutingTable::getGatewayForDestAddr" ref="aea8bf191d15222ec6cf57baa3302e8c2" args="(const IPv4Address &amp;dest) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_pv4_address.html">IPv4Address</a> <a class="el" href="class_routing_table.html#aea8bf191d15222ec6cf57baa3302e8c2">RoutingTable::getGatewayForDestAddr</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_i_pv4_address.html">IPv4Address</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Convenience function based on <a class="el" href="class_routing_table.html#a8b9092653e4e081773350bcbe013a85e" title="The routing function.">findBestMatchingRoute()</a>. </p>
<p>Returns the gateway for the destination address. Returns the unspecified address if the destination is not in routing table or the gateway field is not filled in in the route. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#a33b2e9ea39d78b1dc7bc98b03746c69f">IRoutingTable</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method(<span class="stringliteral">&quot;getGatewayForDestAddr(%u.%u.%u.%u)&quot;</span>, dest.<a class="code" href="class_i_pv4_address.html#a70cb48eb76f46544accae0999642f0fa" title="Returns the corresponding part of the address specified by the index (&quot;[0].[1].[2].[3]&quot;)">getDByte</a>(0), dest.<a class="code" href="class_i_pv4_address.html#a70cb48eb76f46544accae0999642f0fa" title="Returns the corresponding part of the address specified by the index (&quot;[0].[1].[2].[3]&quot;)">getDByte</a>(1), dest.<a class="code" href="class_i_pv4_address.html#a70cb48eb76f46544accae0999642f0fa" title="Returns the corresponding part of the address specified by the index (&quot;[0].[1].[2].[3]&quot;)">getDByte</a>(2), dest.<a class="code" href="class_i_pv4_address.html#a70cb48eb76f46544accae0999642f0fa" title="Returns the corresponding part of the address specified by the index (&quot;[0].[1].[2].[3]&quot;)">getDByte</a>(3)); <span class="comment">// note: str().c_str() too slow here</span>

    <span class="keyword">const</span> <a class="code" href="class_i_pv4_route.html" title="IPv4 unicast route in IRoutingTable.">IPv4Route</a> *e = <a class="code" href="class_routing_table.html#a8b9092653e4e081773350bcbe013a85e" title="The routing function.">findBestMatchingRoute</a>(dest);
    <span class="keywordflow">return</span> e ? e-&gt;getGateway() : <a class="code" href="class_i_pv4_address.html" title="IPv4 address.">IPv4Address</a>();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1666faceee62135d13a90de564cb8027"></a><!-- doxytag: member="RoutingTable::getHostModule" ref="a1666faceee62135d13a90de564cb8027" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cModule * <a class="el" href="class_routing_table.html#a1666faceee62135d13a90de564cb8027">RoutingTable::getHostModule</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the host or router this routing table lives in. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#a99268b0e60851349509b69b53d8a9d80">IRoutingTable</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="_module_access_8cc.html#a05eb8740c0b600bfb259b3bc7806ac9c" title="Find the node containing the given module.">findContainingNode</a>(<span class="keyword">this</span>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5876e9ceaa4796c12ca72a7fdc6474b8"></a><!-- doxytag: member="RoutingTable::getInterfaceByAddress" ref="a5876e9ceaa4796c12ca72a7fdc6474b8" args="(const IPv4Address &amp;address) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_interface_entry.html">InterfaceEntry</a> * <a class="el" href="class_routing_table.html#a5876e9ceaa4796c12ca72a7fdc6474b8">RoutingTable::getInterfaceByAddress</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_i_pv4_address.html">IPv4Address</a> &amp;&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns an interface given by its address. </p>
<p>Returns NULL if not found. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#a3f747703f9026ecba59e8dd438dc399b">IRoutingTable</a>.</p>

<p>Referenced by <a class="el" href="class_routing_table.html#a8b681e68c0cecf8b3b67981c23a86085">configureRouterId()</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method(<span class="stringliteral">&quot;getInterfaceByAddress(%u.%u.%u.%u)&quot;</span>, addr.getDByte(0), addr.getDByte(1), addr.getDByte(2), addr.getDByte(3)); <span class="comment">// note: str().c_str() too slow here</span>

    <span class="keywordflow">if</span> (addr.isUnspecified())
        <span class="keywordflow">return</span> <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#a2b0ce46cd92da6f64fc363410dc71904" title="Returns the number of interfaces.">getNumInterfaces</a>(); ++i)
    {
        <a class="code" href="class_interface_entry.html" title="Interface entry for the interface table in IInterfaceTable.">InterfaceEntry</a> *ie = <a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#a19ce4ca3b47b52b8e2b67c25806c4b49" title="Returns the InterfaceEntry specified by an index 0..numInterfaces-1.">getInterface</a>(i);
        <span class="keywordflow">if</span> (ie-&gt;<a class="code" href="class_interface_entry.html#a4f52f31546a140edf6979882492e1a0b">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#afab661980ddb8db4adc9ba5e9fc1f346">getIPAddress</a>()==addr)
            <span class="keywordflow">return</span> ie;
    }
    <span class="keywordflow">return</span> <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3d41e5ff15d06e6e52ec404de9eb28c8"></a><!-- doxytag: member="RoutingTable::getInterfaceForDestAddr" ref="a3d41e5ff15d06e6e52ec404de9eb28c8" args="(const IPv4Address &amp;dest) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_interface_entry.html">InterfaceEntry</a> * <a class="el" href="class_routing_table.html#a3d41e5ff15d06e6e52ec404de9eb28c8">RoutingTable::getInterfaceForDestAddr</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_i_pv4_address.html">IPv4Address</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Convenience function based on <a class="el" href="class_routing_table.html#a8b9092653e4e081773350bcbe013a85e" title="The routing function.">findBestMatchingRoute()</a>. </p>
<p>Returns the output interface for the packets with dest as destination address, or NULL if the destination is not in routing table. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#ac3c88f1aefd1add9888a0bc4c87fc1c4">IRoutingTable</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method(<span class="stringliteral">&quot;getInterfaceForDestAddr(%u.%u.%u.%u)&quot;</span>, dest.<a class="code" href="class_i_pv4_address.html#a70cb48eb76f46544accae0999642f0fa" title="Returns the corresponding part of the address specified by the index (&quot;[0].[1].[2].[3]&quot;)">getDByte</a>(0), dest.<a class="code" href="class_i_pv4_address.html#a70cb48eb76f46544accae0999642f0fa" title="Returns the corresponding part of the address specified by the index (&quot;[0].[1].[2].[3]&quot;)">getDByte</a>(1), dest.<a class="code" href="class_i_pv4_address.html#a70cb48eb76f46544accae0999642f0fa" title="Returns the corresponding part of the address specified by the index (&quot;[0].[1].[2].[3]&quot;)">getDByte</a>(2), dest.<a class="code" href="class_i_pv4_address.html#a70cb48eb76f46544accae0999642f0fa" title="Returns the corresponding part of the address specified by the index (&quot;[0].[1].[2].[3]&quot;)">getDByte</a>(3)); <span class="comment">// note: str().c_str() too slow here</span>

    <span class="keyword">const</span> <a class="code" href="class_i_pv4_route.html" title="IPv4 unicast route in IRoutingTable.">IPv4Route</a> *e = <a class="code" href="class_routing_table.html#a8b9092653e4e081773350bcbe013a85e" title="The routing function.">findBestMatchingRoute</a>(dest);
    <span class="keywordflow">return</span> e ? e-&gt;getInterface() : <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6ea4e5b7be084e1b67715e960c77d0fb"></a><!-- doxytag: member="RoutingTable::getMulticastRoute" ref="a6ea4e5b7be084e1b67715e960c77d0fb" args="(int k) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="class_i_pv4_multicast_route.html">IPv4MulticastRoute</a>* <a class="el" href="class_routing_table.html#a6ea4e5b7be084e1b67715e960c77d0fb">RoutingTable::getMulticastRoute</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>k</em></td><td>)</td>
          <td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the kth multicast route. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#ac3652734c9da6e5ba06ea2cb89cd5dee">IRoutingTable</a>.</p>

<p>Referenced by <a class="el" href="class_routing_table.html#ad2aa6793b486715ceb51fac3c697fe67">printMulticastRoutingTable()</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> k &lt; (int)<a class="code" href="class_routing_table.html#a1aa104091d93b9bb0fe1661546394090">multicastRoutes</a>.size() ? <a class="code" href="class_routing_table.html#a1aa104091d93b9bb0fe1661546394090">multicastRoutes</a>[k] : <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; }
</pre></div>
</div>
</div>
<a class="anchor" id="ad14ea7ff2385644420653691ca4aba97"></a><!-- doxytag: member="RoutingTable::getNumMulticastRoutes" ref="ad14ea7ff2385644420653691ca4aba97" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int <a class="el" href="class_routing_table.html#ad14ea7ff2385644420653691ca4aba97">RoutingTable::getNumMulticastRoutes</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the total number of multicast routes. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#a249d53294d57a4c052430771215ebd17">IRoutingTable</a>.</p>

<p>Referenced by <a class="el" href="class_routing_table.html#ad2aa6793b486715ceb51fac3c697fe67">printMulticastRoutingTable()</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="class_routing_table.html#a1aa104091d93b9bb0fe1661546394090">multicastRoutes</a>.size(); }
</pre></div>
</div>
</div>
<a class="anchor" id="a5b823df5ff8f413bfdb0949253713e6f"></a><!-- doxytag: member="RoutingTable::getNumRoutes" ref="a5b823df5ff8f413bfdb0949253713e6f" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int <a class="el" href="class_routing_table.html#a5b823df5ff8f413bfdb0949253713e6f">RoutingTable::getNumRoutes</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the total number of routes (unicast, multicast, plus the default route). </p>

<p>Implements <a class="el" href="class_i_routing_table.html#ada2fac98d1d1c80c291be239b075c63b">IRoutingTable</a>.</p>

<p>Referenced by <a class="el" href="class_routing_table.html#a86f4aa3d025b21b5e67ba14943fdf02b">printRoutingTable()</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.size(); }
</pre></div>
</div>
</div>
<a class="anchor" id="a458934c3272cfa75a1546fe227b03ded"></a><!-- doxytag: member="RoutingTable::getRoute" ref="a458934c3272cfa75a1546fe227b03ded" args="(int k) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_pv4_route.html">IPv4Route</a> * <a class="el" href="class_routing_table.html#a458934c3272cfa75a1546fe227b03ded">RoutingTable::getRoute</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>k</em></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the kth route. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#a0f5f8297974432af7092a3ca19b0217e">IRoutingTable</a>.</p>

<p>Referenced by <a class="el" href="class_routing_table.html#a86f4aa3d025b21b5e67ba14943fdf02b">printRoutingTable()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (k &lt; (<span class="keywordtype">int</span>)<a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.size())
        <span class="keywordflow">return</span> <a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>[k];
    <span class="keywordflow">return</span> <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a419c47addb0f3fb4e9c79909415fdf01"></a><!-- doxytag: member="RoutingTable::getRouterId" ref="a419c47addb0f3fb4e9c79909415fdf01" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="class_i_pv4_address.html">IPv4Address</a> <a class="el" href="class_routing_table.html#a419c47addb0f3fb4e9c79909415fdf01">RoutingTable::getRouterId</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns routerId. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#a416ced9f21e5e92920c162deeb5d53ca">IRoutingTable</a>.</p>
<div class="fragment"><pre class="fragment">{<span class="keywordflow">return</span> <a class="code" href="class_routing_table.html#a63120b24a542151bc71d8950a1f8e057">routerId</a>;}
</pre></div>
</div>
</div>
<a class="anchor" id="a27a3710233113ed3316c39c47dba1f64"></a><!-- doxytag: member="RoutingTable::handleMessage" ref="a27a3710233113ed3316c39c47dba1f64" args="(cMessage *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_routing_table.html#a27a3710233113ed3316c39c47dba1f64">RoutingTable::handleMessage</a> </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Raises an error. </p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;This module doesn&#39;t process messages&quot;</span>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0f8b6dd1c9a692ca1eba05d35bcc78ed"></a><!-- doxytag: member="RoutingTable::initialize" ref="a0f8b6dd1c9a692ca1eba05d35bcc78ed" args="(int stage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_routing_table.html#a0f8b6dd1c9a692ca1eba05d35bcc78ed">RoutingTable::initialize</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stage</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (stage==0)
    {
        <span class="comment">// get a pointer to the NotificationBoard module and IInterfaceTable</span>
        <a class="code" href="structnb.html">nb</a> = <a class="code" href="class_notification_board_access.html" title="Gives access to the NotificationBoard instance within the host/router.">NotificationBoardAccess</a>().<a class="code" href="class_module_access.html#a46a82b1fa0e957eb42d29c8637df1f4f">get</a>();
        <a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a> = <a class="code" href="class_interface_table_access.html" title="Gives access to IInterfaceTable.">InterfaceTableAccess</a>().<a class="code" href="class_module_access.html#a46a82b1fa0e957eb42d29c8637df1f4f">get</a>();

        <a class="code" href="class_routing_table.html#ab1fae735c632287a00881b1b6eb24271">IPForward</a> = par(<span class="stringliteral">&quot;IPForward&quot;</span>).boolValue();
        <a class="code" href="class_routing_table.html#a8be36cc0907b268f2d21f9014cc527cb">multicastForward</a> = par(<span class="stringliteral">&quot;forwardMulticast&quot;</span>);

        <a class="code" href="structnb.html">nb</a>-&gt;subscribe(<span class="keyword">this</span>, <a class="code" href="_notifier_consts_8h.html#adf764cbdea00d65edcd07bb9953ad2b7aea2d4297f1e519520524d4bd8ff865b4">NF_INTERFACE_CREATED</a>);
        <a class="code" href="structnb.html">nb</a>-&gt;subscribe(<span class="keyword">this</span>, <a class="code" href="_notifier_consts_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a4f8e57f4754cbf2e6ba92a7079b483e4">NF_INTERFACE_DELETED</a>);
        <a class="code" href="structnb.html">nb</a>-&gt;subscribe(<span class="keyword">this</span>, <a class="code" href="_notifier_consts_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a5ed0701efe7413c8f98fd0ba7fa9947d">NF_INTERFACE_STATE_CHANGED</a>);
        <a class="code" href="structnb.html">nb</a>-&gt;subscribe(<span class="keyword">this</span>, <a class="code" href="_notifier_consts_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a3a1d2cac1cec476f84c60030a70ef902">NF_INTERFACE_CONFIG_CHANGED</a>);
        <a class="code" href="structnb.html">nb</a>-&gt;subscribe(<span class="keyword">this</span>, <a class="code" href="_notifier_consts_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a320671db29f38850c262680b6400b8bf">NF_INTERFACE_IPv4CONFIG_CHANGED</a>);

        WATCH_PTRVECTOR(<a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>);
        WATCH_PTRVECTOR(<a class="code" href="class_routing_table.html#a1aa104091d93b9bb0fe1661546394090">multicastRoutes</a>);
        WATCH(<a class="code" href="class_routing_table.html#ab1fae735c632287a00881b1b6eb24271">IPForward</a>);
        WATCH(<a class="code" href="class_routing_table.html#a63120b24a542151bc71d8950a1f8e057">routerId</a>);
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (stage==1)
    {
        <span class="comment">// L2 modules register themselves in stage 0, so we can only configure</span>
        <span class="comment">// the interfaces in stage 1.</span>
        <span class="keyword">const</span> <span class="keywordtype">char</span> *filename = par(<span class="stringliteral">&quot;routingFile&quot;</span>);

        <span class="comment">// At this point, all L2 modules have registered themselves (added their</span>
        <span class="comment">// interface entries). Create the per-interface IPv4 data structures.</span>
        <a class="code" href="class_i_interface_table.html" title="A C++ interface to abstract the functionality of InterfaceTable.">IInterfaceTable</a> *interfaceTable = <a class="code" href="class_interface_table_access.html" title="Gives access to IInterfaceTable.">InterfaceTableAccess</a>().<a class="code" href="class_module_access.html#a46a82b1fa0e957eb42d29c8637df1f4f">get</a>();
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;interfaceTable-&gt;<a class="code" href="class_i_interface_table.html#a2b0ce46cd92da6f64fc363410dc71904" title="Returns the number of interfaces.">getNumInterfaces</a>(); ++i)
            <a class="code" href="class_routing_table.html#afaca8cf9e47f78fdd727d794109c1842">configureInterfaceForIPv4</a>(interfaceTable-&gt;<a class="code" href="class_i_interface_table.html#a19ce4ca3b47b52b8e2b67c25806c4b49" title="Returns the InterfaceEntry specified by an index 0..numInterfaces-1.">getInterface</a>(i));
        <a class="code" href="class_routing_table.html#a7c5e8b0d56e707bffc8ae56aeb3ca545">configureLoopbackForIPv4</a>();

        <span class="comment">// read routing table file (and interface configuration)</span>
        <a class="code" href="class_routing_table_parser.html" title="Parses a routing table file into a routing table.">RoutingTableParser</a> parser(<a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>, <span class="keyword">this</span>);
        <span class="keywordflow">if</span> (*filename &amp;&amp; parser.readRoutingTableFromFile(filename)==-1)
            error(<span class="stringliteral">&quot;Error reading routing table file %s&quot;</span>, filename);

        <span class="comment">// set routerId if param is not &quot;&quot; (==no routerId) or &quot;auto&quot; (in which case we&#39;ll</span>
        <span class="comment">// do it later in stage 3, after network configurators configured the interfaces)</span>
        <span class="keyword">const</span> <span class="keywordtype">char</span> *routerIdStr = par(<span class="stringliteral">&quot;routerId&quot;</span>).stringValue();
        <span class="keywordflow">if</span> (strcmp(routerIdStr, <span class="stringliteral">&quot;&quot;</span>) &amp;&amp; strcmp(routerIdStr, <span class="stringliteral">&quot;auto&quot;</span>))
            <a class="code" href="class_routing_table.html#a63120b24a542151bc71d8950a1f8e057">routerId</a> = <a class="code" href="class_i_pv4_address.html" title="IPv4 address.">IPv4Address</a>(routerIdStr);
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (stage==3)
    {
        <span class="comment">// routerID selection must be after stage==2 when network autoconfiguration</span>
        <span class="comment">// assigns interface addresses</span>
        <a class="code" href="class_routing_table.html#a8b681e68c0cecf8b3b67981c23a86085">configureRouterId</a>();

        <span class="comment">// we don&#39;t use notifications during initialize(), so we do it manually.</span>
        <span class="comment">// Should be in stage=3 because autoconfigurator runs in stage=2.</span>
        <a class="code" href="class_routing_table.html#a22ed882b21268b0cb94b4ed3cd437319">updateNetmaskRoutes</a>();

        <span class="comment">//printRoutingTable();</span>
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="acd82c7f8be63cede1b6ca3d1aca47cf8"></a><!-- doxytag: member="RoutingTable::internalAddMulticastRoute" ref="acd82c7f8be63cede1b6ca3d1aca47cf8" args="(IPv4MulticastRoute *entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_routing_table.html#acd82c7f8be63cede1b6ca3d1aca47cf8">RoutingTable::internalAddMulticastRoute</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_i_pv4_multicast_route.html">IPv4MulticastRoute</a> *&#160;</td>
          <td class="paramname"><em>entry</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_routing_table.html#acd12f958b135f524100b06357d18e901">addMulticastRoute()</a>, and <a class="el" href="class_routing_table.html#ad2fa475834fc1e958130d58ca7fbc54b">multicastRouteChanged()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!entry-&gt;<a class="code" href="class_i_pv4_multicast_route.html#aa35d51556103f53fa59a0e64586f624e" title="Represents length of prefix to match.">getOriginNetmask</a>().<a class="code" href="class_i_pv4_address.html#ac7d23f9d2cf9d7f568492d3219c775e9" title="Returns true if the address is a valid netmask, i.e.">isValidNetmask</a>())
        error(<span class="stringliteral">&quot;addMulticastRoute(): wrong netmask %s in multicast route&quot;</span>, entry-&gt;<a class="code" href="class_i_pv4_multicast_route.html#aa35d51556103f53fa59a0e64586f624e" title="Represents length of prefix to match.">getOriginNetmask</a>().<a class="code" href="class_i_pv4_address.html#ac6c9eedd7d88e27a22d620c023a2c309" title="Returns the string representation of the address (e.g.">str</a>().c_str());

    <span class="keywordflow">if</span> ((entry-&gt;<a class="code" href="class_i_pv4_multicast_route.html#a0a7b44e7ead1ced34f500dd8210cf513" title="Source address prefix to match.">getOrigin</a>().<a class="code" href="class_i_pv4_address.html#ac4abdd5df9c86071f13af7a3f0931237" title="Returns the address as an int.">getInt</a>() &amp; ~entry-&gt;<a class="code" href="class_i_pv4_multicast_route.html#aa35d51556103f53fa59a0e64586f624e" title="Represents length of prefix to match.">getOriginNetmask</a>().<a class="code" href="class_i_pv4_address.html#ac4abdd5df9c86071f13af7a3f0931237" title="Returns the address as an int.">getInt</a>()) != 0)
        error(<span class="stringliteral">&quot;addMulticastRoute(): suspicious route: origin IP address %s has bits set outside netmask %s&quot;</span>,
                entry-&gt;<a class="code" href="class_i_pv4_multicast_route.html#a0a7b44e7ead1ced34f500dd8210cf513" title="Source address prefix to match.">getOrigin</a>().<a class="code" href="class_i_pv4_address.html#ac6c9eedd7d88e27a22d620c023a2c309" title="Returns the string representation of the address (e.g.">str</a>().c_str(), entry-&gt;<a class="code" href="class_i_pv4_multicast_route.html#aa35d51556103f53fa59a0e64586f624e" title="Represents length of prefix to match.">getOriginNetmask</a>().<a class="code" href="class_i_pv4_address.html#ac6c9eedd7d88e27a22d620c023a2c309" title="Returns the string representation of the address (e.g.">str</a>().c_str());

    <span class="keywordflow">if</span> (!entry-&gt;<a class="code" href="class_i_pv4_multicast_route.html#aaa62f185ff2aa339e068ba1bd2fef971" title="Multicast group address.">getMulticastGroup</a>().<a class="code" href="class_i_pv4_address.html#a76dbddd2575a9e91412b998512b45a2d" title="True if all four address bytes are zero.">isUnspecified</a>() &amp;&amp; !entry-&gt;<a class="code" href="class_i_pv4_multicast_route.html#aaa62f185ff2aa339e068ba1bd2fef971" title="Multicast group address.">getMulticastGroup</a>().<a class="code" href="class_i_pv4_address.html#ab8ffdff7f4dc2ff8f2d6a0eed468b476" title="Returns true if this address is in the multicast address range, 224.0.0.0 thru 239.255.255.255, that is, it&#39;s a class D address.">isMulticast</a>())
        error(<span class="stringliteral">&quot;addMulticastRoute(): group address (%s) is not a multicast address&quot;</span>,
                entry-&gt;<a class="code" href="class_i_pv4_multicast_route.html#aaa62f185ff2aa339e068ba1bd2fef971" title="Multicast group address.">getMulticastGroup</a>().<a class="code" href="class_i_pv4_address.html#ac6c9eedd7d88e27a22d620c023a2c309" title="Returns the string representation of the address (e.g.">str</a>().c_str());

    <span class="comment">// check that the interface exists</span>
    <span class="keywordflow">if</span> (entry-&gt;<a class="code" href="class_i_pv4_multicast_route.html#a097d41b0a4a18fae519e351adf1ecd7b" title="Parent interface.">getParent</a>() &amp;&amp; !entry-&gt;<a class="code" href="class_i_pv4_multicast_route.html#a097d41b0a4a18fae519e351adf1ecd7b" title="Parent interface.">getParent</a>()-&gt;<a class="code" href="class_interface_entry.html#a275db86c899f3278865c47004500588f">isMulticast</a>())
        error(<span class="stringliteral">&quot;addMulticastRoute(): parent interface must be multicast capable&quot;</span>);

    <span class="keyword">const</span> <a class="code" href="class_routing_table.html#af9975432a56ac87c52a8ff174c129126">ChildInterfaceVector</a> &amp;children = entry-&gt;<a class="code" href="class_i_pv4_multicast_route.html#a769f0ffffef1f55e2e52bd6f95a7a0b6" title="Child interfaces.">getChildren</a>();
    <span class="keywordflow">for</span> (ChildInterfaceVector::const_iterator it = children.begin(); it != children.end(); ++it)
    {
        <span class="keywordflow">if</span> (!(*it))
            error(<span class="stringliteral">&quot;addMulticastRoute(): child interface cannot be NULL&quot;</span>);
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!(*it)-&gt;getInterface()-&gt;isMulticast())
            error(<span class="stringliteral">&quot;addMulticastRoute(): child interface must be multicast capable&quot;</span>);
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((*it)-&gt;getInterface() == entry-&gt;<a class="code" href="class_i_pv4_multicast_route.html#a097d41b0a4a18fae519e351adf1ecd7b" title="Parent interface.">getParent</a>())
            error(<span class="stringliteral">&quot;addMulticastRoute(): child interface cannot be the same as the parent&quot;</span>);
    }


    <span class="comment">// add to tables</span>
    <span class="comment">// we keep entries sorted by netmask desc, metric asc in routeList, so that we can</span>
    <span class="comment">// stop at the first match when doing the longest netmask matching</span>
    MulticastRouteVector::iterator pos =
            upper_bound(<a class="code" href="class_routing_table.html#a1aa104091d93b9bb0fe1661546394090">multicastRoutes</a>.begin(), <a class="code" href="class_routing_table.html#a1aa104091d93b9bb0fe1661546394090">multicastRoutes</a>.end(), entry, <a class="code" href="class_routing_table.html#a7a3016d540a8deaf2c5c0a5382bf2a28">multicastRouteLessThan</a>);
    <a class="code" href="class_routing_table.html#a1aa104091d93b9bb0fe1661546394090">multicastRoutes</a>.insert(pos, entry);

    entry-&gt;<a class="code" href="class_i_pv4_multicast_route.html#af572a60304ba2e1a0d7287b2cdaf3d3b" title="To be called by the routing table when this route is added or removed from it.">setRoutingTable</a>(<span class="keyword">this</span>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5d35de53ea3791256f77bb09e0175c04"></a><!-- doxytag: member="RoutingTable::internalAddRoute" ref="a5d35de53ea3791256f77bb09e0175c04" args="(IPv4Route *entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_routing_table.html#a5d35de53ea3791256f77bb09e0175c04">RoutingTable::internalAddRoute</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_i_pv4_route.html">IPv4Route</a> *&#160;</td>
          <td class="paramname"><em>entry</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_routing_table.html#a98ddb5a7192facf8e9d25ce9c69570ed">addRoute()</a>, and <a class="el" href="class_routing_table.html#a20a7e03aa0efb2ec1b0ed40b554477c6">routeChanged()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!entry-&gt;<a class="code" href="class_i_pv4_route.html#ac7d8f045f17b54b9d7e364cd525ba9ae" title="Represents length of prefix to match.">getNetmask</a>().<a class="code" href="class_i_pv4_address.html#ac7d23f9d2cf9d7f568492d3219c775e9" title="Returns true if the address is a valid netmask, i.e.">isValidNetmask</a>())
        error(<span class="stringliteral">&quot;addRoute(): wrong netmask %s in route&quot;</span>, entry-&gt;<a class="code" href="class_i_pv4_route.html#ac7d8f045f17b54b9d7e364cd525ba9ae" title="Represents length of prefix to match.">getNetmask</a>().<a class="code" href="class_i_pv4_address.html#ac6c9eedd7d88e27a22d620c023a2c309" title="Returns the string representation of the address (e.g.">str</a>().c_str());

    <span class="keywordflow">if</span> ((entry-&gt;<a class="code" href="class_i_pv4_route.html#a4982ef0132d4e1560371231b7c11cf8c" title="Destination address prefix to match.">getDestination</a>().<a class="code" href="class_i_pv4_address.html#ac4abdd5df9c86071f13af7a3f0931237" title="Returns the address as an int.">getInt</a>() &amp; ~entry-&gt;<a class="code" href="class_i_pv4_route.html#ac7d8f045f17b54b9d7e364cd525ba9ae" title="Represents length of prefix to match.">getNetmask</a>().<a class="code" href="class_i_pv4_address.html#ac4abdd5df9c86071f13af7a3f0931237" title="Returns the address as an int.">getInt</a>()) != 0)
        error(<span class="stringliteral">&quot;addRoute(): suspicious route: destination IP address %s has bits set outside netmask %s&quot;</span>,
                entry-&gt;<a class="code" href="class_i_pv4_route.html#a4982ef0132d4e1560371231b7c11cf8c" title="Destination address prefix to match.">getDestination</a>().<a class="code" href="class_i_pv4_address.html#ac6c9eedd7d88e27a22d620c023a2c309" title="Returns the string representation of the address (e.g.">str</a>().c_str(), entry-&gt;<a class="code" href="class_i_pv4_route.html#ac7d8f045f17b54b9d7e364cd525ba9ae" title="Represents length of prefix to match.">getNetmask</a>().<a class="code" href="class_i_pv4_address.html#ac6c9eedd7d88e27a22d620c023a2c309" title="Returns the string representation of the address (e.g.">str</a>().c_str());

    <span class="comment">// check that the interface exists</span>
    <span class="keywordflow">if</span> (!entry-&gt;<a class="code" href="class_i_pv4_route.html#aa29a0d4d0846b62b957e15e317d591de" title="Next hop interface.">getInterface</a>())
        error(<span class="stringliteral">&quot;addRoute(): interface cannot be NULL&quot;</span>);

    <span class="comment">// if this is a default route, remove old default route (we&#39;re replacing it)</span>
    <span class="keywordflow">if</span> (entry-&gt;<a class="code" href="class_i_pv4_route.html#ac7d8f045f17b54b9d7e364cd525ba9ae" title="Represents length of prefix to match.">getNetmask</a>().<a class="code" href="class_i_pv4_address.html#a76dbddd2575a9e91412b998512b45a2d" title="True if all four address bytes are zero.">isUnspecified</a>())
    {
        <a class="code" href="class_i_pv4_route.html" title="IPv4 unicast route in IRoutingTable.">IPv4Route</a> *oldDefaultRoute = <a class="code" href="class_routing_table.html#a825bfcd82cc8a57343473d0a4dc289e6" title="Finds and returns the default route, or NULL if it doesn&#39;t exist.">getDefaultRoute</a>();
        <span class="keywordflow">if</span> (oldDefaultRoute != <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
            <a class="code" href="class_routing_table.html#a5b5eb54bc29e507eb635d85b63c0fa1e" title="Deletes the given route from the routing table.">deleteRoute</a>(oldDefaultRoute);
    }

    <span class="comment">// add to tables</span>
    <span class="comment">// we keep entries sorted by netmask desc, metric asc in routeList, so that we can</span>
    <span class="comment">// stop at the first match when doing the longest netmask matching</span>
    RouteVector::iterator pos = upper_bound(<a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.begin(), <a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.end(), entry, <a class="code" href="class_routing_table.html#afc51238fa606f019e8d30780e4ce5b86">routeLessThan</a>);
    <a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.insert(pos, entry);

    entry-&gt;<a class="code" href="class_i_pv4_route.html#a4a29f57874c9e6bf38171e7dfaa50138" title="To be called by the routing table when this route is added or removed from it.">setRoutingTable</a>(<span class="keyword">this</span>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="acf31a89f3c3f7c8625e36d7738c4361a"></a><!-- doxytag: member="RoutingTable::internalRemoveMulticastRoute" ref="acf31a89f3c3f7c8625e36d7738c4361a" args="(IPv4MulticastRoute *entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_pv4_multicast_route.html">IPv4MulticastRoute</a> * <a class="el" href="class_routing_table.html#acf31a89f3c3f7c8625e36d7738c4361a">RoutingTable::internalRemoveMulticastRoute</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_i_pv4_multicast_route.html">IPv4MulticastRoute</a> *&#160;</td>
          <td class="paramname"><em>entry</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_routing_table.html#ae859a31dd464a73ecb15002e4ed6efde">deleteMulticastRoute()</a>, <a class="el" href="class_routing_table.html#ad2fa475834fc1e958130d58ca7fbc54b">multicastRouteChanged()</a>, and <a class="el" href="class_routing_table.html#a499b9875800569b06af8982a687f4344">removeMulticastRoute()</a>.</p>
<div class="fragment"><pre class="fragment">{
    MulticastRouteVector::iterator i = <a class="code" href="_utils_8cc.html#af9d5523fc1489796aef3d897862ef06c" title="TODO documentation.">std::find</a>(<a class="code" href="class_routing_table.html#a1aa104091d93b9bb0fe1661546394090">multicastRoutes</a>.begin(), <a class="code" href="class_routing_table.html#a1aa104091d93b9bb0fe1661546394090">multicastRoutes</a>.end(), entry);
    <span class="keywordflow">if</span> (i!=<a class="code" href="class_routing_table.html#a1aa104091d93b9bb0fe1661546394090">multicastRoutes</a>.end())
    {
        <a class="code" href="class_routing_table.html#a1aa104091d93b9bb0fe1661546394090">multicastRoutes</a>.erase(i);
        <span class="keywordflow">return</span> entry;
    }
    <span class="keywordflow">return</span> <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8fe7723ab30b95f277d3da8168f19c56"></a><!-- doxytag: member="RoutingTable::internalRemoveRoute" ref="a8fe7723ab30b95f277d3da8168f19c56" args="(IPv4Route *entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_pv4_route.html">IPv4Route</a> * <a class="el" href="class_routing_table.html#a8fe7723ab30b95f277d3da8168f19c56">RoutingTable::internalRemoveRoute</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_i_pv4_route.html">IPv4Route</a> *&#160;</td>
          <td class="paramname"><em>entry</em></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_routing_table.html#a5b5eb54bc29e507eb635d85b63c0fa1e">deleteRoute()</a>, <a class="el" href="class_routing_table.html#ac435dc1e629b1d080820e2ef06aae9c7">removeRoute()</a>, and <a class="el" href="class_routing_table.html#a20a7e03aa0efb2ec1b0ed40b554477c6">routeChanged()</a>.</p>
<div class="fragment"><pre class="fragment">{
    RouteVector::iterator i = <a class="code" href="_utils_8cc.html#af9d5523fc1489796aef3d897862ef06c" title="TODO documentation.">std::find</a>(<a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.begin(), <a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.end(), entry);
    <span class="keywordflow">if</span> (i!=<a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.end())
    {
        <a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.erase(i);
        <span class="keywordflow">return</span> entry;
    }
    <span class="keywordflow">return</span> <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a484a19b6b712d938738521f454420129"></a><!-- doxytag: member="RoutingTable::invalidateCache" ref="a484a19b6b712d938738521f454420129" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_routing_table.html#a484a19b6b712d938738521f454420129">RoutingTable::invalidateCache</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_routing_table.html#acd12f958b135f524100b06357d18e901">addMulticastRoute()</a>, <a class="el" href="class_routing_table.html#a98ddb5a7192facf8e9d25ce9c69570ed">addRoute()</a>, <a class="el" href="class_routing_table.html#a95718902c009b8c2d4b09405a0d547a9">deleteInterfaceRoutes()</a>, <a class="el" href="class_routing_table.html#ae859a31dd464a73ecb15002e4ed6efde">deleteMulticastRoute()</a>, <a class="el" href="class_routing_table.html#a5b5eb54bc29e507eb635d85b63c0fa1e">deleteRoute()</a>, <a class="el" href="class_routing_table.html#ad2fa475834fc1e958130d58ca7fbc54b">multicastRouteChanged()</a>, <a class="el" href="class_routing_table.html#aca41a2d77a9dd13653ecbcfe1d53b068">purge()</a>, <a class="el" href="class_routing_table.html#a79264e2505b8a9de5693d9a9ae1e1b42">receiveChangeNotification()</a>, <a class="el" href="class_routing_table.html#a499b9875800569b06af8982a687f4344">removeMulticastRoute()</a>, <a class="el" href="class_routing_table.html#ac435dc1e629b1d080820e2ef06aae9c7">removeRoute()</a>, <a class="el" href="class_routing_table.html#a20a7e03aa0efb2ec1b0ed40b554477c6">routeChanged()</a>, and <a class="el" href="class_routing_table.html#a22ed882b21268b0cb94b4ed3cd437319">updateNetmaskRoutes()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_routing_table.html#ac2aeac5d70e440d6ad1b3d560029f277">routingCache</a>.clear();
    <a class="code" href="class_routing_table.html#a732fcc528f888d4318dfe00220df230b">localAddresses</a>.clear();
    <a class="code" href="class_routing_table.html#adfb5bdd77739bc3e5b4e4d3785b804dc">localBroadcastAddresses</a>.clear();
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac1eb79e7247a9da2a64abc4050913efd"></a><!-- doxytag: member="RoutingTable::isIPForwardingEnabled" ref="ac1eb79e7247a9da2a64abc4050913efd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool <a class="el" href="class_routing_table.html#ac1eb79e7247a9da2a64abc4050913efd">RoutingTable::isIPForwardingEnabled</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="class_i_pv4.html" title="Implements the IPv4 protocol.">IPv4</a> forwarding on/off. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#a0f834149cc44f331983bcfc31e35cbf7">IRoutingTable</a>.</p>
<div class="fragment"><pre class="fragment">{<span class="keywordflow">return</span> <a class="code" href="class_routing_table.html#ab1fae735c632287a00881b1b6eb24271">IPForward</a>;}
</pre></div>
</div>
</div>
<a class="anchor" id="a128cafbfd8459bb37effbd0318cef00b"></a><!-- doxytag: member="RoutingTable::isLocalAddress" ref="a128cafbfd8459bb37effbd0318cef00b" args="(const IPv4Address &amp;dest) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_routing_table.html#a128cafbfd8459bb37effbd0318cef00b">RoutingTable::isLocalAddress</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_i_pv4_address.html">IPv4Address</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Checks if the address is a local one, i.e. </p>
<p>one of the host's. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#a2db544d01dd255f4d069c02f2975e683">IRoutingTable</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method(<span class="stringliteral">&quot;isLocalAddress(%u.%u.%u.%u)&quot;</span>, dest.<a class="code" href="class_i_pv4_address.html#a70cb48eb76f46544accae0999642f0fa" title="Returns the corresponding part of the address specified by the index (&quot;[0].[1].[2].[3]&quot;)">getDByte</a>(0), dest.<a class="code" href="class_i_pv4_address.html#a70cb48eb76f46544accae0999642f0fa" title="Returns the corresponding part of the address specified by the index (&quot;[0].[1].[2].[3]&quot;)">getDByte</a>(1), dest.<a class="code" href="class_i_pv4_address.html#a70cb48eb76f46544accae0999642f0fa" title="Returns the corresponding part of the address specified by the index (&quot;[0].[1].[2].[3]&quot;)">getDByte</a>(2), dest.<a class="code" href="class_i_pv4_address.html#a70cb48eb76f46544accae0999642f0fa" title="Returns the corresponding part of the address specified by the index (&quot;[0].[1].[2].[3]&quot;)">getDByte</a>(3)); <span class="comment">// note: str().c_str() too slow here</span>

    <span class="keywordflow">if</span> (<a class="code" href="class_routing_table.html#a732fcc528f888d4318dfe00220df230b">localAddresses</a>.empty())
    {
        <span class="comment">// collect interface addresses if not yet done</span>
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#a2b0ce46cd92da6f64fc363410dc71904" title="Returns the number of interfaces.">getNumInterfaces</a>(); i++)
        {
            <a class="code" href="class_i_pv4_address.html" title="IPv4 address.">IPv4Address</a> interfaceAddr = <a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#a19ce4ca3b47b52b8e2b67c25806c4b49" title="Returns the InterfaceEntry specified by an index 0..numInterfaces-1.">getInterface</a>(i)-&gt;<a class="code" href="class_interface_entry.html#a4f52f31546a140edf6979882492e1a0b">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#afab661980ddb8db4adc9ba5e9fc1f346">getIPAddress</a>();
            <a class="code" href="class_routing_table.html#a732fcc528f888d4318dfe00220df230b">localAddresses</a>.insert(interfaceAddr);
        }
    }

    AddressSet::iterator it = <a class="code" href="class_routing_table.html#a732fcc528f888d4318dfe00220df230b">localAddresses</a>.find(dest);
    <span class="keywordflow">return</span> it!=<a class="code" href="class_routing_table.html#a732fcc528f888d4318dfe00220df230b">localAddresses</a>.end();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a08f67b0ddf0c5604469209234fee4275"></a><!-- doxytag: member="RoutingTable::isLocalBroadcastAddress" ref="a08f67b0ddf0c5604469209234fee4275" args="(const IPv4Address &amp;dest) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_routing_table.html#a08f67b0ddf0c5604469209234fee4275">RoutingTable::isLocalBroadcastAddress</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_i_pv4_address.html">IPv4Address</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Checks if the address is a local network broadcast address, i.e. </p>
<p>one of the broadcast addresses derived from the interface addresses and netmasks. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#a720ec95d677aa444edaff4b651e39aee">IRoutingTable</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method(<span class="stringliteral">&quot;isLocalBroadcastAddress(%u.%u.%u.%u)&quot;</span>, dest.<a class="code" href="class_i_pv4_address.html#a70cb48eb76f46544accae0999642f0fa" title="Returns the corresponding part of the address specified by the index (&quot;[0].[1].[2].[3]&quot;)">getDByte</a>(0), dest.<a class="code" href="class_i_pv4_address.html#a70cb48eb76f46544accae0999642f0fa" title="Returns the corresponding part of the address specified by the index (&quot;[0].[1].[2].[3]&quot;)">getDByte</a>(1), dest.<a class="code" href="class_i_pv4_address.html#a70cb48eb76f46544accae0999642f0fa" title="Returns the corresponding part of the address specified by the index (&quot;[0].[1].[2].[3]&quot;)">getDByte</a>(2), dest.<a class="code" href="class_i_pv4_address.html#a70cb48eb76f46544accae0999642f0fa" title="Returns the corresponding part of the address specified by the index (&quot;[0].[1].[2].[3]&quot;)">getDByte</a>(3)); <span class="comment">// note: str().c_str() too slow here</span>

    <span class="keywordflow">if</span> (<a class="code" href="class_routing_table.html#adfb5bdd77739bc3e5b4e4d3785b804dc">localBroadcastAddresses</a>.empty())
    {
        <span class="comment">// collect interface addresses if not yet done</span>
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#a2b0ce46cd92da6f64fc363410dc71904" title="Returns the number of interfaces.">getNumInterfaces</a>(); i++)
        {
            <a class="code" href="class_i_pv4_address.html" title="IPv4 address.">IPv4Address</a> interfaceAddr = <a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#a19ce4ca3b47b52b8e2b67c25806c4b49" title="Returns the InterfaceEntry specified by an index 0..numInterfaces-1.">getInterface</a>(i)-&gt;<a class="code" href="class_interface_entry.html#a4f52f31546a140edf6979882492e1a0b">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#afab661980ddb8db4adc9ba5e9fc1f346">getIPAddress</a>();
            <a class="code" href="class_i_pv4_address.html" title="IPv4 address.">IPv4Address</a> broadcastAddr = interfaceAddr.<a class="code" href="class_i_pv4_address.html#abaed6078220ce34ed5407d5c0b73015f" title="Returns the broadcast address for the given netmask.">getBroadcastAddress</a>(<a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#a19ce4ca3b47b52b8e2b67c25806c4b49" title="Returns the InterfaceEntry specified by an index 0..numInterfaces-1.">getInterface</a>(i)-&gt;<a class="code" href="class_interface_entry.html#a4f52f31546a140edf6979882492e1a0b">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#a7bd9bc7a6caff7bc7ff9e6448db0e394">getNetmask</a>());
            <span class="keywordflow">if</span> (!broadcastAddr.<a class="code" href="class_i_pv4_address.html#a76dbddd2575a9e91412b998512b45a2d" title="True if all four address bytes are zero.">isUnspecified</a>())
            {
                 <a class="code" href="class_routing_table.html#adfb5bdd77739bc3e5b4e4d3785b804dc">localBroadcastAddresses</a>.insert(broadcastAddr);
            }
        }
    }

    AddressSet::iterator it = <a class="code" href="class_routing_table.html#adfb5bdd77739bc3e5b4e4d3785b804dc">localBroadcastAddresses</a>.find(dest);
    <span class="keywordflow">return</span> it!=<a class="code" href="class_routing_table.html#adfb5bdd77739bc3e5b4e4d3785b804dc">localBroadcastAddresses</a>.end();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a825a08a15267e7d11fa40759ba2ec68f"></a><!-- doxytag: member="RoutingTable::isLocalMulticastAddress" ref="a825a08a15267e7d11fa40759ba2ec68f" args="(const IPv4Address &amp;dest) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_routing_table.html#a825a08a15267e7d11fa40759ba2ec68f">RoutingTable::isLocalMulticastAddress</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_i_pv4_address.html">IPv4Address</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Checks if the address is in one of the local multicast group address list. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#a6b97dd1f12cc18ed1622448032d81a5d">IRoutingTable</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method(<span class="stringliteral">&quot;isLocalMulticastAddress(%u.%u.%u.%u)&quot;</span>, dest.<a class="code" href="class_i_pv4_address.html#a70cb48eb76f46544accae0999642f0fa" title="Returns the corresponding part of the address specified by the index (&quot;[0].[1].[2].[3]&quot;)">getDByte</a>(0), dest.<a class="code" href="class_i_pv4_address.html#a70cb48eb76f46544accae0999642f0fa" title="Returns the corresponding part of the address specified by the index (&quot;[0].[1].[2].[3]&quot;)">getDByte</a>(1), dest.<a class="code" href="class_i_pv4_address.html#a70cb48eb76f46544accae0999642f0fa" title="Returns the corresponding part of the address specified by the index (&quot;[0].[1].[2].[3]&quot;)">getDByte</a>(2), dest.<a class="code" href="class_i_pv4_address.html#a70cb48eb76f46544accae0999642f0fa" title="Returns the corresponding part of the address specified by the index (&quot;[0].[1].[2].[3]&quot;)">getDByte</a>(3)); <span class="comment">// note: str().c_str() too slow here</span>

    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#a2b0ce46cd92da6f64fc363410dc71904" title="Returns the number of interfaces.">getNumInterfaces</a>(); i++)
    {
        <a class="code" href="class_interface_entry.html" title="Interface entry for the interface table in IInterfaceTable.">InterfaceEntry</a> *ie = <a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#a19ce4ca3b47b52b8e2b67c25806c4b49" title="Returns the InterfaceEntry specified by an index 0..numInterfaces-1.">getInterface</a>(i);
        <span class="keywordflow">if</span> (ie-&gt;<a class="code" href="class_interface_entry.html#a4f52f31546a140edf6979882492e1a0b">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#a61459c3b2d9ecda92e00870696118ed5">isMemberOfMulticastGroup</a>(dest))
            <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }
    <span class="keywordflow">return</span> <span class="keyword">false</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8fc2f36e3d44475d4d32f50665959e0a"></a><!-- doxytag: member="RoutingTable::isMulticastForwardingEnabled" ref="a8fc2f36e3d44475d4d32f50665959e0a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool <a class="el" href="class_routing_table.html#a8fc2f36e3d44475d4d32f50665959e0a">RoutingTable::isMulticastForwardingEnabled</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="class_i_pv4.html" title="Implements the IPv4 protocol.">IPv4</a> multicast forwarding on/off. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#aa29d9b1999fb0870422c4b1aabdc5025">IRoutingTable</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="class_routing_table.html#a8be36cc0907b268f2d21f9014cc527cb">multicastForward</a>; }
</pre></div>
</div>
</div>
<a class="anchor" id="ad2fa475834fc1e958130d58ca7fbc54b"></a><!-- doxytag: member="RoutingTable::multicastRouteChanged" ref="ad2fa475834fc1e958130d58ca7fbc54b" args="(IPv4MulticastRoute *entry, int fieldCode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_routing_table.html#ad2fa475834fc1e958130d58ca7fbc54b">RoutingTable::multicastRouteChanged</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_i_pv4_multicast_route.html">IPv4MulticastRoute</a> *&#160;</td>
          <td class="paramname"><em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fieldCode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>To be called from multicast route objects whenever a field changes. </p>
<p>Used for maintaining internal data structures and firing "routing table changed" notifications. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#a7a2fb9b350cead9c5fcfb93797ecbd20">IRoutingTable</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (fieldCode==<a class="code" href="class_i_pv4_multicast_route.html#ac0e431372310413e38cacc48aeaad34badcddf12ee0c70be3d79ef8401378e3bc">IPv4MulticastRoute::F_ORIGIN</a> || fieldCode==<a class="code" href="class_i_pv4_multicast_route.html#ac0e431372310413e38cacc48aeaad34bac426185bf4212f1370b2d445ad71b25b">IPv4MulticastRoute::F_ORIGINMASK</a> ||
            fieldCode==<a class="code" href="class_i_pv4_multicast_route.html#ac0e431372310413e38cacc48aeaad34bae915deb00041133b7b825b53ba0af704">IPv4MulticastRoute::F_MULTICASTGROUP</a> || fieldCode==<a class="code" href="class_i_pv4_multicast_route.html#ac0e431372310413e38cacc48aeaad34ba3534bf9da1a24b477346f4bfde467a3d">IPv4MulticastRoute::F_METRIC</a>) <span class="comment">// our data structures depend on these fields</span>
    {
        entry = <a class="code" href="class_routing_table.html#acf31a89f3c3f7c8625e36d7738c4361a">internalRemoveMulticastRoute</a>(entry);
        ASSERT(entry != <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);  <span class="comment">// failure means inconsistency: route was not found in this routing table</span>
        <a class="code" href="class_routing_table.html#acd82c7f8be63cede1b6ca3d1aca47cf8">internalAddMulticastRoute</a>(entry);

        <a class="code" href="class_routing_table.html#a484a19b6b712d938738521f454420129">invalidateCache</a>();
        <a class="code" href="class_routing_table.html#a8a8313b75234201d11785afdd69e4eca">updateDisplayString</a>();
    }
    <a class="code" href="structnb.html">nb</a>-&gt;fireChangeNotification(<a class="code" href="_notifier_consts_8h.html#adf764cbdea00d65edcd07bb9953ad2b7ab3d76c4f44e1aaaa479a5f7baa115a24">NF_IPv4_MROUTE_CHANGED</a>, entry); <span class="comment">// TODO include fieldCode in the notification</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7a3016d540a8deaf2c5c0a5382bf2a28"></a><!-- doxytag: member="RoutingTable::multicastRouteLessThan" ref="a7a3016d540a8deaf2c5c0a5382bf2a28" args="(const IPv4MulticastRoute *a, const IPv4MulticastRoute *b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_routing_table.html#a7a3016d540a8deaf2c5c0a5382bf2a28">RoutingTable::multicastRouteLessThan</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_i_pv4_multicast_route.html">IPv4MulticastRoute</a> *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_i_pv4_multicast_route.html">IPv4MulticastRoute</a> *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_routing_table.html#acd82c7f8be63cede1b6ca3d1aca47cf8">internalAddMulticastRoute()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// We want routes with longer</span>
    <span class="comment">// prefixes to be at front, so we compare them as &quot;less&quot;.</span>
    <span class="keywordflow">if</span> (a-&gt;<a class="code" href="class_i_pv4_multicast_route.html#aa35d51556103f53fa59a0e64586f624e" title="Represents length of prefix to match.">getOriginNetmask</a>() != b-&gt;<a class="code" href="class_i_pv4_multicast_route.html#aa35d51556103f53fa59a0e64586f624e" title="Represents length of prefix to match.">getOriginNetmask</a>())
        <span class="keywordflow">return</span> a-&gt;<a class="code" href="class_i_pv4_multicast_route.html#aa35d51556103f53fa59a0e64586f624e" title="Represents length of prefix to match.">getOriginNetmask</a>() &gt; b-&gt;<a class="code" href="class_i_pv4_multicast_route.html#aa35d51556103f53fa59a0e64586f624e" title="Represents length of prefix to match.">getOriginNetmask</a>();

    <span class="comment">// For metric, a smaller value is better (we report that as &quot;less&quot;).</span>
    <span class="keywordflow">if</span> (a-&gt;<a class="code" href="class_i_pv4_multicast_route.html#a0a7b44e7ead1ced34f500dd8210cf513" title="Source address prefix to match.">getOrigin</a>() != b-&gt;<a class="code" href="class_i_pv4_multicast_route.html#a0a7b44e7ead1ced34f500dd8210cf513" title="Source address prefix to match.">getOrigin</a>())
        <span class="keywordflow">return</span> a-&gt;<a class="code" href="class_i_pv4_multicast_route.html#a0a7b44e7ead1ced34f500dd8210cf513" title="Source address prefix to match.">getOrigin</a>() &lt; b-&gt;<a class="code" href="class_i_pv4_multicast_route.html#a0a7b44e7ead1ced34f500dd8210cf513" title="Source address prefix to match.">getOrigin</a>();

    <span class="comment">// put the unspecified group after the specified ones</span>
    <span class="keywordflow">if</span> (a-&gt;<a class="code" href="class_i_pv4_multicast_route.html#aaa62f185ff2aa339e068ba1bd2fef971" title="Multicast group address.">getMulticastGroup</a>() != b-&gt;<a class="code" href="class_i_pv4_multicast_route.html#aaa62f185ff2aa339e068ba1bd2fef971" title="Multicast group address.">getMulticastGroup</a>())
        <span class="keywordflow">return</span> a-&gt;<a class="code" href="class_i_pv4_multicast_route.html#aaa62f185ff2aa339e068ba1bd2fef971" title="Multicast group address.">getMulticastGroup</a>() &gt; b-&gt;<a class="code" href="class_i_pv4_multicast_route.html#aaa62f185ff2aa339e068ba1bd2fef971" title="Multicast group address.">getMulticastGroup</a>();

    <span class="keywordflow">return</span> a-&gt;<a class="code" href="class_i_pv4_multicast_route.html#ae8d874d7c775a226c2e88ed17ab69aad" title="&quot;Cost&quot; to reach the destination">getMetric</a>() &lt; b-&gt;<a class="code" href="class_i_pv4_multicast_route.html#ae8d874d7c775a226c2e88ed17ab69aad" title="&quot;Cost&quot; to reach the destination">getMetric</a>();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4ab26e1c685f9810d85a1cde9ff007e7"></a><!-- doxytag: member="RoutingTable::numInitStages" ref="a4ab26e1c685f9810d85a1cde9ff007e7" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int <a class="el" href="class_routing_table.html#a4ab26e1c685f9810d85a1cde9ff007e7">RoutingTable::numInitStages</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">{<span class="keywordflow">return</span> 4;}
</pre></div>
</div>
</div>
<a class="anchor" id="ad2aa6793b486715ceb51fac3c697fe67"></a><!-- doxytag: member="RoutingTable::printMulticastRoutingTable" ref="ad2aa6793b486715ceb51fac3c697fe67" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_routing_table.html#ad2aa6793b486715ceb51fac3c697fe67">RoutingTable::printMulticastRoutingTable</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>For debugging. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#a8479205e72e81689cf702eb6025d6625">IRoutingTable</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;-- Multicast routing table --\n&quot;</span>;
    ev.printf(<span class="stringliteral">&quot;%-16s %-16s %-16s %-6s %-6s %s\n&quot;</span>,
              <span class="stringliteral">&quot;Source&quot;</span>, <span class="stringliteral">&quot;Netmask&quot;</span>, <span class="stringliteral">&quot;Group&quot;</span>, <span class="stringliteral">&quot;Metric&quot;</span>, <span class="stringliteral">&quot;In&quot;</span>, <span class="stringliteral">&quot;Outs&quot;</span>);

    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_routing_table.html#ad14ea7ff2385644420653691ca4aba97" title="Returns the total number of multicast routes.">getNumMulticastRoutes</a>(); i++) {
        <a class="code" href="class_i_pv4_multicast_route.html" title="IPv4 multicast route in IRoutingTable.">IPv4MulticastRoute</a> *route = <a class="code" href="class_routing_table.html#a6ea4e5b7be084e1b67715e960c77d0fb" title="Returns the kth multicast route.">getMulticastRoute</a>(i);
        ev.printf(<span class="stringliteral">&quot;%-16s %-16s %-16s %-6d %-6s &quot;</span>,
                  route-&gt;<a class="code" href="class_i_pv4_multicast_route.html#a0a7b44e7ead1ced34f500dd8210cf513" title="Source address prefix to match.">getOrigin</a>().<a class="code" href="class_i_pv4_address.html#a76dbddd2575a9e91412b998512b45a2d" title="True if all four address bytes are zero.">isUnspecified</a>() ? <span class="stringliteral">&quot;*&quot;</span> : route-&gt;<a class="code" href="class_i_pv4_multicast_route.html#a0a7b44e7ead1ced34f500dd8210cf513" title="Source address prefix to match.">getOrigin</a>().<a class="code" href="class_i_pv4_address.html#ac6c9eedd7d88e27a22d620c023a2c309" title="Returns the string representation of the address (e.g.">str</a>().c_str(),
                  route-&gt;<a class="code" href="class_i_pv4_multicast_route.html#aa35d51556103f53fa59a0e64586f624e" title="Represents length of prefix to match.">getOriginNetmask</a>().<a class="code" href="class_i_pv4_address.html#a76dbddd2575a9e91412b998512b45a2d" title="True if all four address bytes are zero.">isUnspecified</a>() ? <span class="stringliteral">&quot;*&quot;</span> : route-&gt;<a class="code" href="class_i_pv4_multicast_route.html#aa35d51556103f53fa59a0e64586f624e" title="Represents length of prefix to match.">getOriginNetmask</a>().<a class="code" href="class_i_pv4_address.html#ac6c9eedd7d88e27a22d620c023a2c309" title="Returns the string representation of the address (e.g.">str</a>().c_str(),
                  route-&gt;<a class="code" href="class_i_pv4_multicast_route.html#aaa62f185ff2aa339e068ba1bd2fef971" title="Multicast group address.">getMulticastGroup</a>().<a class="code" href="class_i_pv4_address.html#a76dbddd2575a9e91412b998512b45a2d" title="True if all four address bytes are zero.">isUnspecified</a>() ? <span class="stringliteral">&quot;*&quot;</span> : route-&gt;<a class="code" href="class_i_pv4_multicast_route.html#aaa62f185ff2aa339e068ba1bd2fef971" title="Multicast group address.">getMulticastGroup</a>().<a class="code" href="class_i_pv4_address.html#ac6c9eedd7d88e27a22d620c023a2c309" title="Returns the string representation of the address (e.g.">str</a>().c_str(),
                  route-&gt;<a class="code" href="class_i_pv4_multicast_route.html#ae8d874d7c775a226c2e88ed17ab69aad" title="&quot;Cost&quot; to reach the destination">getMetric</a>(),
                  !route-&gt;<a class="code" href="class_i_pv4_multicast_route.html#a097d41b0a4a18fae519e351adf1ecd7b" title="Parent interface.">getParent</a>() ? <span class="stringliteral">&quot;*&quot;</span> : route-&gt;<a class="code" href="class_i_pv4_multicast_route.html#a097d41b0a4a18fae519e351adf1ecd7b" title="Parent interface.">getParent</a>()-&gt;getName());
        <span class="keyword">const</span> <a class="code" href="class_routing_table.html#af9975432a56ac87c52a8ff174c129126">ChildInterfaceVector</a> &amp;children = route-&gt;<a class="code" href="class_i_pv4_multicast_route.html#a769f0ffffef1f55e2e52bd6f95a7a0b6" title="Child interfaces.">getChildren</a>();
        <span class="keywordflow">for</span> (ChildInterfaceVector::const_iterator it = children.begin(); it != children.end(); ++it)
        {
            <span class="keywordflow">if</span> (it != children.begin())
                <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;,&quot;</span>;
            <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; (*it)-&gt;getInterface()-&gt;getName();
        }
        <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;
    }
    <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a86f4aa3d025b21b5e67ba14943fdf02b"></a><!-- doxytag: member="RoutingTable::printRoutingTable" ref="a86f4aa3d025b21b5e67ba14943fdf02b" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_routing_table.html#a86f4aa3d025b21b5e67ba14943fdf02b">RoutingTable::printRoutingTable</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>For debugging. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#ad0a94f80bbc274a87d236154052302e0">IRoutingTable</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;-- Routing table --\n&quot;</span>;
    ev.printf(<span class="stringliteral">&quot;%-16s %-16s %-16s %-4s %-16s %s\n&quot;</span>,
              <span class="stringliteral">&quot;Destination&quot;</span>, <span class="stringliteral">&quot;Netmask&quot;</span>, <span class="stringliteral">&quot;Gateway&quot;</span>, <span class="stringliteral">&quot;Iface&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;Metric&quot;</span>);

    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_routing_table.html#a5b823df5ff8f413bfdb0949253713e6f" title="Returns the total number of routes (unicast, multicast, plus the default route).">getNumRoutes</a>(); i++) {
        <a class="code" href="class_i_pv4_route.html" title="IPv4 unicast route in IRoutingTable.">IPv4Route</a> *route = <a class="code" href="class_routing_table.html#a458934c3272cfa75a1546fe227b03ded" title="Returns the kth route.">getRoute</a>(i);
        <a class="code" href="class_interface_entry.html" title="Interface entry for the interface table in IInterfaceTable.">InterfaceEntry</a> *interfacePtr = route-&gt;<a class="code" href="class_i_pv4_route.html#aa29a0d4d0846b62b957e15e317d591de" title="Next hop interface.">getInterface</a>();
        ev.printf(<span class="stringliteral">&quot;%-16s %-16s %-16s %-4s (%s) %d\n&quot;</span>,
                  route-&gt;<a class="code" href="class_i_pv4_route.html#a4982ef0132d4e1560371231b7c11cf8c" title="Destination address prefix to match.">getDestination</a>().<a class="code" href="class_i_pv4_address.html#a76dbddd2575a9e91412b998512b45a2d" title="True if all four address bytes are zero.">isUnspecified</a>() ? <span class="stringliteral">&quot;*&quot;</span> : route-&gt;<a class="code" href="class_i_pv4_route.html#a4982ef0132d4e1560371231b7c11cf8c" title="Destination address prefix to match.">getDestination</a>().<a class="code" href="class_i_pv4_address.html#ac6c9eedd7d88e27a22d620c023a2c309" title="Returns the string representation of the address (e.g.">str</a>().c_str(),
                  route-&gt;<a class="code" href="class_i_pv4_route.html#ac7d8f045f17b54b9d7e364cd525ba9ae" title="Represents length of prefix to match.">getNetmask</a>().<a class="code" href="class_i_pv4_address.html#a76dbddd2575a9e91412b998512b45a2d" title="True if all four address bytes are zero.">isUnspecified</a>() ? <span class="stringliteral">&quot;*&quot;</span> : route-&gt;<a class="code" href="class_i_pv4_route.html#ac7d8f045f17b54b9d7e364cd525ba9ae" title="Represents length of prefix to match.">getNetmask</a>().<a class="code" href="class_i_pv4_address.html#ac6c9eedd7d88e27a22d620c023a2c309" title="Returns the string representation of the address (e.g.">str</a>().c_str(),
                  route-&gt;<a class="code" href="class_i_pv4_route.html#ae85a9e2c22eaa74d14ba636d15966afe" title="Next hop address.">getGateway</a>().<a class="code" href="class_i_pv4_address.html#a76dbddd2575a9e91412b998512b45a2d" title="True if all four address bytes are zero.">isUnspecified</a>() ? <span class="stringliteral">&quot;*&quot;</span> : route-&gt;<a class="code" href="class_i_pv4_route.html#ae85a9e2c22eaa74d14ba636d15966afe" title="Next hop address.">getGateway</a>().<a class="code" href="class_i_pv4_address.html#ac6c9eedd7d88e27a22d620c023a2c309" title="Returns the string representation of the address (e.g.">str</a>().c_str(),
                  !interfacePtr ? <span class="stringliteral">&quot;*&quot;</span> : interfacePtr-&gt;getName(),
                  !interfacePtr ? <span class="stringliteral">&quot;*  &quot;</span> : interfacePtr-&gt;<a class="code" href="class_interface_entry.html#a4f52f31546a140edf6979882492e1a0b">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#afab661980ddb8db4adc9ba5e9fc1f346">getIPAddress</a>().<a class="code" href="class_i_pv4_address.html#ac6c9eedd7d88e27a22d620c023a2c309" title="Returns the string representation of the address (e.g.">str</a>().c_str(),
                  route-&gt;<a class="code" href="class_i_pv4_route.html#a010b52fd4c40493c2d6519740a106228" title="&quot;Cost&quot; to reach the destination">getMetric</a>());
    }
    <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aca41a2d77a9dd13653ecbcfe1d53b068"></a><!-- doxytag: member="RoutingTable::purge" ref="aca41a2d77a9dd13653ecbcfe1d53b068" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_routing_table.html#aca41a2d77a9dd13653ecbcfe1d53b068">RoutingTable::purge</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Deletes invalid routes from the routing table. </p>
<p>Invalid routes are those where the isValid() method returns false. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#aab5b72682921a51a7d8bb0afc9a26952">IRoutingTable</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">bool</span> deleted = <span class="keyword">false</span>;

    <span class="comment">// purge unicast routes</span>
    <span class="keywordflow">for</span> (RouteVector::iterator it = <a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.begin(); it != <a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.end(); )
    {
        <a class="code" href="class_i_pv4_route.html" title="IPv4 unicast route in IRoutingTable.">IPv4Route</a> *route = *it;
        <span class="keywordflow">if</span> (route-&gt;<a class="code" href="class_i_pv4_route.html#aa0b8b4ecb7c88ce7cb1665c37c281334" title="test validity of route entry, e.g.">isValid</a>())
            ++it;
        <span class="keywordflow">else</span>
        {
            it = <a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.erase(it);
            ASSERT(route-&gt;<a class="code" href="class_i_pv4_route.html#a93eb747e36e41810dadef2185f8108af">getRoutingTable</a>() == <span class="keyword">this</span>); <span class="comment">// still filled in, for the listeners&#39; benefit</span>
            <a class="code" href="structnb.html">nb</a>-&gt;fireChangeNotification(<a class="code" href="_notifier_consts_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a250243f132a5001e082e2c58b25eb0f1">NF_IPv4_ROUTE_DELETED</a>, route);
            <span class="keyword">delete</span> route;
            deleted = <span class="keyword">true</span>;
        }
    }

    <span class="comment">// purge multicast routes</span>
    <span class="keywordflow">for</span> (MulticastRouteVector::iterator it = <a class="code" href="class_routing_table.html#a1aa104091d93b9bb0fe1661546394090">multicastRoutes</a>.begin(); it != <a class="code" href="class_routing_table.html#a1aa104091d93b9bb0fe1661546394090">multicastRoutes</a>.end(); )
    {
        <a class="code" href="class_i_pv4_multicast_route.html" title="IPv4 multicast route in IRoutingTable.">IPv4MulticastRoute</a> *route = *it;
        <span class="keywordflow">if</span> (route-&gt;<a class="code" href="class_i_pv4_multicast_route.html#a35b9e2520c424ca1c514d17768e55d2c" title="test validity of route entry, e.g.">isValid</a>())
            ++it;
        <span class="keywordflow">else</span>
        {
            it = <a class="code" href="class_routing_table.html#a1aa104091d93b9bb0fe1661546394090">multicastRoutes</a>.erase(it);
            ASSERT(route-&gt;<a class="code" href="class_i_pv4_multicast_route.html#a9037ca12f5b0789da6589cee566e8dbf">getRoutingTable</a>() == <span class="keyword">this</span>); <span class="comment">// still filled in, for the listeners&#39; benefit</span>
            <a class="code" href="structnb.html">nb</a>-&gt;fireChangeNotification(<a class="code" href="_notifier_consts_8h.html#adf764cbdea00d65edcd07bb9953ad2b7ae4729ae61675adfddac18916dee282de">NF_IPv4_MROUTE_DELETED</a>, route);
            <span class="keyword">delete</span> route;
            deleted = <span class="keyword">true</span>;
        }
    }

    <span class="keywordflow">if</span> (deleted)
    {
        <a class="code" href="class_routing_table.html#a484a19b6b712d938738521f454420129">invalidateCache</a>();
        <a class="code" href="class_routing_table.html#a8a8313b75234201d11785afdd69e4eca">updateDisplayString</a>();
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a79264e2505b8a9de5693d9a9ae1e1b42"></a><!-- doxytag: member="RoutingTable::receiveChangeNotification" ref="a79264e2505b8a9de5693d9a9ae1e1b42" args="(int category, const cObject *details)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_routing_table.html#a79264e2505b8a9de5693d9a9ae1e1b42">RoutingTable::receiveChangeNotification</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>category</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const cObject *&#160;</td>
          <td class="paramname"><em>details</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called by the <a class="el" href="class_notification_board.html" title="Acts as a intermediary between module where state changes can occur and modules which are interested ...">NotificationBoard</a> whenever a change of a category occurs to which this client has subscribed. </p>

<p>Implements <a class="el" href="class_i_notifiable.html#a26809ed59b2ff3e9379b1b4440227a8d">INotifiable</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (simulation.getContextType()==CTX_INITIALIZE)
        <span class="keywordflow">return</span>;  <span class="comment">// ignore notifications during initialize</span>

    Enter_Method_Silent();
    <a class="code" href="_notifier_consts_8cc.html#a97f9fe597921659345dbf486bc49069c" title="Utility function.">printNotificationBanner</a>(category, details);

    <span class="keywordflow">if</span> (category==<a class="code" href="_notifier_consts_8h.html#adf764cbdea00d65edcd07bb9953ad2b7aea2d4297f1e519520524d4bd8ff865b4">NF_INTERFACE_CREATED</a>)
    {
        <span class="comment">// add netmask route for the new interface</span>
        <a class="code" href="class_routing_table.html#a22ed882b21268b0cb94b4ed3cd437319">updateNetmaskRoutes</a>();
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (category==<a class="code" href="_notifier_consts_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a4f8e57f4754cbf2e6ba92a7079b483e4">NF_INTERFACE_DELETED</a>)
    {
        <span class="comment">// remove all routes that point to that interface</span>
        <a class="code" href="class_interface_entry.html" title="Interface entry for the interface table in IInterfaceTable.">InterfaceEntry</a> *entry = check_and_cast&lt;<a class="code" href="class_interface_entry.html" title="Interface entry for the interface table in IInterfaceTable.">InterfaceEntry</a>*&gt;(details);
        <a class="code" href="class_routing_table.html#a95718902c009b8c2d4b09405a0d547a9">deleteInterfaceRoutes</a>(entry);
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (category==<a class="code" href="_notifier_consts_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a5ed0701efe7413c8f98fd0ba7fa9947d">NF_INTERFACE_STATE_CHANGED</a>)
    {
        <a class="code" href="class_routing_table.html#a484a19b6b712d938738521f454420129">invalidateCache</a>();
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (category==<a class="code" href="_notifier_consts_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a3a1d2cac1cec476f84c60030a70ef902">NF_INTERFACE_CONFIG_CHANGED</a>)
    {
        <a class="code" href="class_routing_table.html#a484a19b6b712d938738521f454420129">invalidateCache</a>();
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (category==<a class="code" href="_notifier_consts_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a320671db29f38850c262680b6400b8bf">NF_INTERFACE_IPv4CONFIG_CHANGED</a>)
    {
        <span class="comment">// if anything IPv4-related changes in the interfaces, interface netmask</span>
        <span class="comment">// based routes have to be re-built.</span>
        <a class="code" href="class_routing_table.html#a22ed882b21268b0cb94b4ed3cd437319">updateNetmaskRoutes</a>();
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a499b9875800569b06af8982a687f4344"></a><!-- doxytag: member="RoutingTable::removeMulticastRoute" ref="a499b9875800569b06af8982a687f4344" args="(IPv4MulticastRoute *entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_pv4_multicast_route.html">IPv4MulticastRoute</a> * <a class="el" href="class_routing_table.html#a499b9875800569b06af8982a687f4344">RoutingTable::removeMulticastRoute</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_i_pv4_multicast_route.html">IPv4MulticastRoute</a> *&#160;</td>
          <td class="paramname"><em>entry</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Removes the given route from the routing table, and returns it. </p>
<p>NULL is returned of the route was not in the routing table. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#a6374c81579852519bc76cff09c4bbf34">IRoutingTable</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method(<span class="stringliteral">&quot;removeMulticastRoute(...)&quot;</span>);

    entry = <a class="code" href="class_routing_table.html#acf31a89f3c3f7c8625e36d7738c4361a">internalRemoveMulticastRoute</a>(entry);

    <span class="keywordflow">if</span> (entry != <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    {
        <a class="code" href="class_routing_table.html#a484a19b6b712d938738521f454420129">invalidateCache</a>();
        <a class="code" href="class_routing_table.html#a8a8313b75234201d11785afdd69e4eca">updateDisplayString</a>();
        ASSERT(entry-&gt;<a class="code" href="class_i_pv4_multicast_route.html#a9037ca12f5b0789da6589cee566e8dbf">getRoutingTable</a>() == <span class="keyword">this</span>); <span class="comment">// still filled in, for the listeners&#39; benefit</span>
        <a class="code" href="structnb.html">nb</a>-&gt;fireChangeNotification(<a class="code" href="_notifier_consts_8h.html#adf764cbdea00d65edcd07bb9953ad2b7ae4729ae61675adfddac18916dee282de">NF_IPv4_MROUTE_DELETED</a>, entry);
        entry-&gt;<a class="code" href="class_i_pv4_multicast_route.html#af572a60304ba2e1a0d7287b2cdaf3d3b" title="To be called by the routing table when this route is added or removed from it.">setRoutingTable</a>(<a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
    }
    <span class="keywordflow">return</span> entry;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac435dc1e629b1d080820e2ef06aae9c7"></a><!-- doxytag: member="RoutingTable::removeRoute" ref="ac435dc1e629b1d080820e2ef06aae9c7" args="(IPv4Route *entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_pv4_route.html">IPv4Route</a> * <a class="el" href="class_routing_table.html#ac435dc1e629b1d080820e2ef06aae9c7">RoutingTable::removeRoute</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_i_pv4_route.html">IPv4Route</a> *&#160;</td>
          <td class="paramname"><em>entry</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Removes the given route from the routing table, and returns it. </p>
<p>NULL is returned of the route was not in the routing table. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#a1fad0eee85289b4814985cf1828adc3e">IRoutingTable</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method(<span class="stringliteral">&quot;removeRoute(...)&quot;</span>);

    entry = <a class="code" href="class_routing_table.html#a8fe7723ab30b95f277d3da8168f19c56">internalRemoveRoute</a>(entry);

    <span class="keywordflow">if</span> (entry != <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    {
        <a class="code" href="class_routing_table.html#a484a19b6b712d938738521f454420129">invalidateCache</a>();
        <a class="code" href="class_routing_table.html#a8a8313b75234201d11785afdd69e4eca">updateDisplayString</a>();
        ASSERT(entry-&gt;<a class="code" href="class_i_pv4_route.html#a93eb747e36e41810dadef2185f8108af">getRoutingTable</a>() == <span class="keyword">this</span>); <span class="comment">// still filled in, for the listeners&#39; benefit</span>
        <a class="code" href="structnb.html">nb</a>-&gt;fireChangeNotification(<a class="code" href="_notifier_consts_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a250243f132a5001e082e2c58b25eb0f1">NF_IPv4_ROUTE_DELETED</a>, entry);
        entry-&gt;<a class="code" href="class_i_pv4_route.html#a4a29f57874c9e6bf38171e7dfaa50138" title="To be called by the routing table when this route is added or removed from it.">setRoutingTable</a>(<a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
    }
    <span class="keywordflow">return</span> entry;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a20a7e03aa0efb2ec1b0ed40b554477c6"></a><!-- doxytag: member="RoutingTable::routeChanged" ref="a20a7e03aa0efb2ec1b0ed40b554477c6" args="(IPv4Route *entry, int fieldCode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_routing_table.html#a20a7e03aa0efb2ec1b0ed40b554477c6">RoutingTable::routeChanged</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_i_pv4_route.html">IPv4Route</a> *&#160;</td>
          <td class="paramname"><em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fieldCode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>To be called from route objects whenever a field changes. </p>
<p>Used for maintaining internal data structures and firing "routing table changed" notifications. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#ab6c957821f6cf8097acb14974a997d97">IRoutingTable</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (fieldCode==<a class="code" href="class_i_pv4_route.html#aecc840c67a7303784f49eb710891d5b5a22d59450ee2af49c28dd72e93bd5ef0a">IPv4Route::F_DESTINATION</a> || fieldCode==<a class="code" href="class_i_pv4_route.html#aecc840c67a7303784f49eb710891d5b5a544eaa48e77b364400469a7a81aa5aa1">IPv4Route::F_NETMASK</a> || fieldCode==<a class="code" href="class_i_pv4_route.html#aecc840c67a7303784f49eb710891d5b5a94eeb68494e75efc2cdd3f5922cdfad2">IPv4Route::F_METRIC</a>) <span class="comment">// our data structures depend on these fields</span>
    {
        entry = <a class="code" href="class_routing_table.html#a8fe7723ab30b95f277d3da8168f19c56">internalRemoveRoute</a>(entry);
        ASSERT(entry != <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);  <span class="comment">// failure means inconsistency: route was not found in this routing table</span>
        <a class="code" href="class_routing_table.html#a5d35de53ea3791256f77bb09e0175c04">internalAddRoute</a>(entry);

        <a class="code" href="class_routing_table.html#a484a19b6b712d938738521f454420129">invalidateCache</a>();
        <a class="code" href="class_routing_table.html#a8a8313b75234201d11785afdd69e4eca">updateDisplayString</a>();
    }
    <a class="code" href="structnb.html">nb</a>-&gt;fireChangeNotification(<a class="code" href="_notifier_consts_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a0ca1de8c431a3b60b99a0e5744792a42">NF_IPv4_ROUTE_CHANGED</a>, entry); <span class="comment">// TODO include fieldCode in the notification</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="afc51238fa606f019e8d30780e4ce5b86"></a><!-- doxytag: member="RoutingTable::routeLessThan" ref="afc51238fa606f019e8d30780e4ce5b86" args="(const IPv4Route *a, const IPv4Route *b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_routing_table.html#afc51238fa606f019e8d30780e4ce5b86">RoutingTable::routeLessThan</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_i_pv4_route.html">IPv4Route</a> *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_i_pv4_route.html">IPv4Route</a> *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_routing_table.html#a5d35de53ea3791256f77bb09e0175c04">internalAddRoute()</a>, and <a class="el" href="class_routing_table.html#a22ed882b21268b0cb94b4ed3cd437319">updateNetmaskRoutes()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// helper for sort() in addRoute(). We want routes with longer</span>
    <span class="comment">// prefixes to be at front, so we compare them as &quot;less&quot;.</span>
    <span class="comment">// For metric, a smaller value is better (we report that as &quot;less&quot;).</span>
    <span class="keywordflow">if</span> (a-&gt;<a class="code" href="class_i_pv4_route.html#ac7d8f045f17b54b9d7e364cd525ba9ae" title="Represents length of prefix to match.">getNetmask</a>() != b-&gt;<a class="code" href="class_i_pv4_route.html#ac7d8f045f17b54b9d7e364cd525ba9ae" title="Represents length of prefix to match.">getNetmask</a>())
        <span class="keywordflow">return</span> a-&gt;<a class="code" href="class_i_pv4_route.html#ac7d8f045f17b54b9d7e364cd525ba9ae" title="Represents length of prefix to match.">getNetmask</a>() &gt; b-&gt;<a class="code" href="class_i_pv4_route.html#ac7d8f045f17b54b9d7e364cd525ba9ae" title="Represents length of prefix to match.">getNetmask</a>();

    <span class="keywordflow">if</span> (a-&gt;<a class="code" href="class_i_pv4_route.html#a4982ef0132d4e1560371231b7c11cf8c" title="Destination address prefix to match.">getDestination</a>() != b-&gt;<a class="code" href="class_i_pv4_route.html#a4982ef0132d4e1560371231b7c11cf8c" title="Destination address prefix to match.">getDestination</a>())
        <span class="keywordflow">return</span> a-&gt;<a class="code" href="class_i_pv4_route.html#a4982ef0132d4e1560371231b7c11cf8c" title="Destination address prefix to match.">getDestination</a>() &lt; b-&gt;<a class="code" href="class_i_pv4_route.html#a4982ef0132d4e1560371231b7c11cf8c" title="Destination address prefix to match.">getDestination</a>();

    <span class="keywordflow">return</span> a-&gt;<a class="code" href="class_i_pv4_route.html#a010b52fd4c40493c2d6519740a106228" title="&quot;Cost&quot; to reach the destination">getMetric</a>() &lt; b-&gt;<a class="code" href="class_i_pv4_route.html#a010b52fd4c40493c2d6519740a106228" title="&quot;Cost&quot; to reach the destination">getMetric</a>();
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa739ac55cb618545366530bc60f1f58a"></a><!-- doxytag: member="RoutingTable::setRouterId" ref="aa739ac55cb618545366530bc60f1f58a" args="(IPv4Address a)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_routing_table.html#aa739ac55cb618545366530bc60f1f58a">RoutingTable::setRouterId</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_i_pv4_address.html">IPv4Address</a>&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets routerId. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#ae36138e6f758366aca6bff4639540955">IRoutingTable</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_routing_table.html#a63120b24a542151bc71d8950a1f8e057">routerId</a> = a;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8a8313b75234201d11785afdd69e4eca"></a><!-- doxytag: member="RoutingTable::updateDisplayString" ref="a8a8313b75234201d11785afdd69e4eca" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_routing_table.html#a8a8313b75234201d11785afdd69e4eca">RoutingTable::updateDisplayString</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_routing_table.html#acd12f958b135f524100b06357d18e901">addMulticastRoute()</a>, <a class="el" href="class_routing_table.html#a98ddb5a7192facf8e9d25ce9c69570ed">addRoute()</a>, <a class="el" href="class_routing_table.html#a95718902c009b8c2d4b09405a0d547a9">deleteInterfaceRoutes()</a>, <a class="el" href="class_routing_table.html#ae859a31dd464a73ecb15002e4ed6efde">deleteMulticastRoute()</a>, <a class="el" href="class_routing_table.html#a5b5eb54bc29e507eb635d85b63c0fa1e">deleteRoute()</a>, <a class="el" href="class_routing_table.html#ad2fa475834fc1e958130d58ca7fbc54b">multicastRouteChanged()</a>, <a class="el" href="class_routing_table.html#aca41a2d77a9dd13653ecbcfe1d53b068">purge()</a>, <a class="el" href="class_routing_table.html#a499b9875800569b06af8982a687f4344">removeMulticastRoute()</a>, <a class="el" href="class_routing_table.html#ac435dc1e629b1d080820e2ef06aae9c7">removeRoute()</a>, <a class="el" href="class_routing_table.html#a20a7e03aa0efb2ec1b0ed40b554477c6">routeChanged()</a>, and <a class="el" href="class_routing_table.html#a22ed882b21268b0cb94b4ed3cd437319">updateNetmaskRoutes()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!ev.isGUI())
        <span class="keywordflow">return</span>;

    <span class="keywordtype">char</span> buf[80];
    <span class="keywordflow">if</span> (<a class="code" href="class_routing_table.html#a63120b24a542151bc71d8950a1f8e057">routerId</a>.<a class="code" href="class_i_pv4_address.html#a76dbddd2575a9e91412b998512b45a2d" title="True if all four address bytes are zero.">isUnspecified</a>())
        sprintf(buf, <span class="stringliteral">&quot;%d+%d routes&quot;</span>, (<span class="keywordtype">int</span>)<a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.size(), (int)<a class="code" href="class_routing_table.html#a1aa104091d93b9bb0fe1661546394090">multicastRoutes</a>.size());
    <span class="keywordflow">else</span>
        sprintf(buf, <span class="stringliteral">&quot;routerId: %s\n%d+%d routes&quot;</span>, <a class="code" href="class_routing_table.html#a63120b24a542151bc71d8950a1f8e057">routerId</a>.<a class="code" href="class_i_pv4_address.html#ac6c9eedd7d88e27a22d620c023a2c309" title="Returns the string representation of the address (e.g.">str</a>().c_str(), (int)<a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.size(), (int)<a class="code" href="class_routing_table.html#a1aa104091d93b9bb0fe1661546394090">multicastRoutes</a>.size());
    getDisplayString().setTagArg(<span class="stringliteral">&quot;t&quot;</span>, 0, buf);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a22ed882b21268b0cb94b4ed3cd437319"></a><!-- doxytag: member="RoutingTable::updateNetmaskRoutes" ref="a22ed882b21268b0cb94b4ed3cd437319" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_routing_table.html#a22ed882b21268b0cb94b4ed3cd437319">RoutingTable::updateNetmaskRoutes</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_routing_table.html#a0f8b6dd1c9a692ca1eba05d35bcc78ed">initialize()</a>, and <a class="el" href="class_routing_table.html#a79264e2505b8a9de5693d9a9ae1e1b42">receiveChangeNotification()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// first, delete all routes with src=IFACENETMASK</span>
    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;<a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.size(); k++)
    {
        <span class="keywordflow">if</span> (<a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>[k]-&gt;getSource()==<a class="code" href="class_i_pv4_route.html#a01abe3b809ba83ebbb0a3f01f6919683adae49d64fb368e1c45ac52ca55fb8bcc" title="comes from an interface&#39;s netmask">IPv4Route::IFACENETMASK</a>)
        {
            std::vector&lt;IPv4Route *&gt;::iterator it = <a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.begin()+(k--);  <span class="comment">// &#39;--&#39; is necessary because indices shift down</span>
            <a class="code" href="class_i_pv4_route.html" title="IPv4 unicast route in IRoutingTable.">IPv4Route</a> *route = *it;
            <a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.erase(it);
            ASSERT(route-&gt;<a class="code" href="class_i_pv4_route.html#a93eb747e36e41810dadef2185f8108af">getRoutingTable</a>() == <span class="keyword">this</span>); <span class="comment">// still filled in, for the listeners&#39; benefit</span>
            <a class="code" href="structnb.html">nb</a>-&gt;fireChangeNotification(<a class="code" href="_notifier_consts_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a250243f132a5001e082e2c58b25eb0f1">NF_IPv4_ROUTE_DELETED</a>, route);
            <span class="keyword">delete</span> route;
        }
    }

    <span class="comment">// then re-add them, according to actual interface configuration</span>
    <span class="comment">// TODO: say there&#39;s a node somewhere in the network that belongs to the interface&#39;s subnet</span>
    <span class="comment">// TODO: and it is not on the same link, and the gateway does not use proxy ARP, how will packets reach that node?</span>
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#a2b0ce46cd92da6f64fc363410dc71904" title="Returns the number of interfaces.">getNumInterfaces</a>(); i++)
    {
        <a class="code" href="class_interface_entry.html" title="Interface entry for the interface table in IInterfaceTable.">InterfaceEntry</a> *ie = <a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#a19ce4ca3b47b52b8e2b67c25806c4b49" title="Returns the InterfaceEntry specified by an index 0..numInterfaces-1.">getInterface</a>(i);
        <span class="keywordflow">if</span> (ie-&gt;<a class="code" href="class_interface_entry.html#a4f52f31546a140edf6979882492e1a0b">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#a7bd9bc7a6caff7bc7ff9e6448db0e394">getNetmask</a>()!=<a class="code" href="class_i_pv4_address.html#abc2da8e3ab9691fa0718d0f18ac852f7" title="255.255.255.255">IPv4Address::ALLONES_ADDRESS</a>)
        {
            <a class="code" href="class_i_pv4_route.html" title="IPv4 unicast route in IRoutingTable.">IPv4Route</a> *route = <span class="keyword">new</span> <a class="code" href="class_i_pv4_route.html" title="IPv4 unicast route in IRoutingTable.">IPv4Route</a>();
            route-&gt;<a class="code" href="class_i_pv4_route.html#a2213017b93a2ee8b31dc5f38502f6166">setSource</a>(<a class="code" href="class_i_pv4_route.html#a01abe3b809ba83ebbb0a3f01f6919683adae49d64fb368e1c45ac52ca55fb8bcc" title="comes from an interface&#39;s netmask">IPv4Route::IFACENETMASK</a>);
            route-&gt;<a class="code" href="class_i_pv4_route.html#a75d1011d4002c8a9503f3a42aff66c70">setDestination</a>(ie-&gt;<a class="code" href="class_interface_entry.html#a4f52f31546a140edf6979882492e1a0b">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#afab661980ddb8db4adc9ba5e9fc1f346">getIPAddress</a>().<a class="code" href="class_i_pv4_address.html#a5c7aeebe2e1f6c3730e7088713532071" title="Returns binary AND of the two addresses.">doAnd</a>(ie-&gt;<a class="code" href="class_interface_entry.html#a4f52f31546a140edf6979882492e1a0b">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#a7bd9bc7a6caff7bc7ff9e6448db0e394">getNetmask</a>()));
            route-&gt;<a class="code" href="class_i_pv4_route.html#a625acf9119fbc2bd5255c56096a36d38">setNetmask</a>(ie-&gt;<a class="code" href="class_interface_entry.html#a4f52f31546a140edf6979882492e1a0b">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#a7bd9bc7a6caff7bc7ff9e6448db0e394">getNetmask</a>());
            route-&gt;<a class="code" href="class_i_pv4_route.html#ac48404c53a5e8d505d54238541b74b7b">setGateway</a>(<a class="code" href="class_i_pv4_address.html" title="IPv4 address.">IPv4Address</a>());
            route-&gt;<a class="code" href="class_i_pv4_route.html#a835720d0f2b89896063b1296d85c57cc">setMetric</a>(ie-&gt;<a class="code" href="class_interface_entry.html#a4f52f31546a140edf6979882492e1a0b">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#aac9f062b0ffa8b944b4c65eecbf5251c">getMetric</a>());
            route-&gt;<a class="code" href="class_i_pv4_route.html#af7fc0b9d45d7fcbe603b679993e38ee5">setInterface</a>(ie);
            route-&gt;<a class="code" href="class_i_pv4_route.html#a4a29f57874c9e6bf38171e7dfaa50138" title="To be called by the routing table when this route is added or removed from it.">setRoutingTable</a>(<span class="keyword">this</span>);
            RouteVector::iterator pos = upper_bound(<a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.begin(), <a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.end(), route, <a class="code" href="class_routing_table.html#afc51238fa606f019e8d30780e4ce5b86">routeLessThan</a>);
            <a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.insert(pos, route);
            <a class="code" href="structnb.html">nb</a>-&gt;fireChangeNotification(<a class="code" href="_notifier_consts_8h.html#adf764cbdea00d65edcd07bb9953ad2b7a38a4632902da5c126d1b1bc992799303">NF_IPv4_ROUTE_ADDED</a>, route);
        }
    }

    <a class="code" href="class_routing_table.html#a484a19b6b712d938738521f454420129">invalidateCache</a>();
    <a class="code" href="class_routing_table.html#a8a8313b75234201d11785afdd69e4eca">updateDisplayString</a>();
}
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a809dc905f24f2eb82b58278d2d371010"></a><!-- doxytag: member="RoutingTable::ift" ref="a809dc905f24f2eb82b58278d2d371010" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_interface_table.html">IInterfaceTable</a>* <a class="el" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">RoutingTable::ift</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_routing_table.html#a7c5e8b0d56e707bffc8ae56aeb3ca545">configureLoopbackForIPv4()</a>, <a class="el" href="class_routing_table.html#a8b681e68c0cecf8b3b67981c23a86085">configureRouterId()</a>, <a class="el" href="class_routing_table.html#ae79acf20435b1810f2a6ac6b34e00d27">findInterfaceByLocalBroadcastAddress()</a>, <a class="el" href="class_routing_table.html#a1745a8eaff3a2a3f9e4a14416dfea88f">gatherAddresses()</a>, <a class="el" href="class_routing_table.html#a5876e9ceaa4796c12ca72a7fdc6474b8">getInterfaceByAddress()</a>, <a class="el" href="class_routing_table.html#a0f8b6dd1c9a692ca1eba05d35bcc78ed">initialize()</a>, <a class="el" href="class_routing_table.html#a128cafbfd8459bb37effbd0318cef00b">isLocalAddress()</a>, <a class="el" href="class_routing_table.html#a08f67b0ddf0c5604469209234fee4275">isLocalBroadcastAddress()</a>, <a class="el" href="class_routing_table.html#a825a08a15267e7d11fa40759ba2ec68f">isLocalMulticastAddress()</a>, <a class="el" href="class_routing_table.html#a0f4caeade124b4fde4c1a4521a914a02">RoutingTable()</a>, and <a class="el" href="class_routing_table.html#a22ed882b21268b0cb94b4ed3cd437319">updateNetmaskRoutes()</a>.</p>

</div>
</div>
<a class="anchor" id="ab1fae735c632287a00881b1b6eb24271"></a><!-- doxytag: member="RoutingTable::IPForward" ref="ab1fae735c632287a00881b1b6eb24271" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_routing_table.html#ab1fae735c632287a00881b1b6eb24271">RoutingTable::IPForward</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_routing_table.html#afaca8cf9e47f78fdd727d794109c1842">configureInterfaceForIPv4()</a>, and <a class="el" href="class_routing_table.html#a0f8b6dd1c9a692ca1eba05d35bcc78ed">initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="a732fcc528f888d4318dfe00220df230b"></a><!-- doxytag: member="RoutingTable::localAddresses" ref="a732fcc528f888d4318dfe00220df230b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_routing_table.html#ad0bac83f4f0b674d0b9c35ad716352c3">AddressSet</a> <a class="el" href="class_routing_table.html#a732fcc528f888d4318dfe00220df230b">RoutingTable::localAddresses</a><code> [mutable, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_routing_table.html#a484a19b6b712d938738521f454420129">invalidateCache()</a>, and <a class="el" href="class_routing_table.html#a128cafbfd8459bb37effbd0318cef00b">isLocalAddress()</a>.</p>

</div>
</div>
<a class="anchor" id="adfb5bdd77739bc3e5b4e4d3785b804dc"></a><!-- doxytag: member="RoutingTable::localBroadcastAddresses" ref="adfb5bdd77739bc3e5b4e4d3785b804dc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_routing_table.html#ad0bac83f4f0b674d0b9c35ad716352c3">AddressSet</a> <a class="el" href="class_routing_table.html#adfb5bdd77739bc3e5b4e4d3785b804dc">RoutingTable::localBroadcastAddresses</a><code> [mutable, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_routing_table.html#a484a19b6b712d938738521f454420129">invalidateCache()</a>, and <a class="el" href="class_routing_table.html#a08f67b0ddf0c5604469209234fee4275">isLocalBroadcastAddress()</a>.</p>

</div>
</div>
<a class="anchor" id="a8be36cc0907b268f2d21f9014cc527cb"></a><!-- doxytag: member="RoutingTable::multicastForward" ref="a8be36cc0907b268f2d21f9014cc527cb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_routing_table.html#a8be36cc0907b268f2d21f9014cc527cb">RoutingTable::multicastForward</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_routing_table.html#a0f8b6dd1c9a692ca1eba05d35bcc78ed">initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="a1aa104091d93b9bb0fe1661546394090"></a><!-- doxytag: member="RoutingTable::multicastRoutes" ref="a1aa104091d93b9bb0fe1661546394090" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_routing_table.html#a7b2ad6414325ee530041501f7e2a916c">MulticastRouteVector</a> <a class="el" href="class_routing_table.html#a1aa104091d93b9bb0fe1661546394090">RoutingTable::multicastRoutes</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_routing_table.html#a95718902c009b8c2d4b09405a0d547a9">deleteInterfaceRoutes()</a>, <a class="el" href="class_routing_table.html#a4056063ca9a3cdea701b136fcae29eb0">findBestMatchingMulticastRoute()</a>, <a class="el" href="class_routing_table.html#a0f8b6dd1c9a692ca1eba05d35bcc78ed">initialize()</a>, <a class="el" href="class_routing_table.html#acd82c7f8be63cede1b6ca3d1aca47cf8">internalAddMulticastRoute()</a>, <a class="el" href="class_routing_table.html#acf31a89f3c3f7c8625e36d7738c4361a">internalRemoveMulticastRoute()</a>, <a class="el" href="class_routing_table.html#aca41a2d77a9dd13653ecbcfe1d53b068">purge()</a>, <a class="el" href="class_routing_table.html#a8a8313b75234201d11785afdd69e4eca">updateDisplayString()</a>, and <a class="el" href="class_routing_table.html#abe5b508511742899600b98401af7c761">~RoutingTable()</a>.</p>

</div>
</div>
<a class="anchor" id="a5c4641496d9964ea8422157447691880"></a><!-- doxytag: member="RoutingTable::nb" ref="a5c4641496d9964ea8422157447691880" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_notification_board.html">NotificationBoard</a>* <a class="el" href="class_routing_table.html#a5c4641496d9964ea8422157447691880">RoutingTable::nb</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a63120b24a542151bc71d8950a1f8e057"></a><!-- doxytag: member="RoutingTable::routerId" ref="a63120b24a542151bc71d8950a1f8e057" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_pv4_address.html">IPv4Address</a> <a class="el" href="class_routing_table.html#a63120b24a542151bc71d8950a1f8e057">RoutingTable::routerId</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_routing_table.html#a8b681e68c0cecf8b3b67981c23a86085">configureRouterId()</a>, <a class="el" href="class_routing_table.html#a0f8b6dd1c9a692ca1eba05d35bcc78ed">initialize()</a>, <a class="el" href="class_routing_table.html#aa739ac55cb618545366530bc60f1f58a">setRouterId()</a>, and <a class="el" href="class_routing_table.html#a8a8313b75234201d11785afdd69e4eca">updateDisplayString()</a>.</p>

</div>
</div>
<a class="anchor" id="a74b73efea6f1bd7d452714ce396da47a"></a><!-- doxytag: member="RoutingTable::routes" ref="a74b73efea6f1bd7d452714ce396da47a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_routing_table.html#a80c11896617cb4aaf72bc1463cda679b">RouteVector</a> <a class="el" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">RoutingTable::routes</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_routing_table.html#a95718902c009b8c2d4b09405a0d547a9">deleteInterfaceRoutes()</a>, <a class="el" href="class_routing_table.html#a8b9092653e4e081773350bcbe013a85e">findBestMatchingRoute()</a>, <a class="el" href="class_routing_table.html#a825bfcd82cc8a57343473d0a4dc289e6">getDefaultRoute()</a>, <a class="el" href="class_routing_table.html#a458934c3272cfa75a1546fe227b03ded">getRoute()</a>, <a class="el" href="class_routing_table.html#a0f8b6dd1c9a692ca1eba05d35bcc78ed">initialize()</a>, <a class="el" href="class_routing_table.html#a5d35de53ea3791256f77bb09e0175c04">internalAddRoute()</a>, <a class="el" href="class_routing_table.html#a8fe7723ab30b95f277d3da8168f19c56">internalRemoveRoute()</a>, <a class="el" href="class_routing_table.html#aca41a2d77a9dd13653ecbcfe1d53b068">purge()</a>, <a class="el" href="class_routing_table.html#a8a8313b75234201d11785afdd69e4eca">updateDisplayString()</a>, <a class="el" href="class_routing_table.html#a22ed882b21268b0cb94b4ed3cd437319">updateNetmaskRoutes()</a>, and <a class="el" href="class_routing_table.html#abe5b508511742899600b98401af7c761">~RoutingTable()</a>.</p>

</div>
</div>
<a class="anchor" id="ac2aeac5d70e440d6ad1b3d560029f277"></a><!-- doxytag: member="RoutingTable::routingCache" ref="ac2aeac5d70e440d6ad1b3d560029f277" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_routing_table.html#a37306e1075f508936680ca7c86aba6d4">RoutingCache</a> <a class="el" href="class_routing_table.html#ac2aeac5d70e440d6ad1b3d560029f277">RoutingTable::routingCache</a><code> [mutable, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_routing_table.html#a8b9092653e4e081773350bcbe013a85e">findBestMatchingRoute()</a>, and <a class="el" href="class_routing_table.html#a484a19b6b712d938738521f454420129">invalidateCache()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_routing_table_8h.html">RoutingTable.h</a></li>
<li><a class="el" href="_routing_table_8cc.html">RoutingTable.cc</a></li>
</ul>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="class_routing_table.html">RoutingTable</a>      </li>

    <li class="footer">Generated on Tue Aug 7 2012 16:01:29 for INET Framework for OMNeT++/OMNEST by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
