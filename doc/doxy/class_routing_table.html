<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>INET Framework for OMNeT++/OMNEST: RoutingTable Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">INET Framework for OMNeT++/OMNEST
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_routing_table.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">RoutingTable Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="RoutingTable" --><!-- doxytag: inherits="IRoutingTable,INotifiable" -->
<p><code>#include &lt;<a class="el" href="_routing_table_8h_source.html">RoutingTable.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for RoutingTable:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_routing_table.png" usemap="#RoutingTable_map" alt=""/>
  <map id="RoutingTable_map" name="RoutingTable_map">
<area href="class_i_routing_table.html" alt="IRoutingTable" shape="rect" coords="0,0,88,24"/>
<area href="class_i_notifiable.html" alt="INotifiable" shape="rect" coords="98,0,186,24"/>
</map>
 </div></div>

<p><a href="class_routing_table-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a0f4caeade124b4fde4c1a4521a914a02">RoutingTable</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#abe5b508511742899600b98401af7c761">~RoutingTable</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a86f4aa3d025b21b5e67ba14943fdf02b">printRoutingTable</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#ac1eb79e7247a9da2a64abc4050913efd">isIPForwardingEnabled</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_i_p_address.html">IPAddress</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#adf42db0416d6d8c4061d9bc91a17e6e2">getRouterId</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a39708c0679e2bbdcb01e7b249481329a">setRouterId</a> (<a class="el" href="class_i_p_address.html">IPAddress</a> a)</td></tr>
<tr><td colspan="2"><div class="groupHeader">Interfaces</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#afaca8cf9e47f78fdd727d794109c1842">configureInterfaceForIPv4</a> (<a class="el" href="class_interface_entry.html">InterfaceEntry</a> *ie)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_interface_entry.html">InterfaceEntry</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#acbdfefb5742c413314749c72e0e92d42">getInterfaceByAddress</a> (const <a class="el" href="class_i_p_address.html">IPAddress</a> &amp;address) const </td></tr>
<tr><td colspan="2"><div class="groupHeader">Routing functions (query the route table)</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a1bdf2e7d6270c386ab0060dd82260ac2">isLocalAddress</a> (const <a class="el" href="class_i_p_address.html">IPAddress</a> &amp;dest) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="class_i_p_route.html">IPRoute</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a9c48c581c9dc6920b9427d1739ac21ca">findBestMatchingRoute</a> (const <a class="el" href="class_i_p_address.html">IPAddress</a> &amp;dest) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_interface_entry.html">InterfaceEntry</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#aba5815f6040065c8a1804cc542e659de">getInterfaceForDestAddr</a> (const <a class="el" href="class_i_p_address.html">IPAddress</a> &amp;dest) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_i_p_address.html">IPAddress</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a7f385e81b1aec6d727e2d4296dc931e7">getGatewayForDestAddr</a> (const <a class="el" href="class_i_p_address.html">IPAddress</a> &amp;dest) const </td></tr>
<tr><td colspan="2"><div class="groupHeader">Multicast routing functions</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a2a2bac31158b7b135cd43460d1d20171">isLocalMulticastAddress</a> (const <a class="el" href="class_i_p_address.html">IPAddress</a> &amp;dest) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="_i_routing_table_8h.html#a799f7871a09579309555eed682ecf0cc">MulticastRoutes</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#ac1e192ee7a51439d49dfaba757338de3">getMulticastRoutesFor</a> (const <a class="el" href="class_i_p_address.html">IPAddress</a> &amp;dest) const </td></tr>
<tr><td colspan="2"><div class="groupHeader">Route table manipulation</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a5234d020269187269f385eabee291da8">getNumRoutes</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="class_i_p_route.html">IPRoute</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a7bf183b2da78d2f70099b3abf3cc91ed">getRoute</a> (int k) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="class_i_p_route.html">IPRoute</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a33fec398f3610c23d36dc6e17ec43d48">findRoute</a> (const <a class="el" href="class_i_p_address.html">IPAddress</a> &amp;target, const <a class="el" href="class_i_p_address.html">IPAddress</a> &amp;netmask, const <a class="el" href="class_i_p_address.html">IPAddress</a> &amp;gw, int metric=0, const char *dev=NULL) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual const <a class="el" href="class_i_p_route.html">IPRoute</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a7a7085c40be2e2f588b5fd1062710d61">getDefaultRoute</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a586e1be0471ccb8b02c28fd8c2cafc86">addRoute</a> (const <a class="el" href="class_i_p_route.html">IPRoute</a> *entry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a98d3d0f11f8ed87f7b30465110277f35">deleteRoute</a> (const <a class="el" href="class_i_p_route.html">IPRoute</a> *entry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; <a class="el" href="class_i_p_address.html">IPAddress</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a528f2d18212d30617d577e5c72c9e47f">gatherAddresses</a> () const </td></tr>
<tr><td colspan="2"><h2><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef std::vector&lt; <a class="el" href="class_i_p_route.html">IPRoute</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#ad55f1d5e9420dcd2ef718698dd8d8d52">RouteVector</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; <a class="el" href="class_i_p_address.html">IPAddress</a>, <br class="typebreak"/>
const <a class="el" href="class_i_p_route.html">IPRoute</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a5db50e6eede34e665f3e93089e8fbe5b">RoutingCache</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef std::set&lt; <a class="el" href="class_i_p_address.html">IPAddress</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a03c156a848e9829fe58cf3c56ac120ca">AddressSet</a></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a7c5e8b0d56e707bffc8ae56aeb3ca545">configureLoopbackForIPv4</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a182e9f6bafe82c6b2de86a8da872d49a">routeMatches</a> (const <a class="el" href="class_i_p_route.html">IPRoute</a> *entry, const <a class="el" href="class_i_p_address.html">IPAddress</a> &amp;target, const <a class="el" href="class_i_p_address.html">IPAddress</a> &amp;nmask, const <a class="el" href="class_i_p_address.html">IPAddress</a> &amp;gw, int metric, const char *dev) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a8b681e68c0cecf8b3b67981c23a86085">configureRouterId</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a22ed882b21268b0cb94b4ed3cd437319">updateNetmaskRoutes</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a8a8313b75234201d11785afdd69e4eca">updateDisplayString</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a95718902c009b8c2d4b09405a0d547a9">deleteInterfaceRoutes</a> (<a class="el" href="class_interface_entry.html">InterfaceEntry</a> *entry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a484a19b6b712d938738521f454420129">invalidateCache</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a4ab26e1c685f9810d85a1cde9ff007e7">numInitStages</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a0f8b6dd1c9a692ca1eba05d35bcc78ed">initialize</a> (int stage)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a27a3710233113ed3316c39c47dba1f64">handleMessage</a> (cMessage *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#ad83066430a3ce807272276b221ad9c13">receiveChangeNotification</a> (int category, const cPolymorphic *details)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_i_interface_table.html">IInterfaceTable</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_notification_board.html">NotificationBoard</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a5c4641496d9964ea8422157447691880">nb</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_i_p_address.html">IPAddress</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#aadbf86bac1497193ccdd137f34610551">routerId</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#ab1fae735c632287a00881b1b6eb24271">IPForward</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_routing_table.html#ad55f1d5e9420dcd2ef718698dd8d8d52">RouteVector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_routing_table.html#ad55f1d5e9420dcd2ef718698dd8d8d52">RouteVector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#afe79828397a7768771315c2099734d55">multicastRoutes</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_routing_table.html#a5db50e6eede34e665f3e93089e8fbe5b">RoutingCache</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#ac2aeac5d70e440d6ad1b3d560029f277">routingCache</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_routing_table.html#a03c156a848e9829fe58cf3c56ac120ca">AddressSet</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_routing_table.html#a732fcc528f888d4318dfe00220df230b">localAddresses</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Represents the routing table. This object has one instance per host or router. It has methods to manage the route table and the interface table, so one can achieve functionality similar to the "route" and "ifconfig" commands.</p>
<p>See the NED documentation for general overview.</p>
<p>This is a simple module without gates, it requires function calls to it (message handling does nothing). Methods are provided for reading and updating the interface table and the route table, as well as for unicast and multicast routing.</p>
<p>Interfaces are dynamically registered: at the start of the simulation, every L2 module adds its own interface entry to the table.</p>
<p>The route table is read from a file (<a class="el" href="class_routing_table_parser.html">RoutingTableParser</a>); the file can also fill in or overwrite interface settings. The route table can also be read and modified during simulation, typically by routing protocol implementations (e.g. <a class="el" href="namespace_o_s_p_f.html">OSPF</a>).</p>
<p>Entries in the route table are represented by <a class="el" href="class_i_p_route.html">IPRoute</a> objects. <a class="el" href="class_i_p_route.html">IPRoute</a> objects can be polymorphic: if a routing protocol needs to store additional data, it can simply subclass from <a class="el" href="class_i_p_route.html">IPRoute</a>, and add the derived object to the table.</p>
<p>Uses <a class="el" href="class_routing_table_parser.html">RoutingTableParser</a> to read routing files (.irt, .mrt).</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_interface_entry.html">InterfaceEntry</a>, <a class="el" href="class_i_pv4_interface_data.html">IPv4InterfaceData</a>, <a class="el" href="class_i_p_route.html">IPRoute</a> </dd></dl>

<p>Definition at line <a class="el" href="_routing_table_8h_source.html#l00072">72</a> of file <a class="el" href="_routing_table_8h_source.html">RoutingTable.h</a>.</p>
</div><hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="a03c156a848e9829fe58cf3c56ac120ca"></a><!-- doxytag: member="RoutingTable::AddressSet" ref="a03c156a848e9829fe58cf3c56ac120ca" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::set&lt;<a class="el" href="class_i_p_address.html">IPAddress</a>&gt; <a class="el" href="class_routing_table.html#a03c156a848e9829fe58cf3c56ac120ca">RoutingTable::AddressSet</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_routing_table_8h_source.html#l00093">93</a> of file <a class="el" href="_routing_table_8h_source.html">RoutingTable.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad55f1d5e9420dcd2ef718698dd8d8d52"></a><!-- doxytag: member="RoutingTable::RouteVector" ref="ad55f1d5e9420dcd2ef718698dd8d8d52" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt;<a class="el" href="class_i_p_route.html">IPRoute</a> *&gt; <a class="el" href="class_routing_table.html#ad55f1d5e9420dcd2ef718698dd8d8d52">RoutingTable::RouteVector</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_routing_table_8h_source.html#l00084">84</a> of file <a class="el" href="_routing_table_8h_source.html">RoutingTable.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5db50e6eede34e665f3e93089e8fbe5b"></a><!-- doxytag: member="RoutingTable::RoutingCache" ref="a5db50e6eede34e665f3e93089e8fbe5b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;<a class="el" href="class_i_p_address.html">IPAddress</a>, const <a class="el" href="class_i_p_route.html">IPRoute</a> *&gt; <a class="el" href="class_routing_table.html#a5db50e6eede34e665f3e93089e8fbe5b">RoutingTable::RoutingCache</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_routing_table_8h_source.html#l00089">89</a> of file <a class="el" href="_routing_table_8h_source.html">RoutingTable.h</a>.</p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a0f4caeade124b4fde4c1a4521a914a02"></a><!-- doxytag: member="RoutingTable::RoutingTable" ref="a0f4caeade124b4fde4c1a4521a914a02" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_routing_table.html#a0f4caeade124b4fde4c1a4521a914a02">RoutingTable::RoutingTable</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_routing_table_8cc_source.html#l00047">47</a> of file <a class="el" href="_routing_table_8cc_source.html">RoutingTable.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
}
</pre></div>
</div>
</div>
<a class="anchor" id="abe5b508511742899600b98401af7c761"></a><!-- doxytag: member="RoutingTable::~RoutingTable" ref="abe5b508511742899600b98401af7c761" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_routing_table.html#abe5b508511742899600b98401af7c761">RoutingTable::~RoutingTable</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_routing_table_8cc_source.html#l00051">51</a> of file <a class="el" href="_routing_table_8cc_source.html">RoutingTable.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>=0; <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>&lt;<a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.size(); <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>++)
        <span class="keyword">delete</span> <a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>[<a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>];
    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>=0; <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>&lt;<a class="code" href="class_routing_table.html#afe79828397a7768771315c2099734d55">multicastRoutes</a>.size(); <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>++)
        <span class="keyword">delete</span> <a class="code" href="class_routing_table.html#afe79828397a7768771315c2099734d55">multicastRoutes</a>[<a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>];
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a586e1be0471ccb8b02c28fd8c2cafc86"></a><!-- doxytag: member="RoutingTable::addRoute" ref="a586e1be0471ccb8b02c28fd8c2cafc86" args="(const IPRoute *entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_routing_table.html#a586e1be0471ccb8b02c28fd8c2cafc86">RoutingTable::addRoute</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_i_p_route.html">IPRoute</a> *&#160;</td>
          <td class="paramname"><em>entry</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds a route to the routing table. Note that once added, routes cannot be modified; you must delete and re-add them instead. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#af423d065165da4a55e86385efe1f69d1">IRoutingTable</a>.</p>

<p>Definition at line <a class="el" href="_routing_table_8cc_source.html#l00417">417</a> of file <a class="el" href="_routing_table_8cc_source.html">RoutingTable.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method(<span class="stringliteral">&quot;addRoute(...)&quot;</span>);

    <span class="comment">// check for null address and default route</span>
    <span class="keywordflow">if</span> (entry-&gt;<a class="code" href="class_i_p_route.html#a07adcdcc04cb4d50f12f060c7206b73e">getHost</a>().<a class="code" href="class_i_p_address.html#a7fb3c274d7a8600be890f83c028d5f96">isUnspecified</a>() != entry-&gt;<a class="code" href="class_i_p_route.html#ad69bc8024a13bf6ec528e9afdf1aa7e1">getNetmask</a>().<a class="code" href="class_i_p_address.html#a7fb3c274d7a8600be890f83c028d5f96">isUnspecified</a>())
        error(<span class="stringliteral">&quot;addRoute(): to add a default route, set both host and netmask to zero&quot;</span>);

    <span class="keywordflow">if</span> (entry-&gt;<a class="code" href="class_i_p_route.html#a07adcdcc04cb4d50f12f060c7206b73e">getHost</a>().<a class="code" href="class_i_p_address.html#ace57fe1098707f2d72d8554a486f3192">doAnd</a>(entry-&gt;<a class="code" href="class_i_p_route.html#ad69bc8024a13bf6ec528e9afdf1aa7e1">getNetmask</a>().<a class="code" href="class_i_p_address.html#a7fb3c274d7a8600be890f83c028d5f96">isUnspecified</a>()).getInt() != 0)
        error(<span class="stringliteral">&quot;addRoute(): suspicious route: host %s has 1-bits outside netmask %s&quot;</span>,
              entry-&gt;<a class="code" href="class_i_p_route.html#a07adcdcc04cb4d50f12f060c7206b73e">getHost</a>().<a class="code" href="class_i_p_address.html#a50f58febbf2ded78b9f6e32e579f5d2b">str</a>().c_str(), entry-&gt;<a class="code" href="class_i_p_route.html#ad69bc8024a13bf6ec528e9afdf1aa7e1">getNetmask</a>().<a class="code" href="class_i_p_address.html#a50f58febbf2ded78b9f6e32e579f5d2b">str</a>().c_str());

    <span class="comment">// check that the interface exists</span>
    <span class="keywordflow">if</span> (!entry-&gt;<a class="code" href="class_i_p_route.html#a1b01dfecb70fc9384695ce312dcab0a4">getInterface</a>())
        error(<span class="stringliteral">&quot;addRoute(): interface cannot be NULL&quot;</span>);

    <span class="comment">// if this is a default route, remove old default route (we&#39;re replacing it)</span>
    <span class="keywordflow">if</span> (entry-&gt;<a class="code" href="class_i_p_route.html#ad69bc8024a13bf6ec528e9afdf1aa7e1">getNetmask</a>().<a class="code" href="class_i_p_address.html#a7fb3c274d7a8600be890f83c028d5f96">isUnspecified</a>() &amp;&amp; <a class="code" href="class_routing_table.html#a7a7085c40be2e2f588b5fd1062710d61">getDefaultRoute</a>()!=NULL)
        <a class="code" href="class_routing_table.html#a98d3d0f11f8ed87f7b30465110277f35">deleteRoute</a>(<a class="code" href="class_routing_table.html#a7a7085c40be2e2f588b5fd1062710d61">getDefaultRoute</a>());

    <span class="comment">// add to tables</span>
    <span class="keywordflow">if</span> (!entry-&gt;<a class="code" href="class_i_p_route.html#a07adcdcc04cb4d50f12f060c7206b73e">getHost</a>().<a class="code" href="class_i_p_address.html#a9b6b5a118e8e1f6f83f2ccffd5a72125">isMulticast</a>())
        <a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.push_back(const_cast&lt;IPRoute*&gt;(entry));
    <span class="keywordflow">else</span>
        <a class="code" href="class_routing_table.html#afe79828397a7768771315c2099734d55">multicastRoutes</a>.push_back(const_cast&lt;IPRoute*&gt;(entry));

    <a class="code" href="class_routing_table.html#a484a19b6b712d938738521f454420129">invalidateCache</a>();
    <a class="code" href="class_routing_table.html#a8a8313b75234201d11785afdd69e4eca">updateDisplayString</a>();

    <a class="code" href="class_routing_table.html#a5c4641496d9964ea8422157447691880">nb</a>-&gt;<a class="code" href="class_notification_board.html#a2bb0a5aa0cb272a9b15cb5a58a253fcc">fireChangeNotification</a>(<a class="code" href="_notifier_consts_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba38a4632902da5c126d1b1bc992799303">NF_IPv4_ROUTE_ADDED</a>, entry);
}
</pre></div>
</div>
</div>
<a class="anchor" id="afaca8cf9e47f78fdd727d794109c1842"></a><!-- doxytag: member="RoutingTable::configureInterfaceForIPv4" ref="afaca8cf9e47f78fdd727d794109c1842" args="(InterfaceEntry *ie)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_routing_table.html#afaca8cf9e47f78fdd727d794109c1842">RoutingTable::configureInterfaceForIPv4</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_interface_entry.html">InterfaceEntry</a> *&#160;</td>
          <td class="paramname"><em>ie</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implements <a class="el" href="class_i_routing_table.html#a8c72322818d3cfc903c4c630dcd400c7">IRoutingTable</a>.</p>

<p>Definition at line <a class="el" href="_routing_table_8cc_source.html#l00247">247</a> of file <a class="el" href="_routing_table_8cc_source.html">RoutingTable.cc</a>.</p>

<p>Referenced by <a class="el" href="_routing_table_8cc_source.html#l00059">initialize()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_i_pv4_interface_data.html">IPv4InterfaceData</a> *d = <span class="keyword">new</span> <a class="code" href="class_i_pv4_interface_data.html">IPv4InterfaceData</a>();
    ie-&gt;<a class="code" href="class_interface_entry.html#a7b2e8a8e6ee3bab717b90a2068f550f1">setIPv4Data</a>(d);

    <span class="comment">// metric: some hints: OSPF cost (2e9/bps value), MS KB article Q299540, ...</span>
    d-&gt;<a class="code" href="class_i_pv4_interface_data.html#a05354e589ed8f221d74f81f276fb158e">setMetric</a>((<span class="keywordtype">int</span>)ceil(2e9/ie-&gt;<a class="code" href="class_interface_entry.html#a54591c28cfc7a3ccbf8025ff4bb4f889">getDatarate</a>())); <span class="comment">// use OSPF cost as default</span>
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7c5e8b0d56e707bffc8ae56aeb3ca545"></a><!-- doxytag: member="RoutingTable::configureLoopbackForIPv4" ref="a7c5e8b0d56e707bffc8ae56aeb3ca545" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_routing_table.html#a7c5e8b0d56e707bffc8ae56aeb3ca545">RoutingTable::configureLoopbackForIPv4</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_routing_table_8cc_source.html#l00272">272</a> of file <a class="el" href="_routing_table_8cc_source.html">RoutingTable.cc</a>.</p>

<p>Referenced by <a class="el" href="_routing_table_8cc_source.html#l00059">initialize()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_interface_entry.html">InterfaceEntry</a> *ie = <a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#ad9b040947200941201b8c82d35c7abee">getFirstLoopbackInterface</a>();

    <span class="comment">// add IPv4 info. Set 127.0.0.1/8 as address by default --</span>
    <span class="comment">// we may reconfigure later it to be the routerId</span>
    <a class="code" href="class_i_pv4_interface_data.html">IPv4InterfaceData</a> *d = <span class="keyword">new</span> <a class="code" href="class_i_pv4_interface_data.html">IPv4InterfaceData</a>();
    d-&gt;<a class="code" href="class_i_pv4_interface_data.html#a01673d0a7c6f0a3a3daddc83eb4c8aaa">setIPAddress</a>(<a class="code" href="class_i_p_address.html#aee51aae522173d734b951daf03bbb38f" title="127.0.0.1">IPAddress::LOOPBACK_ADDRESS</a>);
    d-&gt;<a class="code" href="class_i_pv4_interface_data.html#a70c7c157df5ca84e6dd72fd38d630a95">setNetmask</a>(<a class="code" href="class_i_p_address.html#a2d8d2e6423c6345010dc89fa05edd5c5" title="255.0.0.0">IPAddress::LOOPBACK_NETMASK</a>);
    d-&gt;<a class="code" href="class_i_pv4_interface_data.html#a05354e589ed8f221d74f81f276fb158e">setMetric</a>(1);
    ie-&gt;<a class="code" href="class_interface_entry.html#a7b2e8a8e6ee3bab717b90a2068f550f1">setIPv4Data</a>(d);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8b681e68c0cecf8b3b67981c23a86085"></a><!-- doxytag: member="RoutingTable::configureRouterId" ref="a8b681e68c0cecf8b3b67981c23a86085" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_routing_table.html#a8b681e68c0cecf8b3b67981c23a86085">RoutingTable::configureRouterId</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_routing_table_8cc_source.html#l00118">118</a> of file <a class="el" href="_routing_table_8cc_source.html">RoutingTable.cc</a>.</p>

<p>Referenced by <a class="el" href="_routing_table_8cc_source.html#l00059">initialize()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (<a class="code" href="class_routing_table.html#aadbf86bac1497193ccdd137f34610551">routerId</a>.<a class="code" href="class_i_p_address.html#a7fb3c274d7a8600be890f83c028d5f96">isUnspecified</a>())  <span class="comment">// not yet configured</span>
    {
        <span class="keyword">const</span> <span class="keywordtype">char</span> *routerIdStr = par(<span class="stringliteral">&quot;routerId&quot;</span>).stringValue();
        <span class="keywordflow">if</span> (!strcmp(routerIdStr, <span class="stringliteral">&quot;auto&quot;</span>))  <span class="comment">// non-&quot;auto&quot; cases already handled in stage 1</span>
        {
            <span class="comment">// choose highest interface address as routerId</span>
            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>=0; <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>&lt;<a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#a2b0ce46cd92da6f64fc363410dc71904">getNumInterfaces</a>(); ++<a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>)
            {
                <a class="code" href="class_interface_entry.html">InterfaceEntry</a> *ie = <a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#a19ce4ca3b47b52b8e2b67c25806c4b49">getInterface</a>(<a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>);
                <span class="keywordflow">if</span> (!ie-&gt;<a class="code" href="class_interface_entry.html#a0ee93e88273f61390d1293dae55004d1">isLoopback</a>() &amp;&amp; ie-&gt;<a class="code" href="class_interface_entry.html#ad47857e772397cc2d00de3a8cf464993">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#aec8ebefd03acad479ac89d31d7228331">getIPAddress</a>().<a class="code" href="class_i_p_address.html#a807ca46964a8403cf0c70f0772179524">getInt</a>() &gt; <a class="code" href="class_routing_table.html#aadbf86bac1497193ccdd137f34610551">routerId</a>.<a class="code" href="class_i_p_address.html#a807ca46964a8403cf0c70f0772179524">getInt</a>())
                    <a class="code" href="class_routing_table.html#aadbf86bac1497193ccdd137f34610551">routerId</a> = ie-&gt;<a class="code" href="class_interface_entry.html#ad47857e772397cc2d00de3a8cf464993">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#aec8ebefd03acad479ac89d31d7228331">getIPAddress</a>();
            }
        }
    }
    <span class="keywordflow">else</span> <span class="comment">// already configured</span>
    {
        <span class="comment">// if there is no interface with routerId yet, assign it to the loopback address;</span>
        <span class="comment">// TODO find out if this is a good practice, in which situations it is useful etc.</span>
        <span class="keywordflow">if</span> (<a class="code" href="class_routing_table.html#acbdfefb5742c413314749c72e0e92d42">getInterfaceByAddress</a>(<a class="code" href="class_routing_table.html#aadbf86bac1497193ccdd137f34610551">routerId</a>)==NULL)
        {
            <a class="code" href="class_interface_entry.html">InterfaceEntry</a> *lo0 = <a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#ad9b040947200941201b8c82d35c7abee">getFirstLoopbackInterface</a>();
            lo0-&gt;<a class="code" href="class_interface_entry.html#ad47857e772397cc2d00de3a8cf464993">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#a01673d0a7c6f0a3a3daddc83eb4c8aaa">setIPAddress</a>(<a class="code" href="class_routing_table.html#aadbf86bac1497193ccdd137f34610551">routerId</a>);
            lo0-&gt;<a class="code" href="class_interface_entry.html#ad47857e772397cc2d00de3a8cf464993">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#a70c7c157df5ca84e6dd72fd38d630a95">setNetmask</a>(<a class="code" href="class_i_p_address.html#ae7549d97f4e0996c1274b0c25849b88f" title="255.255.255.255">IPAddress::ALLONES_ADDRESS</a>);
        }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a95718902c009b8c2d4b09405a0d547a9"></a><!-- doxytag: member="RoutingTable::deleteInterfaceRoutes" ref="a95718902c009b8c2d4b09405a0d547a9" args="(InterfaceEntry *entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_routing_table.html#a95718902c009b8c2d4b09405a0d547a9">RoutingTable::deleteInterfaceRoutes</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_interface_entry.html">InterfaceEntry</a> *&#160;</td>
          <td class="paramname"><em>entry</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_routing_table_8cc_source.html#l00201">201</a> of file <a class="el" href="_routing_table_8cc_source.html">RoutingTable.cc</a>.</p>

<p>Referenced by <a class="el" href="_routing_table_8cc_source.html#l00166">receiveChangeNotification()</a>.</p>
<div class="fragment"><pre class="fragment">{
    RouteVector::iterator it = <a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.begin();
    <span class="keywordflow">while</span> (it != <a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.end())
    {
        <a class="code" href="class_i_p_route.html">IPRoute</a> *route = *it;
        <span class="keywordflow">if</span> (route-&gt;<a class="code" href="class_i_p_route.html#a1b01dfecb70fc9384695ce312dcab0a4">getInterface</a>() == entry)
        {
            <a class="code" href="class_routing_table.html#a98d3d0f11f8ed87f7b30465110277f35">deleteRoute</a>(route);
            it = <a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.begin();  <span class="comment">// iterator became invalid -- start over</span>
        }
        <span class="keywordflow">else</span>
        {
            ++it;
        }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a98d3d0f11f8ed87f7b30465110277f35"></a><!-- doxytag: member="RoutingTable::deleteRoute" ref="a98d3d0f11f8ed87f7b30465110277f35" args="(const IPRoute *entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_routing_table.html#a98d3d0f11f8ed87f7b30465110277f35">RoutingTable::deleteRoute</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_i_p_route.html">IPRoute</a> *&#160;</td>
          <td class="paramname"><em>entry</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Deletes the given route from the routing table. Returns true if the route was deleted correctly, false if it was not in the routing table. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#adc051b6287f397968f83aff251794cc8">IRoutingTable</a>.</p>

<p>Definition at line <a class="el" href="_routing_table_8cc_source.html#l00450">450</a> of file <a class="el" href="_routing_table_8cc_source.html">RoutingTable.cc</a>.</p>

<p>Referenced by <a class="el" href="_routing_table_8cc_source.html#l00417">addRoute()</a>, and <a class="el" href="_routing_table_8cc_source.html#l00201">deleteInterfaceRoutes()</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method(<span class="stringliteral">&quot;deleteRoute(...)&quot;</span>);

    RouteVector::iterator <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a> = <a class="code" href="_utils_8cc.html#a33bdc8b2583dcc9d2a8bfe1ec578352d">std::find</a>(<a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.begin(), <a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.end(), entry);
    <span class="keywordflow">if</span> (i!=<a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.end())
    {
        <a class="code" href="class_routing_table.html#a5c4641496d9964ea8422157447691880">nb</a>-&gt;<a class="code" href="class_notification_board.html#a2bb0a5aa0cb272a9b15cb5a58a253fcc">fireChangeNotification</a>(<a class="code" href="_notifier_consts_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba250243f132a5001e082e2c58b25eb0f1">NF_IPv4_ROUTE_DELETED</a>, entry); <span class="comment">// rather: going to be deleted</span>
        <a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.erase(i);
        <span class="keyword">delete</span> entry;
        <a class="code" href="class_routing_table.html#a484a19b6b712d938738521f454420129">invalidateCache</a>();
        <a class="code" href="class_routing_table.html#a8a8313b75234201d11785afdd69e4eca">updateDisplayString</a>();
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }
    i = <a class="code" href="_utils_8cc.html#a33bdc8b2583dcc9d2a8bfe1ec578352d">std::find</a>(<a class="code" href="class_routing_table.html#afe79828397a7768771315c2099734d55">multicastRoutes</a>.begin(), <a class="code" href="class_routing_table.html#afe79828397a7768771315c2099734d55">multicastRoutes</a>.end(), entry);
    <span class="keywordflow">if</span> (i!=<a class="code" href="class_routing_table.html#afe79828397a7768771315c2099734d55">multicastRoutes</a>.end())
    {
        <a class="code" href="class_routing_table.html#a5c4641496d9964ea8422157447691880">nb</a>-&gt;<a class="code" href="class_notification_board.html#a2bb0a5aa0cb272a9b15cb5a58a253fcc">fireChangeNotification</a>(<a class="code" href="_notifier_consts_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba250243f132a5001e082e2c58b25eb0f1">NF_IPv4_ROUTE_DELETED</a>, entry); <span class="comment">// rather: going to be deleted</span>
        <a class="code" href="class_routing_table.html#afe79828397a7768771315c2099734d55">multicastRoutes</a>.erase(i);
        <span class="keyword">delete</span> entry;
        <a class="code" href="class_routing_table.html#a484a19b6b712d938738521f454420129">invalidateCache</a>();
        <a class="code" href="class_routing_table.html#a8a8313b75234201d11785afdd69e4eca">updateDisplayString</a>();
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }
    <span class="keywordflow">return</span> <span class="keyword">false</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9c48c581c9dc6920b9427d1739ac21ca"></a><!-- doxytag: member="RoutingTable::findBestMatchingRoute" ref="a9c48c581c9dc6920b9427d1739ac21ca" args="(const IPAddress &amp;dest) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_i_p_route.html">IPRoute</a> * <a class="el" href="class_routing_table.html#a9c48c581c9dc6920b9427d1739ac21ca">RoutingTable::findBestMatchingRoute</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_i_p_address.html">IPAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The routing function. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#ab4c55c3aa659327fcb1319a34421f03a">IRoutingTable</a>.</p>

<p>Definition at line <a class="el" href="_routing_table_8cc_source.html#l00319">319</a> of file <a class="el" href="_routing_table_8cc_source.html">RoutingTable.cc</a>.</p>

<p>Referenced by <a class="el" href="_routing_table_8cc_source.html#l00353">getGatewayForDestAddr()</a>, and <a class="el" href="_routing_table_8cc_source.html#l00345">getInterfaceForDestAddr()</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method(<span class="stringliteral">&quot;findBestMatchingRoute(%u.%u.%u.%u)&quot;</span>, dest.<a class="code" href="class_i_p_address.html#a868b69cd9b763ad8ad73a5bafa14b866">getDByte</a>(0), dest.<a class="code" href="class_i_p_address.html#a868b69cd9b763ad8ad73a5bafa14b866">getDByte</a>(1), dest.<a class="code" href="class_i_p_address.html#a868b69cd9b763ad8ad73a5bafa14b866">getDByte</a>(2), dest.<a class="code" href="class_i_p_address.html#a868b69cd9b763ad8ad73a5bafa14b866">getDByte</a>(3)); <span class="comment">// note: str().c_str() too slow here</span>

    RoutingCache::iterator it = <a class="code" href="class_routing_table.html#ac2aeac5d70e440d6ad1b3d560029f277">routingCache</a>.find(dest);
    <span class="keywordflow">if</span> (it != <a class="code" href="class_routing_table.html#ac2aeac5d70e440d6ad1b3d560029f277">routingCache</a>.end())
        <span class="keywordflow">return</span> it-&gt;second;

    <span class="comment">// find best match (one with longest prefix)</span>
    <span class="comment">// default route has zero prefix length, so (if exists) it&#39;ll be selected as last resort</span>
    <span class="keyword">const</span> <a class="code" href="class_i_p_route.html">IPRoute</a> *bestRoute = NULL;
    uint32 longestNetmask = 0;
    for (RouteVector::const_iterator <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>=<a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.begin(); <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>!=<a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.end(); ++<a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>)
    {
        <span class="keyword">const</span> <a class="code" href="class_i_p_route.html">IPRoute</a> *e = *<a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>;
        <span class="keywordflow">if</span> (<a class="code" href="class_i_p_address.html#af256bd4f9f4aa628cc56d377cd4d3020">IPAddress::maskedAddrAreEqual</a>(dest, e-&gt;<a class="code" href="class_i_p_route.html#a07adcdcc04cb4d50f12f060c7206b73e">getHost</a>(), e-&gt;<a class="code" href="class_i_p_route.html#ad69bc8024a13bf6ec528e9afdf1aa7e1">getNetmask</a>()) &amp;&amp;  <span class="comment">// match</span>
            (!bestRoute || e-&gt;<a class="code" href="class_i_p_route.html#ad69bc8024a13bf6ec528e9afdf1aa7e1">getNetmask</a>().<a class="code" href="class_i_p_address.html#a807ca46964a8403cf0c70f0772179524">getInt</a>() &gt; longestNetmask))  <span class="comment">// longest so far</span>
        {
            bestRoute = e;
            longestNetmask = e-&gt;<a class="code" href="class_i_p_route.html#ad69bc8024a13bf6ec528e9afdf1aa7e1">getNetmask</a>().<a class="code" href="class_i_p_address.html#a807ca46964a8403cf0c70f0772179524">getInt</a>();
        }
    }
    <a class="code" href="class_routing_table.html#ac2aeac5d70e440d6ad1b3d560029f277">routingCache</a>[dest] = bestRoute;
    <span class="keywordflow">return</span> bestRoute;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a33fec398f3610c23d36dc6e17ec43d48"></a><!-- doxytag: member="RoutingTable::findRoute" ref="a33fec398f3610c23d36dc6e17ec43d48" args="(const IPAddress &amp;target, const IPAddress &amp;netmask, const IPAddress &amp;gw, int metric=0, const char *dev=NULL) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_i_p_route.html">IPRoute</a> * <a class="el" href="class_routing_table.html#a33fec398f3610c23d36dc6e17ec43d48">RoutingTable::findRoute</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_i_p_address.html">IPAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_i_p_address.html">IPAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>netmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_i_p_address.html">IPAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>gw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>metric</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dev</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Finds the first route with the given parameters. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#a5dee5d086b80f1841227ad3705690179">IRoutingTable</a>.</p>

<p>Definition at line <a class="el" href="_routing_table_8cc_source.html#l00407">407</a> of file <a class="el" href="_routing_table_8cc_source.html">RoutingTable.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">int</span> n = <a class="code" href="class_routing_table.html#a5234d020269187269f385eabee291da8">getNumRoutes</a>();
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>=0; <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>&lt;n; <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>++)
        <span class="keywordflow">if</span> (<a class="code" href="class_routing_table.html#a182e9f6bafe82c6b2de86a8da872d49a">routeMatches</a>(<a class="code" href="class_routing_table.html#a7bf183b2da78d2f70099b3abf3cc91ed">getRoute</a>(<a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>), target, netmask, gw, metric, dev))
            <span class="keywordflow">return</span> <a class="code" href="class_routing_table.html#a7bf183b2da78d2f70099b3abf3cc91ed">getRoute</a>(<a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>);
    <span class="keywordflow">return</span> NULL;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a528f2d18212d30617d577e5c72c9e47f"></a><!-- doxytag: member="RoutingTable::gatherAddresses" ref="a528f2d18212d30617d577e5c72c9e47f" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="class_i_p_address.html">IPAddress</a> &gt; <a class="el" href="class_routing_table.html#a528f2d18212d30617d577e5c72c9e47f">RoutingTable::gatherAddresses</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Utility function: Returns a vector of all addresses of the node. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#a590d86464b65bae8320ff74a94537e04">IRoutingTable</a>.</p>

<p>Definition at line <a class="el" href="_routing_table_8cc_source.html#l00236">236</a> of file <a class="el" href="_routing_table_8cc_source.html">RoutingTable.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    std::vector&lt;IPAddress&gt; addressvector;

    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>=0; <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>&lt;<a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#a2b0ce46cd92da6f64fc363410dc71904">getNumInterfaces</a>(); ++<a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>)
        addressvector.push_back(<a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#a19ce4ca3b47b52b8e2b67c25806c4b49">getInterface</a>(<a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>)-&gt;<a class="code" href="class_interface_entry.html#ad47857e772397cc2d00de3a8cf464993">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#aec8ebefd03acad479ac89d31d7228331">getIPAddress</a>());
    <span class="keywordflow">return</span> addressvector;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7a7085c40be2e2f588b5fd1062710d61"></a><!-- doxytag: member="RoutingTable::getDefaultRoute" ref="a7a7085c40be2e2f588b5fd1062710d61" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_i_p_route.html">IPRoute</a> * <a class="el" href="class_routing_table.html#a7a7085c40be2e2f588b5fd1062710d61">RoutingTable::getDefaultRoute</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Finds and returns the default route, or NULL if it doesn't exist </p>

<p>Implements <a class="el" href="class_i_routing_table.html#acad7b7a99d46371be9f1f180442d6de2">IRoutingTable</a>.</p>

<p>Definition at line <a class="el" href="_routing_table_8cc_source.html#l00398">398</a> of file <a class="el" href="_routing_table_8cc_source.html">RoutingTable.cc</a>.</p>

<p>Referenced by <a class="el" href="_routing_table_8cc_source.html#l00417">addRoute()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">int</span> n = (int)<a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.size();
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>=0; <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>&lt;n; <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>++)
        <span class="keywordflow">if</span> (<a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>[<a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>]-&gt;getNetmask().isUnspecified())
            <span class="keywordflow">return</span> <a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>[<a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>];
    <span class="keywordflow">return</span> NULL;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7f385e81b1aec6d727e2d4296dc931e7"></a><!-- doxytag: member="RoutingTable::getGatewayForDestAddr" ref="a7f385e81b1aec6d727e2d4296dc931e7" args="(const IPAddress &amp;dest) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_p_address.html">IPAddress</a> <a class="el" href="class_routing_table.html#a7f385e81b1aec6d727e2d4296dc931e7">RoutingTable::getGatewayForDestAddr</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_i_p_address.html">IPAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Convenience function based on <a class="el" href="class_routing_table.html#a9c48c581c9dc6920b9427d1739ac21ca">findBestMatchingRoute()</a>.</p>
<p>Returns the gateway to send the destination. Returns null address if the destination is not in routing table or there is no gateway (local delivery). </p>

<p>Implements <a class="el" href="class_i_routing_table.html#a71faece4a2646efe9296f8c20159a3ce">IRoutingTable</a>.</p>

<p>Definition at line <a class="el" href="_routing_table_8cc_source.html#l00353">353</a> of file <a class="el" href="_routing_table_8cc_source.html">RoutingTable.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method(<span class="stringliteral">&quot;getGatewayForDestAddr(%u.%u.%u.%u)&quot;</span>, dest.<a class="code" href="class_i_p_address.html#a868b69cd9b763ad8ad73a5bafa14b866">getDByte</a>(0), dest.<a class="code" href="class_i_p_address.html#a868b69cd9b763ad8ad73a5bafa14b866">getDByte</a>(1), dest.<a class="code" href="class_i_p_address.html#a868b69cd9b763ad8ad73a5bafa14b866">getDByte</a>(2), dest.<a class="code" href="class_i_p_address.html#a868b69cd9b763ad8ad73a5bafa14b866">getDByte</a>(3)); <span class="comment">// note: str().c_str() too slow here</span>

    <span class="keyword">const</span> <a class="code" href="class_i_p_route.html">IPRoute</a> *e = <a class="code" href="class_routing_table.html#a9c48c581c9dc6920b9427d1739ac21ca">findBestMatchingRoute</a>(dest);
    <span class="keywordflow">return</span> e ? e-&gt;getGateway() : <a class="code" href="class_i_p_address.html">IPAddress</a>();
}
</pre></div>
</div>
</div>
<a class="anchor" id="acbdfefb5742c413314749c72e0e92d42"></a><!-- doxytag: member="RoutingTable::getInterfaceByAddress" ref="acbdfefb5742c413314749c72e0e92d42" args="(const IPAddress &amp;address) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_interface_entry.html">InterfaceEntry</a> * <a class="el" href="class_routing_table.html#acbdfefb5742c413314749c72e0e92d42">RoutingTable::getInterfaceByAddress</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_i_p_address.html">IPAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns an interface given by its address. Returns NULL if not found. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#a57e790dfac86432f349e15116e5961d1">IRoutingTable</a>.</p>

<p>Definition at line <a class="el" href="_routing_table_8cc_source.html#l00256">256</a> of file <a class="el" href="_routing_table_8cc_source.html">RoutingTable.cc</a>.</p>

<p>Referenced by <a class="el" href="_routing_table_8cc_source.html#l00118">configureRouterId()</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method(<span class="stringliteral">&quot;getInterfaceByAddress(%u.%u.%u.%u)&quot;</span>, addr.getDByte(0), addr.getDByte(1), addr.getDByte(2), addr.getDByte(3)); <span class="comment">// note: str().c_str() too slow here</span>

    <span class="keywordflow">if</span> (addr.isUnspecified())
        <span class="keywordflow">return</span> NULL;
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>=0; <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>&lt;<a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#a2b0ce46cd92da6f64fc363410dc71904">getNumInterfaces</a>(); ++<a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>)
    {
        <a class="code" href="class_interface_entry.html">InterfaceEntry</a> *ie = <a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#a19ce4ca3b47b52b8e2b67c25806c4b49">getInterface</a>(<a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>);
        <span class="keywordflow">if</span> (ie-&gt;<a class="code" href="class_interface_entry.html#ad47857e772397cc2d00de3a8cf464993">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#aec8ebefd03acad479ac89d31d7228331">getIPAddress</a>()==addr)
            <span class="keywordflow">return</span> ie;
    }
    <span class="keywordflow">return</span> NULL;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aba5815f6040065c8a1804cc542e659de"></a><!-- doxytag: member="RoutingTable::getInterfaceForDestAddr" ref="aba5815f6040065c8a1804cc542e659de" args="(const IPAddress &amp;dest) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_interface_entry.html">InterfaceEntry</a> * <a class="el" href="class_routing_table.html#aba5815f6040065c8a1804cc542e659de">RoutingTable::getInterfaceForDestAddr</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_i_p_address.html">IPAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Convenience function based on <a class="el" href="class_routing_table.html#a9c48c581c9dc6920b9427d1739ac21ca">findBestMatchingRoute()</a>.</p>
<p>Returns the interface Id to send the packets with dest as destination address, or -1 if destination is not in routing table. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#a0dda4a87779a949284ccead75001fa30">IRoutingTable</a>.</p>

<p>Definition at line <a class="el" href="_routing_table_8cc_source.html#l00345">345</a> of file <a class="el" href="_routing_table_8cc_source.html">RoutingTable.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method(<span class="stringliteral">&quot;getInterfaceForDestAddr(%u.%u.%u.%u)&quot;</span>, dest.<a class="code" href="class_i_p_address.html#a868b69cd9b763ad8ad73a5bafa14b866">getDByte</a>(0), dest.<a class="code" href="class_i_p_address.html#a868b69cd9b763ad8ad73a5bafa14b866">getDByte</a>(1), dest.<a class="code" href="class_i_p_address.html#a868b69cd9b763ad8ad73a5bafa14b866">getDByte</a>(2), dest.<a class="code" href="class_i_p_address.html#a868b69cd9b763ad8ad73a5bafa14b866">getDByte</a>(3)); <span class="comment">// note: str().c_str() too slow here</span>

    <span class="keyword">const</span> <a class="code" href="class_i_p_route.html">IPRoute</a> *e = <a class="code" href="class_routing_table.html#a9c48c581c9dc6920b9427d1739ac21ca">findBestMatchingRoute</a>(dest);
    <span class="keywordflow">return</span> e ? e-&gt;getInterface() : NULL;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac1e192ee7a51439d49dfaba757338de3"></a><!-- doxytag: member="RoutingTable::getMulticastRoutesFor" ref="ac1e192ee7a51439d49dfaba757338de3" args="(const IPAddress &amp;dest) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_i_routing_table_8h.html#a799f7871a09579309555eed682ecf0cc">MulticastRoutes</a> <a class="el" href="class_routing_table.html#ac1e192ee7a51439d49dfaba757338de3">RoutingTable::getMulticastRoutesFor</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_i_p_address.html">IPAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns routes for a multicast address. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#ad18a5ecff6a0e6e8ec1c56f54c8be2fb">IRoutingTable</a>.</p>

<p>Definition at line <a class="el" href="_routing_table_8cc_source.html#l00362">362</a> of file <a class="el" href="_routing_table_8cc_source.html">RoutingTable.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method(<span class="stringliteral">&quot;getMulticastRoutesFor(%u.%u.%u.%u)&quot;</span>, dest.<a class="code" href="class_i_p_address.html#a868b69cd9b763ad8ad73a5bafa14b866">getDByte</a>(0), dest.<a class="code" href="class_i_p_address.html#a868b69cd9b763ad8ad73a5bafa14b866">getDByte</a>(1), dest.<a class="code" href="class_i_p_address.html#a868b69cd9b763ad8ad73a5bafa14b866">getDByte</a>(2), dest.<a class="code" href="class_i_p_address.html#a868b69cd9b763ad8ad73a5bafa14b866">getDByte</a>(3)); <span class="comment">// note: str().c_str() too slow here here</span>

    <a class="code" href="_i_routing_table_8h.html#a799f7871a09579309555eed682ecf0cc">MulticastRoutes</a> res;
    res.reserve(16);
    <span class="keywordflow">for</span> (RouteVector::const_iterator <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>=<a class="code" href="class_routing_table.html#afe79828397a7768771315c2099734d55">multicastRoutes</a>.begin(); <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>!=<a class="code" href="class_routing_table.html#afe79828397a7768771315c2099734d55">multicastRoutes</a>.end(); ++<a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>)
    {
        <span class="keyword">const</span> <a class="code" href="class_i_p_route.html">IPRoute</a> *e = *<a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>;
        <span class="keywordflow">if</span> (<a class="code" href="class_i_p_address.html#af256bd4f9f4aa628cc56d377cd4d3020">IPAddress::maskedAddrAreEqual</a>(dest, e-&gt;<a class="code" href="class_i_p_route.html#a07adcdcc04cb4d50f12f060c7206b73e">getHost</a>(), e-&gt;<a class="code" href="class_i_p_route.html#ad69bc8024a13bf6ec528e9afdf1aa7e1">getNetmask</a>()))
        {
            <a class="code" href="struct_multicast_route.html">MulticastRoute</a> r;
            r.<a class="code" href="struct_multicast_route.html#aa52f00d8c26d8b9fd94a574303299b27">interf</a> = e-&gt;<a class="code" href="class_i_p_route.html#a1b01dfecb70fc9384695ce312dcab0a4">getInterface</a>();
            r.<a class="code" href="struct_multicast_route.html#a4ba8853abd9336112518534e834116a0">gateway</a> = e-&gt;<a class="code" href="class_i_p_route.html#aa1aa349eb850c0d9acb3f01ba0ee61d5">getGateway</a>();
            res.push_back(r);
        }
    }
    <span class="keywordflow">return</span> res;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5234d020269187269f385eabee291da8"></a><!-- doxytag: member="RoutingTable::getNumRoutes" ref="a5234d020269187269f385eabee291da8" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_routing_table.html#a5234d020269187269f385eabee291da8">RoutingTable::getNumRoutes</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the total number of routes (unicast, multicast, plus the default route). </p>

<p>Implements <a class="el" href="class_i_routing_table.html#ada2fac98d1d1c80c291be239b075c63b">IRoutingTable</a>.</p>

<p>Definition at line <a class="el" href="_routing_table_8cc_source.html#l00383">383</a> of file <a class="el" href="_routing_table_8cc_source.html">RoutingTable.cc</a>.</p>

<p>Referenced by <a class="el" href="_routing_table_8cc_source.html#l00407">findRoute()</a>, and <a class="el" href="_routing_table_8cc_source.html#l00225">printRoutingTable()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> <a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.size()+<a class="code" href="class_routing_table.html#afe79828397a7768771315c2099734d55">multicastRoutes</a>.size();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7bf183b2da78d2f70099b3abf3cc91ed"></a><!-- doxytag: member="RoutingTable::getRoute" ref="a7bf183b2da78d2f70099b3abf3cc91ed" args="(int k) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_i_p_route.html">IPRoute</a> * <a class="el" href="class_routing_table.html#a7bf183b2da78d2f70099b3abf3cc91ed">RoutingTable::getRoute</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>k</em></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the kth route. The returned route cannot be modified; you must delete and re-add it instead. This rule is emphasized by returning a const pointer. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#a89f3eb433e309043cde517238eef5214">IRoutingTable</a>.</p>

<p>Definition at line <a class="el" href="_routing_table_8cc_source.html#l00388">388</a> of file <a class="el" href="_routing_table_8cc_source.html">RoutingTable.cc</a>.</p>

<p>Referenced by <a class="el" href="_routing_table_8cc_source.html#l00407">findRoute()</a>, and <a class="el" href="_routing_table_8cc_source.html#l00225">printRoutingTable()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (k &lt; (<span class="keywordtype">int</span>)<a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.size())
        <span class="keywordflow">return</span> <a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>[k];
    k -= <a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.size();
    <span class="keywordflow">if</span> (k &lt; (<span class="keywordtype">int</span>)<a class="code" href="class_routing_table.html#afe79828397a7768771315c2099734d55">multicastRoutes</a>.size())
        <span class="keywordflow">return</span> <a class="code" href="class_routing_table.html#afe79828397a7768771315c2099734d55">multicastRoutes</a>[k];
    <span class="keywordflow">return</span> NULL;
}
</pre></div>
</div>
</div>
<a class="anchor" id="adf42db0416d6d8c4061d9bc91a17e6e2"></a><!-- doxytag: member="RoutingTable::getRouterId" ref="adf42db0416d6d8c4061d9bc91a17e6e2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="class_i_p_address.html">IPAddress</a> <a class="el" href="class_routing_table.html#adf42db0416d6d8c4061d9bc91a17e6e2">RoutingTable::getRouterId</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns routerId. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#a64a9a5b1414f4da0b7b0a3e079091f62">IRoutingTable</a>.</p>

<p>Definition at line <a class="el" href="_routing_table_8h_source.html#l00163">163</a> of file <a class="el" href="_routing_table_8h_source.html">RoutingTable.h</a>.</p>
<div class="fragment"><pre class="fragment">{<span class="keywordflow">return</span> <a class="code" href="class_routing_table.html#aadbf86bac1497193ccdd137f34610551">routerId</a>;}
</pre></div>
</div>
</div>
<a class="anchor" id="a27a3710233113ed3316c39c47dba1f64"></a><!-- doxytag: member="RoutingTable::handleMessage" ref="a27a3710233113ed3316c39c47dba1f64" args="(cMessage *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_routing_table.html#a27a3710233113ed3316c39c47dba1f64">RoutingTable::handleMessage</a> </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Raises an error. </p>

<p>Definition at line <a class="el" href="_routing_table_8cc_source.html#l00161">161</a> of file <a class="el" href="_routing_table_8cc_source.html">RoutingTable.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    opp_error(<span class="stringliteral">&quot;This module doesn&#39;t process messages&quot;</span>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0f8b6dd1c9a692ca1eba05d35bcc78ed"></a><!-- doxytag: member="RoutingTable::initialize" ref="a0f8b6dd1c9a692ca1eba05d35bcc78ed" args="(int stage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_routing_table.html#a0f8b6dd1c9a692ca1eba05d35bcc78ed">RoutingTable::initialize</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stage</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_routing_table_8cc_source.html#l00059">59</a> of file <a class="el" href="_routing_table_8cc_source.html">RoutingTable.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (stage==0)
    {
        <span class="comment">// get a pointer to the NotificationBoard module and IInterfaceTable</span>
        <a class="code" href="class_routing_table.html#a5c4641496d9964ea8422157447691880">nb</a> = <a class="code" href="class_notification_board_access.html">NotificationBoardAccess</a>().<a class="code" href="class_module_access.html#a44956ddb52973612afbba0eeecf8bb66">get</a>();
        <a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a> = <a class="code" href="class_interface_table_access.html">InterfaceTableAccess</a>().<a class="code" href="class_module_access.html#a44956ddb52973612afbba0eeecf8bb66">get</a>();

        <a class="code" href="class_routing_table.html#ab1fae735c632287a00881b1b6eb24271">IPForward</a> = par(<span class="stringliteral">&quot;IPForward&quot;</span>).boolValue();

        <a class="code" href="class_routing_table.html#a5c4641496d9964ea8422157447691880">nb</a>-&gt;<a class="code" href="class_notification_board.html#aeb02a282e6c807c1cb064a28e8409ff2">subscribe</a>(<span class="keyword">this</span>, <a class="code" href="_notifier_consts_8h.html#a06fc87d81c62e9abb8790b6e5713c55baea2d4297f1e519520524d4bd8ff865b4">NF_INTERFACE_CREATED</a>);
        <a class="code" href="class_routing_table.html#a5c4641496d9964ea8422157447691880">nb</a>-&gt;<a class="code" href="class_notification_board.html#aeb02a282e6c807c1cb064a28e8409ff2">subscribe</a>(<span class="keyword">this</span>, <a class="code" href="_notifier_consts_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba4f8e57f4754cbf2e6ba92a7079b483e4">NF_INTERFACE_DELETED</a>);
        <a class="code" href="class_routing_table.html#a5c4641496d9964ea8422157447691880">nb</a>-&gt;<a class="code" href="class_notification_board.html#aeb02a282e6c807c1cb064a28e8409ff2">subscribe</a>(<span class="keyword">this</span>, <a class="code" href="_notifier_consts_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba5ed0701efe7413c8f98fd0ba7fa9947d">NF_INTERFACE_STATE_CHANGED</a>);
        <a class="code" href="class_routing_table.html#a5c4641496d9964ea8422157447691880">nb</a>-&gt;<a class="code" href="class_notification_board.html#aeb02a282e6c807c1cb064a28e8409ff2">subscribe</a>(<span class="keyword">this</span>, <a class="code" href="_notifier_consts_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba3a1d2cac1cec476f84c60030a70ef902">NF_INTERFACE_CONFIG_CHANGED</a>);
        <a class="code" href="class_routing_table.html#a5c4641496d9964ea8422157447691880">nb</a>-&gt;<a class="code" href="class_notification_board.html#aeb02a282e6c807c1cb064a28e8409ff2">subscribe</a>(<span class="keyword">this</span>, <a class="code" href="_notifier_consts_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba320671db29f38850c262680b6400b8bf">NF_INTERFACE_IPv4CONFIG_CHANGED</a>);

        WATCH_PTRVECTOR(<a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>);
        WATCH_PTRVECTOR(<a class="code" href="class_routing_table.html#afe79828397a7768771315c2099734d55">multicastRoutes</a>);
        WATCH(<a class="code" href="class_routing_table.html#ab1fae735c632287a00881b1b6eb24271">IPForward</a>);
        WATCH(<a class="code" href="class_routing_table.html#aadbf86bac1497193ccdd137f34610551">routerId</a>);
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (stage==1)
    {
        <span class="comment">// L2 modules register themselves in stage 0, so we can only configure</span>
        <span class="comment">// the interfaces in stage 1.</span>
        <span class="keyword">const</span> <span class="keywordtype">char</span> *filename = par(<span class="stringliteral">&quot;routingFile&quot;</span>);

        <span class="comment">// At this point, all L2 modules have registered themselves (added their</span>
        <span class="comment">// interface entries). Create the per-interface IPv4 data structures.</span>
        <a class="code" href="class_i_interface_table.html">IInterfaceTable</a> *interfaceTable = <a class="code" href="class_interface_table_access.html">InterfaceTableAccess</a>().<a class="code" href="class_module_access.html#a44956ddb52973612afbba0eeecf8bb66">get</a>();
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>=0; <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>&lt;interfaceTable-&gt;<a class="code" href="class_i_interface_table.html#a2b0ce46cd92da6f64fc363410dc71904">getNumInterfaces</a>(); ++<a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>)
            <a class="code" href="class_routing_table.html#afaca8cf9e47f78fdd727d794109c1842">configureInterfaceForIPv4</a>(interfaceTable-&gt;<a class="code" href="class_i_interface_table.html#a19ce4ca3b47b52b8e2b67c25806c4b49">getInterface</a>(<a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>));
        <a class="code" href="class_routing_table.html#a7c5e8b0d56e707bffc8ae56aeb3ca545">configureLoopbackForIPv4</a>();

        <span class="comment">// read routing table file (and interface configuration)</span>
        <a class="code" href="class_routing_table_parser.html">RoutingTableParser</a> parser(<a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>, <span class="keyword">this</span>);
        <span class="keywordflow">if</span> (*filename &amp;&amp; parser.readRoutingTableFromFile(filename)==-1)
            error(<span class="stringliteral">&quot;Error reading routing table file %s&quot;</span>, filename);

        <span class="comment">// set routerId if param is not &quot;&quot; (==no routerId) or &quot;auto&quot; (in which case we&#39;ll</span>
        <span class="comment">// do it later in stage 3, after network configurators configured the interfaces)</span>
        <span class="keyword">const</span> <span class="keywordtype">char</span> *routerIdStr = par(<span class="stringliteral">&quot;routerId&quot;</span>).stringValue();
        <span class="keywordflow">if</span> (strcmp(routerIdStr, <span class="stringliteral">&quot;&quot;</span>) &amp;&amp; strcmp(routerIdStr, <span class="stringliteral">&quot;auto&quot;</span>))
            <a class="code" href="class_routing_table.html#aadbf86bac1497193ccdd137f34610551">routerId</a> = <a class="code" href="class_i_p_address.html">IPAddress</a>(routerIdStr);
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (stage==3)
    {
        <span class="comment">// routerID selection must be after stage==2 when network autoconfiguration</span>
        <span class="comment">// assigns interface addresses</span>
        <a class="code" href="class_routing_table.html#a8b681e68c0cecf8b3b67981c23a86085">configureRouterId</a>();

        <span class="comment">// we don&#39;t use notifications during initialize(), so we do it manually.</span>
        <span class="comment">// Should be in stage=3 because autoconfigurator runs in stage=2.</span>
        <a class="code" href="class_routing_table.html#a22ed882b21268b0cb94b4ed3cd437319">updateNetmaskRoutes</a>();

        <span class="comment">//printRoutingTable();</span>
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a484a19b6b712d938738521f454420129"></a><!-- doxytag: member="RoutingTable::invalidateCache" ref="a484a19b6b712d938738521f454420129" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_routing_table.html#a484a19b6b712d938738521f454420129">RoutingTable::invalidateCache</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_routing_table_8cc_source.html#l00219">219</a> of file <a class="el" href="_routing_table_8cc_source.html">RoutingTable.cc</a>.</p>

<p>Referenced by <a class="el" href="_routing_table_8cc_source.html#l00417">addRoute()</a>, <a class="el" href="_routing_table_8cc_source.html#l00450">deleteRoute()</a>, <a class="el" href="_routing_table_8cc_source.html#l00166">receiveChangeNotification()</a>, and <a class="el" href="_routing_table_8cc_source.html#l00496">updateNetmaskRoutes()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_routing_table.html#ac2aeac5d70e440d6ad1b3d560029f277">routingCache</a>.clear();
    <a class="code" href="class_routing_table.html#a732fcc528f888d4318dfe00220df230b">localAddresses</a>.clear();
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac1eb79e7247a9da2a64abc4050913efd"></a><!-- doxytag: member="RoutingTable::isIPForwardingEnabled" ref="ac1eb79e7247a9da2a64abc4050913efd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool <a class="el" href="class_routing_table.html#ac1eb79e7247a9da2a64abc4050913efd">RoutingTable::isIPForwardingEnabled</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="class_i_p.html">IP</a> forwarding on/off </p>

<p>Implements <a class="el" href="class_i_routing_table.html#a0f834149cc44f331983bcfc31e35cbf7">IRoutingTable</a>.</p>

<p>Definition at line <a class="el" href="_routing_table_8h_source.html#l00158">158</a> of file <a class="el" href="_routing_table_8h_source.html">RoutingTable.h</a>.</p>
<div class="fragment"><pre class="fragment">{<span class="keywordflow">return</span> <a class="code" href="class_routing_table.html#ab1fae735c632287a00881b1b6eb24271">IPForward</a>;}
</pre></div>
</div>
</div>
<a class="anchor" id="a1bdf2e7d6270c386ab0060dd82260ac2"></a><!-- doxytag: member="RoutingTable::isLocalAddress" ref="a1bdf2e7d6270c386ab0060dd82260ac2" args="(const IPAddress &amp;dest) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_routing_table.html#a1bdf2e7d6270c386ab0060dd82260ac2">RoutingTable::isLocalAddress</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_i_p_address.html">IPAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Checks if the address is a local one, i.e. one of the host's. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#a3dad8d703bfa05731c44b3b2f0bb4ae5">IRoutingTable</a>.</p>

<p>Definition at line <a class="el" href="_routing_table_8cc_source.html#l00287">287</a> of file <a class="el" href="_routing_table_8cc_source.html">RoutingTable.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method(<span class="stringliteral">&quot;isLocalAddress(%u.%u.%u.%u)&quot;</span>, dest.<a class="code" href="class_i_p_address.html#a868b69cd9b763ad8ad73a5bafa14b866">getDByte</a>(0), dest.<a class="code" href="class_i_p_address.html#a868b69cd9b763ad8ad73a5bafa14b866">getDByte</a>(1), dest.<a class="code" href="class_i_p_address.html#a868b69cd9b763ad8ad73a5bafa14b866">getDByte</a>(2), dest.<a class="code" href="class_i_p_address.html#a868b69cd9b763ad8ad73a5bafa14b866">getDByte</a>(3)); <span class="comment">// note: str().c_str() too slow here</span>

    <span class="keywordflow">if</span> (<a class="code" href="class_routing_table.html#a732fcc528f888d4318dfe00220df230b">localAddresses</a>.empty())
    {
        <span class="comment">// collect interface addresses if not yet done</span>
        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>=0; <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>&lt;<a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#a2b0ce46cd92da6f64fc363410dc71904">getNumInterfaces</a>(); <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>++)
        {
            <a class="code" href="class_i_p_address.html">IPAddress</a> interfaceAddr = <a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#a19ce4ca3b47b52b8e2b67c25806c4b49">getInterface</a>(<a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>)-&gt;<a class="code" href="class_interface_entry.html#ad47857e772397cc2d00de3a8cf464993">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#aec8ebefd03acad479ac89d31d7228331">getIPAddress</a>();
            <a class="code" href="class_routing_table.html#a732fcc528f888d4318dfe00220df230b">localAddresses</a>.insert(interfaceAddr);
        }
    }

    AddressSet::iterator it = <a class="code" href="class_routing_table.html#a732fcc528f888d4318dfe00220df230b">localAddresses</a>.find(dest);
    <span class="keywordflow">return</span> it!=<a class="code" href="class_routing_table.html#a732fcc528f888d4318dfe00220df230b">localAddresses</a>.end();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2a2bac31158b7b135cd43460d1d20171"></a><!-- doxytag: member="RoutingTable::isLocalMulticastAddress" ref="a2a2bac31158b7b135cd43460d1d20171" args="(const IPAddress &amp;dest) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_routing_table.html#a2a2bac31158b7b135cd43460d1d20171">RoutingTable::isLocalMulticastAddress</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_i_p_address.html">IPAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>dest</em></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Checks if the address is in one of the local multicast group address list. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#a4e1eac72fd6f6b8b18fc68d1b759b557">IRoutingTable</a>.</p>

<p>Definition at line <a class="el" href="_routing_table_8cc_source.html#l00305">305</a> of file <a class="el" href="_routing_table_8cc_source.html">RoutingTable.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    Enter_Method(<span class="stringliteral">&quot;isLocalMulticastAddress(%u.%u.%u.%u)&quot;</span>, dest.<a class="code" href="class_i_p_address.html#a868b69cd9b763ad8ad73a5bafa14b866">getDByte</a>(0), dest.<a class="code" href="class_i_p_address.html#a868b69cd9b763ad8ad73a5bafa14b866">getDByte</a>(1), dest.<a class="code" href="class_i_p_address.html#a868b69cd9b763ad8ad73a5bafa14b866">getDByte</a>(2), dest.<a class="code" href="class_i_p_address.html#a868b69cd9b763ad8ad73a5bafa14b866">getDByte</a>(3)); <span class="comment">// note: str().c_str() too slow here</span>

    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>=0; <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>&lt;<a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#a2b0ce46cd92da6f64fc363410dc71904">getNumInterfaces</a>(); <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>++)
    {
        <a class="code" href="class_interface_entry.html">InterfaceEntry</a> *ie = <a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#a19ce4ca3b47b52b8e2b67c25806c4b49">getInterface</a>(<a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>);
        <span class="keywordflow">if</span> (ie-&gt;<a class="code" href="class_interface_entry.html#ad47857e772397cc2d00de3a8cf464993">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#af8dbb723c4d3d718ff378e5bf6c208e5">isMemberOfMulticastGroup</a>(dest))
            <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }
    <span class="keywordflow">return</span> <span class="keyword">false</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a4ab26e1c685f9810d85a1cde9ff007e7"></a><!-- doxytag: member="RoutingTable::numInitStages" ref="a4ab26e1c685f9810d85a1cde9ff007e7" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int <a class="el" href="class_routing_table.html#a4ab26e1c685f9810d85a1cde9ff007e7">RoutingTable::numInitStages</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_routing_table_8h_source.html#l00125">125</a> of file <a class="el" href="_routing_table_8h_source.html">RoutingTable.h</a>.</p>
<div class="fragment"><pre class="fragment">{<span class="keywordflow">return</span> 4;}
</pre></div>
</div>
</div>
<a class="anchor" id="a86f4aa3d025b21b5e67ba14943fdf02b"></a><!-- doxytag: member="RoutingTable::printRoutingTable" ref="a86f4aa3d025b21b5e67ba14943fdf02b" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_routing_table.html#a86f4aa3d025b21b5e67ba14943fdf02b">RoutingTable::printRoutingTable</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>For debugging </p>

<p>Implements <a class="el" href="class_i_routing_table.html#ad0a94f80bbc274a87d236154052302e0">IRoutingTable</a>.</p>

<p>Definition at line <a class="el" href="_routing_table_8cc_source.html#l00225">225</a> of file <a class="el" href="_routing_table_8cc_source.html">RoutingTable.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;-- Routing table --\n&quot;</span>;
    ev.printf(<span class="stringliteral">&quot;%-16s %-16s %-16s %-3s %s\n&quot;</span>,
              <span class="stringliteral">&quot;Destination&quot;</span>, <span class="stringliteral">&quot;Gateway&quot;</span>, <span class="stringliteral">&quot;Netmask&quot;</span>, <span class="stringliteral">&quot;Iface&quot;</span>);

    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>=0; <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>&lt;<a class="code" href="class_routing_table.html#a5234d020269187269f385eabee291da8">getNumRoutes</a>(); <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>++)
        <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <a class="code" href="class_routing_table.html#a7bf183b2da78d2f70099b3abf3cc91ed">getRoute</a>(<a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>)-&gt;<a class="code" href="class_i_p_route.html#af25d49ba64cebda570528bf025577a0f">detailedInfo</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;
    <a class="code" href="_i_n_e_t_defs_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad83066430a3ce807272276b221ad9c13"></a><!-- doxytag: member="RoutingTable::receiveChangeNotification" ref="ad83066430a3ce807272276b221ad9c13" args="(int category, const cPolymorphic *details)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_routing_table.html#ad83066430a3ce807272276b221ad9c13">RoutingTable::receiveChangeNotification</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>category</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const cPolymorphic *&#160;</td>
          <td class="paramname"><em>details</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called by the <a class="el" href="class_notification_board.html">NotificationBoard</a> whenever a change of a category occurs to which this client has subscribed. </p>

<p>Implements <a class="el" href="class_i_notifiable.html#a67d757190e1128eaec8f0a8e51ed38f6">INotifiable</a>.</p>

<p>Definition at line <a class="el" href="_routing_table_8cc_source.html#l00166">166</a> of file <a class="el" href="_routing_table_8cc_source.html">RoutingTable.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (simulation.getContextType()==CTX_INITIALIZE)
        <span class="keywordflow">return</span>;  <span class="comment">// ignore notifications during initialize</span>

    Enter_Method_Silent();
    <a class="code" href="_notifier_consts_8cc.html#a68fd4b933fae636048bb9ee52fd922e5">printNotificationBanner</a>(category, details);

    <span class="keywordflow">if</span> (category==<a class="code" href="_notifier_consts_8h.html#a06fc87d81c62e9abb8790b6e5713c55baea2d4297f1e519520524d4bd8ff865b4">NF_INTERFACE_CREATED</a>)
    {
        <span class="comment">// add netmask route for the new interface</span>
        <a class="code" href="class_routing_table.html#a22ed882b21268b0cb94b4ed3cd437319">updateNetmaskRoutes</a>();
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (category==<a class="code" href="_notifier_consts_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba4f8e57f4754cbf2e6ba92a7079b483e4">NF_INTERFACE_DELETED</a>)
    {
        <span class="comment">// remove all routes that point to that interface</span>
        <a class="code" href="class_interface_entry.html">InterfaceEntry</a> *entry = check_and_cast&lt;<a class="code" href="class_interface_entry.html">InterfaceEntry</a>*&gt;(details);
        <a class="code" href="class_routing_table.html#a95718902c009b8c2d4b09405a0d547a9">deleteInterfaceRoutes</a>(entry);
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (category==<a class="code" href="_notifier_consts_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba5ed0701efe7413c8f98fd0ba7fa9947d">NF_INTERFACE_STATE_CHANGED</a>)
    {
        <a class="code" href="class_routing_table.html#a484a19b6b712d938738521f454420129">invalidateCache</a>();
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (category==<a class="code" href="_notifier_consts_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba3a1d2cac1cec476f84c60030a70ef902">NF_INTERFACE_CONFIG_CHANGED</a>)
    {
        <a class="code" href="class_routing_table.html#a484a19b6b712d938738521f454420129">invalidateCache</a>();
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (category==<a class="code" href="_notifier_consts_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba320671db29f38850c262680b6400b8bf">NF_INTERFACE_IPv4CONFIG_CHANGED</a>)
    {
        <span class="comment">// if anything IPv4-related changes in the interfaces, interface netmask</span>
        <span class="comment">// based routes have to be re-built.</span>
        <a class="code" href="class_routing_table.html#a22ed882b21268b0cb94b4ed3cd437319">updateNetmaskRoutes</a>();
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a182e9f6bafe82c6b2de86a8da872d49a"></a><!-- doxytag: member="RoutingTable::routeMatches" ref="a182e9f6bafe82c6b2de86a8da872d49a" args="(const IPRoute *entry, const IPAddress &amp;target, const IPAddress &amp;nmask, const IPAddress &amp;gw, int metric, const char *dev) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_routing_table.html#a182e9f6bafe82c6b2de86a8da872d49a">RoutingTable::routeMatches</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_i_p_route.html">IPRoute</a> *&#160;</td>
          <td class="paramname"><em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_i_p_address.html">IPAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_i_p_address.html">IPAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>nmask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_i_p_address.html">IPAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>gw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>metric</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_routing_table_8cc_source.html#l00478">478</a> of file <a class="el" href="_routing_table_8cc_source.html">RoutingTable.cc</a>.</p>

<p>Referenced by <a class="el" href="_routing_table_8cc_source.html#l00407">findRoute()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!target.<a class="code" href="class_i_p_address.html#a7fb3c274d7a8600be890f83c028d5f96">isUnspecified</a>() &amp;&amp; !target.<a class="code" href="class_i_p_address.html#a878a77f5c6d6542fbd6bd12fa376a2d4">equals</a>(entry-&gt;<a class="code" href="class_i_p_route.html#a07adcdcc04cb4d50f12f060c7206b73e">getHost</a>()))
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    <span class="keywordflow">if</span> (!nmask.<a class="code" href="class_i_p_address.html#a7fb3c274d7a8600be890f83c028d5f96">isUnspecified</a>() &amp;&amp; !nmask.<a class="code" href="class_i_p_address.html#a878a77f5c6d6542fbd6bd12fa376a2d4">equals</a>(entry-&gt;<a class="code" href="class_i_p_route.html#ad69bc8024a13bf6ec528e9afdf1aa7e1">getNetmask</a>()))
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    <span class="keywordflow">if</span> (!gw.<a class="code" href="class_i_p_address.html#a7fb3c274d7a8600be890f83c028d5f96">isUnspecified</a>() &amp;&amp; !gw.<a class="code" href="class_i_p_address.html#a878a77f5c6d6542fbd6bd12fa376a2d4">equals</a>(entry-&gt;<a class="code" href="class_i_p_route.html#aa1aa349eb850c0d9acb3f01ba0ee61d5">getGateway</a>()))
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    <span class="keywordflow">if</span> (metric &amp;&amp; metric!=entry-&gt;<a class="code" href="class_i_p_route.html#aad5dba2f1d6ca6c2a9fff9db497391c2">getMetric</a>())
        <span class="keywordflow">return</span> <span class="keyword">false</span>;
    <span class="keywordflow">if</span> (dev &amp;&amp; strcmp(dev, entry-&gt;<a class="code" href="class_i_p_route.html#a38dbdda8865be4489c587ee841e878ca">getInterfaceName</a>()))
        <span class="keywordflow">return</span> <span class="keyword">false</span>;

    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a39708c0679e2bbdcb01e7b249481329a"></a><!-- doxytag: member="RoutingTable::setRouterId" ref="a39708c0679e2bbdcb01e7b249481329a" args="(IPAddress a)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="class_routing_table.html#a39708c0679e2bbdcb01e7b249481329a">RoutingTable::setRouterId</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_i_p_address.html">IPAddress</a>&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets routerId. </p>

<p>Implements <a class="el" href="class_i_routing_table.html#ac149330686356f6ed5992ce014598f24">IRoutingTable</a>.</p>

<p>Definition at line <a class="el" href="_routing_table_8h_source.html#l00168">168</a> of file <a class="el" href="_routing_table_8h_source.html">RoutingTable.h</a>.</p>
<div class="fragment"><pre class="fragment">{<a class="code" href="class_routing_table.html#aadbf86bac1497193ccdd137f34610551">routerId</a> = a;}
</pre></div>
</div>
</div>
<a class="anchor" id="a8a8313b75234201d11785afdd69e4eca"></a><!-- doxytag: member="RoutingTable::updateDisplayString" ref="a8a8313b75234201d11785afdd69e4eca" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_routing_table.html#a8a8313b75234201d11785afdd69e4eca">RoutingTable::updateDisplayString</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_routing_table_8cc_source.html#l00147">147</a> of file <a class="el" href="_routing_table_8cc_source.html">RoutingTable.cc</a>.</p>

<p>Referenced by <a class="el" href="_routing_table_8cc_source.html#l00417">addRoute()</a>, <a class="el" href="_routing_table_8cc_source.html#l00450">deleteRoute()</a>, and <a class="el" href="_routing_table_8cc_source.html#l00496">updateNetmaskRoutes()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!ev.isGUI())
        <span class="keywordflow">return</span>;

    std::stringstream os;

    <span class="keywordflow">if</span> (!<a class="code" href="class_routing_table.html#aadbf86bac1497193ccdd137f34610551">routerId</a>.<a class="code" href="class_i_p_address.html#a7fb3c274d7a8600be890f83c028d5f96">isUnspecified</a>())
        os &lt;&lt; <span class="stringliteral">&quot;routerId: &quot;</span> &lt;&lt; <a class="code" href="class_routing_table.html#aadbf86bac1497193ccdd137f34610551">routerId</a> &lt;&lt;<span class="stringliteral">&quot;\n&quot;</span>;

    os &lt;&lt; <span class="stringliteral">&quot;&quot;</span> &lt;&lt; <a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.size() &lt;&lt; <span class="stringliteral">&quot;+&quot;</span> &lt;&lt; <a class="code" href="class_routing_table.html#afe79828397a7768771315c2099734d55">multicastRoutes</a>.size() &lt;&lt; <span class="stringliteral">&quot; routes&quot;</span>;
    getDisplayString().setTagArg(<span class="stringliteral">&quot;t&quot;</span>, 0, os.str().c_str());
}
</pre></div>
</div>
</div>
<a class="anchor" id="a22ed882b21268b0cb94b4ed3cd437319"></a><!-- doxytag: member="RoutingTable::updateNetmaskRoutes" ref="a22ed882b21268b0cb94b4ed3cd437319" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_routing_table.html#a22ed882b21268b0cb94b4ed3cd437319">RoutingTable::updateNetmaskRoutes</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_routing_table_8cc_source.html#l00496">496</a> of file <a class="el" href="_routing_table_8cc_source.html">RoutingTable.cc</a>.</p>

<p>Referenced by <a class="el" href="_routing_table_8cc_source.html#l00059">initialize()</a>, and <a class="el" href="_routing_table_8cc_source.html#l00166">receiveChangeNotification()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// first, delete all routes with src=IFACENETMASK</span>
    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k=0; k&lt;<a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.size(); k++)
        <span class="keywordflow">if</span> (<a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>[k]-&gt;getSource()==<a class="code" href="class_i_p_route.html#a8b19adf2d204de05cc8fdee67a270bc6a139cee28f42352771095a7db2de0b950" title="comes from an interface&#39;s netmask">IPRoute::IFACENETMASK</a>)
            <a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.erase(<a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.begin()+(k--));  <span class="comment">// &#39;--&#39; is necessary because indices shift down</span>

    <span class="comment">// then re-add them, according to actual interface configuration</span>
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>=0; <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>&lt;<a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#a2b0ce46cd92da6f64fc363410dc71904">getNumInterfaces</a>(); <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>++)
    {
        <a class="code" href="class_interface_entry.html">InterfaceEntry</a> *ie = <a class="code" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#a19ce4ca3b47b52b8e2b67c25806c4b49">getInterface</a>(<a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>);
        <span class="keywordflow">if</span> (ie-&gt;<a class="code" href="class_interface_entry.html#ad47857e772397cc2d00de3a8cf464993">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#adcd91eac3ced30ab46a8ad5d481dbb58">getNetmask</a>()!=<a class="code" href="class_i_p_address.html#ae7549d97f4e0996c1274b0c25849b88f" title="255.255.255.255">IPAddress::ALLONES_ADDRESS</a>)
        {
            <a class="code" href="class_i_p_route.html">IPRoute</a> *route = <span class="keyword">new</span> <a class="code" href="class_i_p_route.html">IPRoute</a>();
            route-&gt;<a class="code" href="class_i_p_route.html#a545b92b4bd15e1dad59afba65344c6f1">setType</a>(<a class="code" href="class_i_p_route.html#affdd22b24049e9d8d991b955a973d32eab46216a10952298ab9565997122d7225" title="Directly attached to the router.">IPRoute::DIRECT</a>);
            route-&gt;<a class="code" href="class_i_p_route.html#a9e1a72084dc1acc1b429bbd8c4e72a32">setSource</a>(<a class="code" href="class_i_p_route.html#a8b19adf2d204de05cc8fdee67a270bc6a139cee28f42352771095a7db2de0b950" title="comes from an interface&#39;s netmask">IPRoute::IFACENETMASK</a>);
            route-&gt;<a class="code" href="class_i_p_route.html#af706d909f82600db0ff2191540131b91">setHost</a>(ie-&gt;<a class="code" href="class_interface_entry.html#ad47857e772397cc2d00de3a8cf464993">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#aec8ebefd03acad479ac89d31d7228331">getIPAddress</a>());
            route-&gt;<a class="code" href="class_i_p_route.html#a8fd0ecc3020120431bae84d2eae7cc6a">setNetmask</a>(ie-&gt;<a class="code" href="class_interface_entry.html#ad47857e772397cc2d00de3a8cf464993">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#adcd91eac3ced30ab46a8ad5d481dbb58">getNetmask</a>());
            route-&gt;<a class="code" href="class_i_p_route.html#aae76b34aab79a69caca7e19ad8f39f3f">setGateway</a>(<a class="code" href="class_i_p_address.html">IPAddress</a>());
            route-&gt;<a class="code" href="class_i_p_route.html#ae0d4294f3ad0d91b283f5da2b183335f">setMetric</a>(ie-&gt;<a class="code" href="class_interface_entry.html#ad47857e772397cc2d00de3a8cf464993">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#aac9f062b0ffa8b944b4c65eecbf5251c">getMetric</a>());
            route-&gt;<a class="code" href="class_i_p_route.html#a5111618dad4786d4fda4f770aacc5e41">setInterface</a>(ie);
            <a class="code" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">routes</a>.push_back(route);
        }
    }

    <a class="code" href="class_routing_table.html#a484a19b6b712d938738521f454420129">invalidateCache</a>();
    <a class="code" href="class_routing_table.html#a8a8313b75234201d11785afdd69e4eca">updateDisplayString</a>();
}
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a809dc905f24f2eb82b58278d2d371010"></a><!-- doxytag: member="RoutingTable::ift" ref="a809dc905f24f2eb82b58278d2d371010" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_interface_table.html">IInterfaceTable</a>* <a class="el" href="class_routing_table.html#a809dc905f24f2eb82b58278d2d371010">RoutingTable::ift</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_routing_table_8h_source.html#l00075">75</a> of file <a class="el" href="_routing_table_8h_source.html">RoutingTable.h</a>.</p>

<p>Referenced by <a class="el" href="_routing_table_8cc_source.html#l00272">configureLoopbackForIPv4()</a>, <a class="el" href="_routing_table_8cc_source.html#l00118">configureRouterId()</a>, <a class="el" href="_routing_table_8cc_source.html#l00236">gatherAddresses()</a>, <a class="el" href="_routing_table_8cc_source.html#l00256">getInterfaceByAddress()</a>, <a class="el" href="_routing_table_8cc_source.html#l00059">initialize()</a>, <a class="el" href="_routing_table_8cc_source.html#l00287">isLocalAddress()</a>, <a class="el" href="_routing_table_8cc_source.html#l00305">isLocalMulticastAddress()</a>, and <a class="el" href="_routing_table_8cc_source.html#l00496">updateNetmaskRoutes()</a>.</p>

</div>
</div>
<a class="anchor" id="ab1fae735c632287a00881b1b6eb24271"></a><!-- doxytag: member="RoutingTable::IPForward" ref="ab1fae735c632287a00881b1b6eb24271" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_routing_table.html#ab1fae735c632287a00881b1b6eb24271">RoutingTable::IPForward</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_routing_table_8h_source.html#l00079">79</a> of file <a class="el" href="_routing_table_8h_source.html">RoutingTable.h</a>.</p>

<p>Referenced by <a class="el" href="_routing_table_8cc_source.html#l00059">initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="a732fcc528f888d4318dfe00220df230b"></a><!-- doxytag: member="RoutingTable::localAddresses" ref="a732fcc528f888d4318dfe00220df230b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_routing_table.html#a03c156a848e9829fe58cf3c56ac120ca">AddressSet</a> <a class="el" href="class_routing_table.html#a732fcc528f888d4318dfe00220df230b">RoutingTable::localAddresses</a><code> [mutable, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_routing_table_8h_source.html#l00094">94</a> of file <a class="el" href="_routing_table_8h_source.html">RoutingTable.h</a>.</p>

<p>Referenced by <a class="el" href="_routing_table_8cc_source.html#l00219">invalidateCache()</a>, and <a class="el" href="_routing_table_8cc_source.html#l00287">isLocalAddress()</a>.</p>

</div>
</div>
<a class="anchor" id="afe79828397a7768771315c2099734d55"></a><!-- doxytag: member="RoutingTable::multicastRoutes" ref="afe79828397a7768771315c2099734d55" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_routing_table.html#ad55f1d5e9420dcd2ef718698dd8d8d52">RouteVector</a> <a class="el" href="class_routing_table.html#afe79828397a7768771315c2099734d55">RoutingTable::multicastRoutes</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_routing_table_8h_source.html#l00086">86</a> of file <a class="el" href="_routing_table_8h_source.html">RoutingTable.h</a>.</p>

<p>Referenced by <a class="el" href="_routing_table_8cc_source.html#l00417">addRoute()</a>, <a class="el" href="_routing_table_8cc_source.html#l00450">deleteRoute()</a>, <a class="el" href="_routing_table_8cc_source.html#l00362">getMulticastRoutesFor()</a>, <a class="el" href="_routing_table_8cc_source.html#l00383">getNumRoutes()</a>, <a class="el" href="_routing_table_8cc_source.html#l00388">getRoute()</a>, <a class="el" href="_routing_table_8cc_source.html#l00059">initialize()</a>, <a class="el" href="_routing_table_8cc_source.html#l00147">updateDisplayString()</a>, and <a class="el" href="_routing_table_8cc_source.html#l00051">~RoutingTable()</a>.</p>

</div>
</div>
<a class="anchor" id="a5c4641496d9964ea8422157447691880"></a><!-- doxytag: member="RoutingTable::nb" ref="a5c4641496d9964ea8422157447691880" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_notification_board.html">NotificationBoard</a>* <a class="el" href="class_routing_table.html#a5c4641496d9964ea8422157447691880">RoutingTable::nb</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_routing_table_8h_source.html#l00076">76</a> of file <a class="el" href="_routing_table_8h_source.html">RoutingTable.h</a>.</p>

<p>Referenced by <a class="el" href="_routing_table_8cc_source.html#l00417">addRoute()</a>, <a class="el" href="_routing_table_8cc_source.html#l00450">deleteRoute()</a>, and <a class="el" href="_routing_table_8cc_source.html#l00059">initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="aadbf86bac1497193ccdd137f34610551"></a><!-- doxytag: member="RoutingTable::routerId" ref="aadbf86bac1497193ccdd137f34610551" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_p_address.html">IPAddress</a> <a class="el" href="class_routing_table.html#aadbf86bac1497193ccdd137f34610551">RoutingTable::routerId</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_routing_table_8h_source.html#l00078">78</a> of file <a class="el" href="_routing_table_8h_source.html">RoutingTable.h</a>.</p>

<p>Referenced by <a class="el" href="_routing_table_8cc_source.html#l00118">configureRouterId()</a>, <a class="el" href="_routing_table_8cc_source.html#l00059">initialize()</a>, and <a class="el" href="_routing_table_8cc_source.html#l00147">updateDisplayString()</a>.</p>

</div>
</div>
<a class="anchor" id="a74b73efea6f1bd7d452714ce396da47a"></a><!-- doxytag: member="RoutingTable::routes" ref="a74b73efea6f1bd7d452714ce396da47a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_routing_table.html#ad55f1d5e9420dcd2ef718698dd8d8d52">RouteVector</a> <a class="el" href="class_routing_table.html#a74b73efea6f1bd7d452714ce396da47a">RoutingTable::routes</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_routing_table_8h_source.html#l00085">85</a> of file <a class="el" href="_routing_table_8h_source.html">RoutingTable.h</a>.</p>

<p>Referenced by <a class="el" href="_routing_table_8cc_source.html#l00417">addRoute()</a>, <a class="el" href="_routing_table_8cc_source.html#l00201">deleteInterfaceRoutes()</a>, <a class="el" href="_routing_table_8cc_source.html#l00450">deleteRoute()</a>, <a class="el" href="_routing_table_8cc_source.html#l00319">findBestMatchingRoute()</a>, <a class="el" href="_routing_table_8cc_source.html#l00398">getDefaultRoute()</a>, <a class="el" href="_routing_table_8cc_source.html#l00383">getNumRoutes()</a>, <a class="el" href="_routing_table_8cc_source.html#l00388">getRoute()</a>, <a class="el" href="_routing_table_8cc_source.html#l00059">initialize()</a>, <a class="el" href="_routing_table_8cc_source.html#l00147">updateDisplayString()</a>, <a class="el" href="_routing_table_8cc_source.html#l00496">updateNetmaskRoutes()</a>, and <a class="el" href="_routing_table_8cc_source.html#l00051">~RoutingTable()</a>.</p>

</div>
</div>
<a class="anchor" id="ac2aeac5d70e440d6ad1b3d560029f277"></a><!-- doxytag: member="RoutingTable::routingCache" ref="ac2aeac5d70e440d6ad1b3d560029f277" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_routing_table.html#a5db50e6eede34e665f3e93089e8fbe5b">RoutingCache</a> <a class="el" href="class_routing_table.html#ac2aeac5d70e440d6ad1b3d560029f277">RoutingTable::routingCache</a><code> [mutable, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_routing_table_8h_source.html#l00090">90</a> of file <a class="el" href="_routing_table_8h_source.html">RoutingTable.h</a>.</p>

<p>Referenced by <a class="el" href="_routing_table_8cc_source.html#l00319">findBestMatchingRoute()</a>, and <a class="el" href="_routing_table_8cc_source.html#l00219">invalidateCache()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_routing_table_8h_source.html">RoutingTable.h</a></li>
<li><a class="el" href="_routing_table_8cc_source.html">RoutingTable.cc</a></li>
</ul>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="class_routing_table.html">RoutingTable</a>      </li>

    <li class="footer">Generated on Thu Aug 30 2012 22:56:51 for INET Framework for OMNeT++/OMNEST by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
