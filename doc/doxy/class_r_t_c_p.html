<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>INET Framework for OMNeT++/OMNEST: RTCP Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">INET Framework for OMNeT++/OMNEST
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_r_t_c_p.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">RTCP Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="RTCP" -->
<p>The class <a class="el" href="class_r_t_c_p.html" title="The class RTCP is responsible for creating, receiving and processing of rtcp packets.">RTCP</a> is responsible for creating, receiving and processing of rtcp packets.  
 <a href="class_r_t_c_p.html#details">More...</a></p>

<p><code>#include &lt;RTCP.h&gt;</code></p>

<p><a href="class_r_t_c_p-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#ae47dff2f8e8e2810242c85920aa1ee65">RTCP</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#ab9a1ae0bfe0eeec26865849c35b72295">~RTCP</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a3e235e77d30ea267a343b1a004af00c0">initialize</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes variables.  <a href="#a3e235e77d30ea267a343b1a004af00c0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#ae9376f3daed572f57e4f95951a992eef">handleMessage</a> (cMessage *msg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Message handling.  <a href="#ae9376f3daed572f57e4f95951a992eef"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a45c9f2d30acd3d63602c1086d07aecfc">handleMessageFromRTP</a> (cMessage *msg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles messages from the <a class="el" href="class_r_t_p.html" title="An RTP is the center of the RTP layer of an endsystem.">RTP</a> module.  <a href="#a45c9f2d30acd3d63602c1086d07aecfc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#aac36ed16b31f33e8eefd5236b44bd32f">handleMessageFromUDP</a> (cMessage *msg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles messages coming from the socket layer.  <a href="#aac36ed16b31f33e8eefd5236b44bd32f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#aacabb9bc545685dc97a2ffe380a6de41">handleSelfMessage</a> (cMessage *msg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles self messages.  <a href="#aacabb9bc545685dc97a2ffe380a6de41"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#ad5e877e02b8ee6557cb9bb2dda8e8647">handleInitializeRTCP</a> (<a class="el" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a> *rinp)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the rtcp module when the session is started.  <a href="#ad5e877e02b8ee6557cb9bb2dda8e8647"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a020222a3483e3637efab0c209ab1bd63">handleSenderModuleInitialized</a> (<a class="el" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a> *rinp)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores information about the new transmission.  <a href="#a020222a3483e3637efab0c209ab1bd63"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a631192d702409bd6efb48c6fbb4e9a2c">handleDataOut</a> (<a class="el" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a> *packet)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores information about an outgoing <a class="el" href="class_r_t_p.html" title="An RTP is the center of the RTP layer of an endsystem.">RTP</a> data packet.  <a href="#a631192d702409bd6efb48c6fbb4e9a2c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#afb3f7e85e38734864551a76bf682beae">handleDataIn</a> (<a class="el" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a> *rinp)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores information about an outgoing <a class="el" href="class_r_t_p.html" title="An RTP is the center of the RTP layer of an endsystem.">RTP</a> data packet.  <a href="#afb3f7e85e38734864551a76bf682beae"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a39e2facd0ec7dca05184d053fc669832">handleLeaveSession</a> (<a class="el" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a> *rinp)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes the rtcp module send an <a class="el" href="class_r_t_c_p_bye_packet.html">RTCPByePacket</a> in the next <a class="el" href="class_r_t_c_p_compound_packet.html">RTCPCompoundPacket</a> to tell other participants in the <a class="el" href="class_r_t_p.html" title="An RTP is the center of the RTP layer of an endsystem.">RTP</a> session that this end system leaves.  <a href="#a39e2facd0ec7dca05184d053fc669832"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a19a9c3795f2cd2f47d29ffc295f7927f">connectRet</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when the socket layer has finished a connect.  <a href="#a19a9c3795f2cd2f47d29ffc295f7927f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#aba758ab1ab089113257066ed604f592d">readRet</a> (cPacket *sifpIn)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when this rtcp module receives data from the socket layer.  <a href="#aba758ab1ab089113257066ed604f592d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a8b5d9bbd0415a34d04522a65a080fede">createSocket</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Request a server socket from the socket layer.  <a href="#a8b5d9bbd0415a34d04522a65a080fede"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#ae740cefae3be02ec4ff778aff176df85">chooseSSRC</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Chooses the ssrc identifier for this end system.  <a href="#ae740cefae3be02ec4ff778aff176df85"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#ad0c374e283d184b19c7c67f0cef8a82b">scheduleInterval</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the length of the next rtcp interval an issues a self message to remind itself.  <a href="#ad0c374e283d184b19c7c67f0cef8a82b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a2cc04b02279a36be154bac046869bdd4">createPacket</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates and sends an <a class="el" href="class_r_t_c_p_compound_packet.html">RTCPCompoundPacket</a>.  <a href="#a2cc04b02279a36be154bac046869bdd4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a8799abb9a95f0c3e6c884df9daa3735f">processOutgoingRTPPacket</a> (<a class="el" href="class_r_t_p_packet.html">RTPPacket</a> *packet)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts information of a sent <a class="el" href="class_r_t_p_packet.html" title="This class represents an RTP data packet.">RTPPacket</a>.  <a href="#a8799abb9a95f0c3e6c884df9daa3735f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a8795bc16fad22782b0f36e1c577fd9de">processIncomingRTPPacket</a> (<a class="el" href="class_r_t_p_packet.html">RTPPacket</a> *packet, <a class="el" href="class_i_pv4_address.html">IPv4Address</a> address, int port)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts information of a received <a class="el" href="class_r_t_p_packet.html" title="This class represents an RTP data packet.">RTPPacket</a>.  <a href="#a8795bc16fad22782b0f36e1c577fd9de"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a8e45e0ec7a8f0a241521aef900a2af11">processIncomingRTCPPacket</a> (<a class="el" href="class_r_t_c_p_compound_packet.html">RTCPCompoundPacket</a> *packet, <a class="el" href="class_i_pv4_address.html">IPv4Address</a> address, int port)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Extracts information of a received <a class="el" href="class_r_t_c_p_compound_packet.html">RTCPCompoundPacket</a>.  <a href="#a8e45e0ec7a8f0a241521aef900a2af11"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a05f95ca9553c92fa9029110f211269a8">processIncomingRTCPSenderReportPacket</a> (<a class="el" href="class_r_t_c_p_sender_report_packet.html">RTCPSenderReportPacket</a> *rtcpSenderReportPacket, <a class="el" href="class_i_pv4_address.html">IPv4Address</a> address, int port)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a41b0eb83b537ded273fcf9974f530e0e">processIncomingRTCPReceiverReportPacket</a> (<a class="el" href="class_r_t_c_p_receiver_report_packet.html">RTCPReceiverReportPacket</a> *rtcpReceiverReportPacket, <a class="el" href="class_i_pv4_address.html">IPv4Address</a> address, int port)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a65431723252a084b36f0e1ca9e62c67a">processIncomingRTCPSDESPacket</a> (<a class="el" href="class_r_t_c_p_s_d_e_s_packet.html">RTCPSDESPacket</a> *rtcpSDESPacket, <a class="el" href="class_i_pv4_address.html">IPv4Address</a> address, int port, simtime_t arrivalTime)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a20b7146fa351b16ce826f6ddfd2f8761">processIncomingRTCPByePacket</a> (<a class="el" href="class_r_t_c_p_bye_packet.html">RTCPByePacket</a> *rtcpByePacket, <a class="el" href="class_i_pv4_address.html">IPv4Address</a> address, int port)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_r_t_p_participant_info.html">RTPParticipantInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#afcf77f17784f2636811703bb0c78b47a">findParticipantInfo</a> (uint32 ssrc)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the <a class="el" href="class_r_t_p_participant_info.html" title="This class is a super class for classes intended for storing information about RTP end systems...">RTPParticipantInfo</a> object used for storing information about the <a class="el" href="class_r_t_p.html" title="An RTP is the center of the RTP layer of an endsystem.">RTP</a> end system with this ssrc identifier.  <a href="#afcf77f17784f2636811703bb0c78b47a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a9911519c66f47604df0e8bff0d0670d1">calculateAveragePacketSize</a> (int size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Recalculates the average size of an <a class="el" href="class_r_t_c_p_compound_packet.html">RTCPCompoundPacket</a> when one of this size has been sent or received.  <a href="#a9911519c66f47604df0e8bff0d0670d1"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a37a772bdd0760827d4ec3854dbc29228">_mtu</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum size an RTCPCompundPacket can have.  <a href="#a37a772bdd0760827d4ec3854dbc29228"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#ac0c26bf355a113db3fc7516e5ef9f6f4">_bandwidth</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The bandwidth for this <a class="el" href="class_r_t_p.html" title="An RTP is the center of the RTP layer of an endsystem.">RTP</a> session.  <a href="#ac0c26bf355a113db3fc7516e5ef9f6f4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#aba2346f5ac50ddbce83c972712113611">_rtcpPercentage</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The percentage of bandwidth for rtcp.  <a href="#aba2346f5ac50ddbce83c972712113611"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_i_pv4_address.html">IPv4Address</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a8763574867ebbfe55b72c1fb196f5614">_destinationAddress</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The destination address.  <a href="#a8763574867ebbfe55b72c1fb196f5614"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a5e94424b09d99ecd8bfa7a9bf9584a0d">_port</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The rtcp port.  <a href="#a5e94424b09d99ecd8bfa7a9bf9584a0d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a312d956dfe0cee660f64c7eff866f97f">_ssrcChosen</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">True when this end system has chosen its ssrc identifier.  <a href="#a312d956dfe0cee660f64c7eff866f97f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a15f6dc294a91b2366caf4d781c7ec7c7">_leaveSession</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">True when this end system is about to leave the session.  <a href="#a15f6dc294a91b2366caf4d781c7ec7c7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_r_t_p_sender_info.html">RTPSenderInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae">_senderInfo</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="class_r_t_p_sender_info.html" title="The class RTPSenderInfo is used by an RTP end system for storing information about itself...">RTPSenderInfo</a> about this end system.  <a href="#a24fc77e46e9ef00d873a5197694681ae"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cArray&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#ad029b55a1f6e19af0713b5c14b24d6db">_participantInfos</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Information about all known <a class="el" href="class_r_t_p.html" title="An RTP is the center of the RTP layer of an endsystem.">RTP</a> end system participating in this <a class="el" href="class_r_t_p.html" title="An RTP is the center of the RTP layer of an endsystem.">RTP</a> session.  <a href="#ad029b55a1f6e19af0713b5c14b24d6db"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_u_d_p_socket.html">UDPSocket</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a8aff0b568950d3297f3b42235a792c94">_udpSocket</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="class_u_d_p.html" title="Implements the UDP protocol: encapsulates/decapsulates user data into/from UDP.">UDP</a> socket for sending/receiving rtcp packets.  <a href="#a8aff0b568950d3297f3b42235a792c94"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a71ec6dc615cd6418db3ed9bf24f4c586">_packetsCalculated</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of packets this rtcp module has calculated.  <a href="#a71ec6dc615cd6418db3ed9bf24f4c586"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a3e059e5417461a9698d70366c486041d">_averagePacketSize</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The average size of an <a class="el" href="class_r_t_c_p_compound_packet.html">RTCPCompoundPacket</a>.  <a href="#a3e059e5417461a9698d70366c486041d"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static simsignal_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a408e4413477b8df08505633bda7b361e">rcvdPkSignal</a> = SIMSIGNAL_NULL</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The output vector for statistical data about the behaviour of rtcp.  <a href="#a408e4413477b8df08505633bda7b361e"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>The class <a class="el" href="class_r_t_c_p.html" title="The class RTCP is responsible for creating, receiving and processing of rtcp packets.">RTCP</a> is responsible for creating, receiving and processing of rtcp packets. </p>
<p>It also keeps track of this and other <a class="el" href="class_r_t_p.html" title="An RTP is the center of the RTP layer of an endsystem.">RTP</a> end systems. </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae47dff2f8e8e2810242c85920aa1ee65"></a><!-- doxytag: member="RTCP::RTCP" ref="ae47dff2f8e8e2810242c85920aa1ee65" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_r_t_c_p.html#ae47dff2f8e8e2810242c85920aa1ee65">RTCP::RTCP</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae" title="The RTPSenderInfo about this end system.">_senderInfo</a> = <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab9a1ae0bfe0eeec26865849c35b72295"></a><!-- doxytag: member="RTCP::~RTCP" ref="ab9a1ae0bfe0eeec26865849c35b72295" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_r_t_c_p.html#ab9a1ae0bfe0eeec26865849c35b72295">RTCP::~RTCP</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (!<a class="code" href="class_r_t_c_p.html#a312d956dfe0cee660f64c7eff866f97f" title="True when this end system has chosen its ssrc identifier.">_ssrcChosen</a>)
        <span class="keyword">delete</span> <a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae" title="The RTPSenderInfo about this end system.">_senderInfo</a>;
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a9911519c66f47604df0e8bff0d0670d1"></a><!-- doxytag: member="RTCP::calculateAveragePacketSize" ref="a9911519c66f47604df0e8bff0d0670d1" args="(int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_r_t_c_p.html#a9911519c66f47604df0e8bff0d0670d1">RTCP::calculateAveragePacketSize</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Recalculates the average size of an <a class="el" href="class_r_t_c_p_compound_packet.html">RTCPCompoundPacket</a> when one of this size has been sent or received. </p>

<p>Referenced by <a class="el" href="class_r_t_c_p.html#a2cc04b02279a36be154bac046869bdd4">createPacket()</a>, and <a class="el" href="class_r_t_c_p.html#a8e45e0ec7a8f0a241521aef900a2af11">processIncomingRTCPPacket()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// add size of ip and udp header to given size before calculating</span>
<span class="preprocessor">#if 1</span>
<span class="preprocessor"></span>    <span class="keywordtype">double</span> sumPacketSize = (double)(<a class="code" href="class_r_t_c_p.html#a71ec6dc615cd6418db3ed9bf24f4c586" title="The number of packets this rtcp module has calculated.">_packetsCalculated</a>) * <a class="code" href="class_r_t_c_p.html#a3e059e5417461a9698d70366c486041d" title="The average size of an RTCPCompoundPacket.">_averagePacketSize</a>  + (double)(size + 20 + 8);
    <a class="code" href="class_r_t_c_p.html#a3e059e5417461a9698d70366c486041d" title="The average size of an RTCPCompoundPacket.">_averagePacketSize</a> = sumPacketSize / (double)(++<a class="code" href="class_r_t_c_p.html#a71ec6dc615cd6418db3ed9bf24f4c586" title="The number of packets this rtcp module has calculated.">_packetsCalculated</a>);
<span class="preprocessor">#else</span>
<span class="preprocessor"></span>    <a class="code" href="class_r_t_c_p.html#a3e059e5417461a9698d70366c486041d" title="The average size of an RTCPCompoundPacket.">_averagePacketSize</a> += ((double)(size + 20 + 8) - <a class="code" href="class_r_t_c_p.html#a3e059e5417461a9698d70366c486041d" title="The average size of an RTCPCompoundPacket.">_averagePacketSize</a>) / (<span class="keywordtype">double</span>)(++<a class="code" href="class_r_t_c_p.html#a71ec6dc615cd6418db3ed9bf24f4c586" title="The number of packets this rtcp module has calculated.">_packetsCalculated</a>);
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>}
</pre></div>
</div>
</div>
<a class="anchor" id="ae740cefae3be02ec4ff778aff176df85"></a><!-- doxytag: member="RTCP::chooseSSRC" ref="ae740cefae3be02ec4ff778aff176df85" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_r_t_c_p.html#ae740cefae3be02ec4ff778aff176df85">RTCP::chooseSSRC</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Chooses the ssrc identifier for this end system. </p>

<p>Referenced by <a class="el" href="class_r_t_c_p.html#aacabb9bc545685dc97a2ffe380a6de41">handleSelfMessage()</a>.</p>
<div class="fragment"><pre class="fragment">{
    uint32 ssrc = 0;
    <span class="keywordtype">bool</span> ssrcConflict = <span class="keyword">false</span>;
    <span class="keywordflow">do</span>
    {
        ssrc = intrand(0x7fffffff);
        ssrcConflict = <a class="code" href="class_r_t_c_p.html#afcf77f17784f2636811703bb0c78b47a" title="Returns the RTPParticipantInfo object used for storing information about the RTP end system with this...">findParticipantInfo</a>(ssrc) != <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
    } <span class="keywordflow">while</span> (ssrcConflict);

    ev &lt;&lt; <span class="stringliteral">&quot;chooseSSRC&quot;</span> &lt;&lt; ssrc;
    <a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae" title="The RTPSenderInfo about this end system.">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_participant_info.html#a8d51cf3076b81249906da2d6708bfb59" title="Sets the ssrc identifier.">setSsrc</a>(ssrc);
    <a class="code" href="class_r_t_c_p.html#ad029b55a1f6e19af0713b5c14b24d6db" title="Information about all known RTP end system participating in this RTP session.">_participantInfos</a>.add(<a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae" title="The RTPSenderInfo about this end system.">_senderInfo</a>);
    <a class="code" href="class_r_t_c_p.html#a312d956dfe0cee660f64c7eff866f97f" title="True when this end system has chosen its ssrc identifier.">_ssrcChosen</a> = <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a19a9c3795f2cd2f47d29ffc295f7927f"></a><!-- doxytag: member="RTCP::connectRet" ref="a19a9c3795f2cd2f47d29ffc295f7927f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_r_t_c_p.html#a19a9c3795f2cd2f47d29ffc295f7927f">RTCP::connectRet</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called when the socket layer has finished a connect. </p>

<p>Referenced by <a class="el" href="class_r_t_c_p.html#a8b5d9bbd0415a34d04522a65a080fede">createSocket()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// schedule first rtcp packet</span>
    <span class="keywordtype">double</span> intervalLength = 2.5 * (dblrand() + 0.5);
    cMessage *reminderMessage = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;Interval&quot;</span>);
    scheduleAt(simTime() + intervalLength, reminderMessage);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2cc04b02279a36be154bac046869bdd4"></a><!-- doxytag: member="RTCP::createPacket" ref="a2cc04b02279a36be154bac046869bdd4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_r_t_c_p.html#a2cc04b02279a36be154bac046869bdd4">RTCP::createPacket</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates and sends an <a class="el" href="class_r_t_c_p_compound_packet.html">RTCPCompoundPacket</a>. </p>

<p>Referenced by <a class="el" href="class_r_t_c_p.html#aacabb9bc545685dc97a2ffe380a6de41">handleSelfMessage()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// first packet in an rtcp compound packet must</span>
    <span class="comment">// be a sender or receiver report</span>
    <a class="code" href="class_r_t_c_p_receiver_report_packet.html">RTCPReceiverReportPacket</a> *reportPacket;

    <span class="comment">// if this rtcp end system is a sender (see SenderInformation::isSender() for</span>
    <span class="comment">// details) insert a sender report</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae" title="The RTPSenderInfo about this end system.">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_participant_info.html#a092d10a76104fe77fab01038b6d75436" title="Returns true if this endsystem has sent at least one RTP data packet during the last two rtcp interva...">isSender</a>())
    {
        <a class="code" href="class_r_t_c_p_sender_report_packet.html">RTCPSenderReportPacket</a> *senderReportPacket = <span class="keyword">new</span> <a class="code" href="class_r_t_c_p_sender_report_packet.html">RTCPSenderReportPacket</a>(<span class="stringliteral">&quot;SenderReportPacket&quot;</span>);
        <a class="code" href="class_sender_report.html" title="The class SenderReport represents an RTP sender report as contained in an RTCPSenderReportPacket.">SenderReport</a> *senderReport = <a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae" title="The RTPSenderInfo about this end system.">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_sender_info.html#ad3adce49b84ea2ac18f4e1b8aa599904" title="Returns a SenderReport for this rtp endsystem.">senderReport</a>(simTime());
        senderReportPacket-&gt;<a class="code" href="class_r_t_c_p_sender_report_packet___base.html#aabc51785ab17411fb727aa1e8ce6724f">setSenderReport</a>(*senderReport);
        <span class="keyword">delete</span> senderReport;
        reportPacket = senderReportPacket;
    }
    <span class="keywordflow">else</span>
        reportPacket = <span class="keyword">new</span> <a class="code" href="class_r_t_c_p_receiver_report_packet.html">RTCPReceiverReportPacket</a>(<span class="stringliteral">&quot;ReceiverReportPacket&quot;</span>);
    reportPacket-&gt;<a class="code" href="class_r_t_c_p_receiver_report_packet___base.html#a450e0359434b25e0eeb42e064ddd0742">setSsrc</a>(<a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae" title="The RTPSenderInfo about this end system.">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_participant_info.html#ad246021768db2a6ec5a2ccfb9da460c6" title="Returns the ssrc identifier of the RTP endsystem.">getSsrc</a>());

    <span class="comment">// insert receiver reports for packets from other sources</span>
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="class_r_t_c_p.html#ad029b55a1f6e19af0713b5c14b24d6db" title="Information about all known RTP end system participating in this RTP session.">_participantInfos</a>.size(); i++)
    {
        <span class="keywordflow">if</span> (<a class="code" href="class_r_t_c_p.html#ad029b55a1f6e19af0713b5c14b24d6db" title="Information about all known RTP end system participating in this RTP session.">_participantInfos</a>.exist(i))
        {
            <a class="code" href="class_r_t_p_participant_info.html" title="This class is a super class for classes intended for storing information about RTP end systems...">RTPParticipantInfo</a> *participantInfo = (<a class="code" href="class_r_t_p_participant_info.html" title="This class is a super class for classes intended for storing information about RTP end systems...">RTPParticipantInfo</a> *)(<a class="code" href="class_r_t_c_p.html#ad029b55a1f6e19af0713b5c14b24d6db" title="Information about all known RTP end system participating in this RTP session.">_participantInfos</a>.get(i));
            <span class="keywordflow">if</span> (participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info.html#ad246021768db2a6ec5a2ccfb9da460c6" title="Returns the ssrc identifier of the RTP endsystem.">getSsrc</a>() != <a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae" title="The RTPSenderInfo about this end system.">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_participant_info.html#ad246021768db2a6ec5a2ccfb9da460c6" title="Returns the ssrc identifier of the RTP endsystem.">getSsrc</a>())
            {
                <a class="code" href="class_reception_report.html" title="The class ReceptionReport represents an RTP receiver report stored in an RTPSenderReportPacket or RTP...">ReceptionReport</a> *report = ((<a class="code" href="class_r_t_p_receiver_info.html" title="This class, a subclass of RTPParticipantInfo, is used for storing information about other RTP endsyst...">RTPReceiverInfo</a> *)participantInfo)-&gt;receptionReport(simTime());
                <span class="keywordflow">if</span> (report != <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
                {
                    reportPacket-&gt;<a class="code" href="class_r_t_c_p_receiver_report_packet.html#a1e0ca4e59064efaa6f06e44ee469ece3" title="Adds a receiver report to this receiver report packet.">addReceptionReport</a>(report);
                }
            }
            participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info.html#adf514b2c4e9d39b048c04ea352858730" title="This method should be called by the rtcp module which uses this class for storing information every t...">nextInterval</a>(simTime());

            <span class="keywordflow">if</span> (participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info.html#a0d06aeea1debd1107de412d3778b7993" title="Returns true if the end system does no longer participate in the RTP session.">toBeDeleted</a>(simTime()))
            {
                <a class="code" href="class_r_t_c_p.html#ad029b55a1f6e19af0713b5c14b24d6db" title="Information about all known RTP end system participating in this RTP session.">_participantInfos</a>.remove(participantInfo);
                <span class="keyword">delete</span> participantInfo;
                <span class="comment">// perhaps inform the profile</span>
            }
        }
    }

    <span class="comment">// insert source description items (at least common name)</span>
    <a class="code" href="class_r_t_c_p_s_d_e_s_packet.html">RTCPSDESPacket</a> *sdesPacket = <span class="keyword">new</span> <a class="code" href="class_r_t_c_p_s_d_e_s_packet.html">RTCPSDESPacket</a>(<span class="stringliteral">&quot;SDESPacket&quot;</span>);

    <a class="code" href="class_s_d_e_s_chunk.html" title="The class SDESChunk is used for storing SDESItem objects for one rtp end system.">SDESChunk</a> *<a class="code" href="structchunk.html">chunk</a> = <a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae" title="The RTPSenderInfo about this end system.">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_participant_info.html#a9c93e3d29247ba752aad0f047c10c391" title="Returns a copy of the sdes chunk used for storing source description items about this system...">getSDESChunk</a>();
    sdesPacket-&gt;<a class="code" href="class_r_t_c_p_s_d_e_s_packet.html#aad4bed0e2efc76b83a75c355104843ff">addSDESChunk</a>(chunk);

    <a class="code" href="class_r_t_c_p_compound_packet.html">RTCPCompoundPacket</a> *compoundPacket = <span class="keyword">new</span> <a class="code" href="class_r_t_c_p_compound_packet.html">RTCPCompoundPacket</a>(<span class="stringliteral">&quot;RTCPCompoundPacket&quot;</span>);

    compoundPacket-&gt;<a class="code" href="class_r_t_c_p_compound_packet.html#a39b607e24de376606edfc539c9ad16f9">addRTCPPacket</a>(reportPacket);
    compoundPacket-&gt;<a class="code" href="class_r_t_c_p_compound_packet.html#a39b607e24de376606edfc539c9ad16f9">addRTCPPacket</a>(sdesPacket);

    <span class="comment">// create rtcp app/bye packets if needed</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_r_t_c_p.html#a15f6dc294a91b2366caf4d781c7ec7c7" title="True when this end system is about to leave the session.">_leaveSession</a>)
    {
        <a class="code" href="class_r_t_c_p_bye_packet.html">RTCPByePacket</a> *byePacket = <span class="keyword">new</span> <a class="code" href="class_r_t_c_p_bye_packet.html">RTCPByePacket</a>(<span class="stringliteral">&quot;ByePacket&quot;</span>);
        byePacket-&gt;<a class="code" href="class_r_t_c_p_bye_packet___base.html#a7a2aada9071f2bc5e5613ef786f882a7">setSsrc</a>(<a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae" title="The RTPSenderInfo about this end system.">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_participant_info.html#ad246021768db2a6ec5a2ccfb9da460c6" title="Returns the ssrc identifier of the RTP endsystem.">getSsrc</a>());
        compoundPacket-&gt;<a class="code" href="class_r_t_c_p_compound_packet.html#a39b607e24de376606edfc539c9ad16f9">addRTCPPacket</a>(byePacket);
    }

    <a class="code" href="class_r_t_c_p.html#a9911519c66f47604df0e8bff0d0670d1" title="Recalculates the average size of an RTCPCompoundPacket when one of this size has been sent or receive...">calculateAveragePacketSize</a>(compoundPacket-&gt;getByteLength());

    cPacket *msg = <span class="keyword">new</span> cPacket(<span class="stringliteral">&quot;RTCPCompoundPacket&quot;</span>);
    msg-&gt;encapsulate(compoundPacket);
    <a class="code" href="class_r_t_c_p.html#a8aff0b568950d3297f3b42235a792c94" title="The UDP socket for sending/receiving rtcp packets.">_udpSocket</a>.<a class="code" href="class_u_d_p_socket.html#a0a5c9846b6419c8174eec3225456f661" title="Sends a data packet to the given address and port.">sendTo</a>(msg, <a class="code" href="class_r_t_c_p.html#a8763574867ebbfe55b72c1fb196f5614" title="The destination address.">_destinationAddress</a>, <a class="code" href="class_r_t_c_p.html#a5e94424b09d99ecd8bfa7a9bf9584a0d" title="The rtcp port.">_port</a>);

    <span class="keywordflow">if</span> (<a class="code" href="class_r_t_c_p.html#a15f6dc294a91b2366caf4d781c7ec7c7" title="True when this end system is about to leave the session.">_leaveSession</a>)
    {
        <a class="code" href="class_r_t_p_inner_packet.html" title="This class is used for communication between submodules of the RTP layer module.">RTPInnerPacket</a> *rinp = <span class="keyword">new</span> <a class="code" href="class_r_t_p_inner_packet.html" title="This class is used for communication between submodules of the RTP layer module.">RTPInnerPacket</a>(<span class="stringliteral">&quot;sessionLeft()&quot;</span>);
        rinp-&gt;<a class="code" href="class_r_t_p_inner_packet.html#a9a8c18e7aecd94e820dcc7f782fa2ba0" title="Called by the rtcp module when the rtcp bye packet has been sent to the network.">setSessionLeftPkt</a>();
        send(rinp, <span class="stringliteral">&quot;rtpOut&quot;</span>);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8b5d9bbd0415a34d04522a65a080fede"></a><!-- doxytag: member="RTCP::createSocket" ref="a8b5d9bbd0415a34d04522a65a080fede" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_r_t_c_p.html#a8b5d9bbd0415a34d04522a65a080fede">RTCP::createSocket</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Request a server socket from the socket layer. </p>

<p>Referenced by <a class="el" href="class_r_t_c_p.html#ad5e877e02b8ee6557cb9bb2dda8e8647">handleInitializeRTCP()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_r_t_c_p.html#a8aff0b568950d3297f3b42235a792c94" title="The UDP socket for sending/receiving rtcp packets.">_udpSocket</a>.<a class="code" href="class_u_d_p_socket.html#a4f85cea0efe5b7963fbc4103bad665c3" title="Bind the socket to a local port number.">bind</a>(<a class="code" href="class_r_t_c_p.html#a5e94424b09d99ecd8bfa7a9bf9584a0d" title="The rtcp port.">_port</a>);  <span class="comment">//XXX this will fail if this function is invoked multiple times; not sure that may (or is expected to) happen</span>
    <a class="code" href="class_r_t_c_p.html#a8aff0b568950d3297f3b42235a792c94" title="The UDP socket for sending/receiving rtcp packets.">_udpSocket</a>.<a class="code" href="class_u_d_p_socket.html#a43f5a3fde0f3ef5834e8dab1ceaf80a3" title="Joins the socket to each multicast group that are registered with any of the interfaces.">joinLocalMulticastGroups</a>(); <span class="comment">//TODO make it parameter-dependent</span>
    <a class="code" href="class_r_t_c_p.html#a19a9c3795f2cd2f47d29ffc295f7927f" title="Called when the socket layer has finished a connect.">connectRet</a>();
}
</pre></div>
</div>
</div>
<a class="anchor" id="afcf77f17784f2636811703bb0c78b47a"></a><!-- doxytag: member="RTCP::findParticipantInfo" ref="afcf77f17784f2636811703bb0c78b47a" args="(uint32 ssrc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_r_t_p_participant_info.html">RTPParticipantInfo</a> * <a class="el" href="class_r_t_c_p.html#afcf77f17784f2636811703bb0c78b47a">RTCP::findParticipantInfo</a> </td>
          <td>(</td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>ssrc</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the <a class="el" href="class_r_t_p_participant_info.html" title="This class is a super class for classes intended for storing information about RTP end systems...">RTPParticipantInfo</a> object used for storing information about the <a class="el" href="class_r_t_p.html" title="An RTP is the center of the RTP layer of an endsystem.">RTP</a> end system with this ssrc identifier. </p>
<p>Returns NULL if this end system is unknown. </p>

<p>Referenced by <a class="el" href="class_r_t_c_p.html#ae740cefae3be02ec4ff778aff176df85">chooseSSRC()</a>, <a class="el" href="class_r_t_c_p.html#a20b7146fa351b16ce826f6ddfd2f8761">processIncomingRTCPByePacket()</a>, <a class="el" href="class_r_t_c_p.html#a41b0eb83b537ded273fcf9974f530e0e">processIncomingRTCPReceiverReportPacket()</a>, <a class="el" href="class_r_t_c_p.html#a65431723252a084b36f0e1ca9e62c67a">processIncomingRTCPSDESPacket()</a>, <a class="el" href="class_r_t_c_p.html#a05f95ca9553c92fa9029110f211269a8">processIncomingRTCPSenderReportPacket()</a>, and <a class="el" href="class_r_t_c_p.html#a8795bc16fad22782b0f36e1c577fd9de">processIncomingRTPPacket()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">char</span> *ssrcString = <a class="code" href="class_r_t_p_participant_info.html#aadc8ba99aff7c392738703dc4a8c4797" title="This method returns the given 32 bit ssrc identifier as an 8 character hexadecimal number which is us...">RTPParticipantInfo::ssrcToName</a>(ssrc);
    <span class="keywordflow">return</span> (<a class="code" href="class_r_t_p_participant_info.html" title="This class is a super class for classes intended for storing information about RTP end systems...">RTPParticipantInfo</a> *)(<a class="code" href="class_r_t_c_p.html#ad029b55a1f6e19af0713b5c14b24d6db" title="Information about all known RTP end system participating in this RTP session.">_participantInfos</a>.get(ssrcString));
}
</pre></div>
</div>
</div>
<a class="anchor" id="afb3f7e85e38734864551a76bf682beae"></a><!-- doxytag: member="RTCP::handleDataIn" ref="afb3f7e85e38734864551a76bf682beae" args="(RTPInnerPacket *rinp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_r_t_c_p.html#afb3f7e85e38734864551a76bf682beae">RTCP::handleDataIn</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a> *&#160;</td>
          <td class="paramname"><em>rinp</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stores information about an outgoing <a class="el" href="class_r_t_p.html" title="An RTP is the center of the RTP layer of an endsystem.">RTP</a> data packet. </p>

<p>Referenced by <a class="el" href="class_r_t_c_p.html#a45c9f2d30acd3d63602c1086d07aecfc">handleMessageFromRTP()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_r_t_p_packet.html" title="This class represents an RTP data packet.">RTPPacket</a> *rtpPacket = check_and_cast&lt;<a class="code" href="class_r_t_p_packet.html" title="This class represents an RTP data packet.">RTPPacket</a> *&gt;(rinp-&gt;decapsulate());
    <span class="comment">//rtpPacket-&gt;dump();</span>
    <a class="code" href="class_r_t_c_p.html#a8795bc16fad22782b0f36e1c577fd9de" title="Extracts information of a received RTPPacket.">processIncomingRTPPacket</a>(rtpPacket, rinp-&gt;<a class="code" href="class_r_t_p_inner_packet___base.html#a36050c23a2a3088662fd068edb3e0d30">getAddress</a>(), rinp-&gt;<a class="code" href="class_r_t_p_inner_packet___base.html#a0096cd117171d5933bd60d38780d2045">getPort</a>());
}
</pre></div>
</div>
</div>
<a class="anchor" id="a631192d702409bd6efb48c6fbb4e9a2c"></a><!-- doxytag: member="RTCP::handleDataOut" ref="a631192d702409bd6efb48c6fbb4e9a2c" args="(RTPInnerPacket *packet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_r_t_c_p.html#a631192d702409bd6efb48c6fbb4e9a2c">RTCP::handleDataOut</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a> *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stores information about an outgoing <a class="el" href="class_r_t_p.html" title="An RTP is the center of the RTP layer of an endsystem.">RTP</a> data packet. </p>

<p>Referenced by <a class="el" href="class_r_t_c_p.html#a45c9f2d30acd3d63602c1086d07aecfc">handleMessageFromRTP()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_r_t_p_packet.html" title="This class represents an RTP data packet.">RTPPacket</a> *rtpPacket = check_and_cast&lt;<a class="code" href="class_r_t_p_packet.html" title="This class represents an RTP data packet.">RTPPacket</a> *&gt;(packet-&gt;decapsulate());
    <a class="code" href="class_r_t_c_p.html#a8799abb9a95f0c3e6c884df9daa3735f" title="Extracts information of a sent RTPPacket.">processOutgoingRTPPacket</a>(rtpPacket);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad5e877e02b8ee6557cb9bb2dda8e8647"></a><!-- doxytag: member="RTCP::handleInitializeRTCP" ref="ad5e877e02b8ee6557cb9bb2dda8e8647" args="(RTPInnerPacket *rinp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_r_t_c_p.html#ad5e877e02b8ee6557cb9bb2dda8e8647">RTCP::handleInitializeRTCP</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a> *&#160;</td>
          <td class="paramname"><em>rinp</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes the rtcp module when the session is started. </p>

<p>Referenced by <a class="el" href="class_r_t_c_p.html#a45c9f2d30acd3d63602c1086d07aecfc">handleMessageFromRTP()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_r_t_c_p.html#a37a772bdd0760827d4ec3854dbc29228" title="The maximum size an RTCPCompundPacket can have.">_mtu</a> = rinp-&gt;<a class="code" href="class_r_t_p_inner_packet.html#a28d94da5ec40d0498b8b25fde0d20067" title="Returns the maximum transmission unit stored in this RTPInnerPacket.">getMTU</a>();
    <a class="code" href="class_r_t_c_p.html#ac0c26bf355a113db3fc7516e5ef9f6f4" title="The bandwidth for this RTP session.">_bandwidth</a> = rinp-&gt;<a class="code" href="class_r_t_p_inner_packet___base.html#afe30b86d86b668d0c3a2398cbb64f340">getBandwidth</a>();
    <a class="code" href="class_r_t_c_p.html#aba2346f5ac50ddbce83c972712113611" title="The percentage of bandwidth for rtcp.">_rtcpPercentage</a> = rinp-&gt;<a class="code" href="class_r_t_p_inner_packet___base.html#ae198444cdd3809846e80d1b50a9b1a6a">getRtcpPercentage</a>();
    <a class="code" href="class_r_t_c_p.html#a8763574867ebbfe55b72c1fb196f5614" title="The destination address.">_destinationAddress</a> = rinp-&gt;<a class="code" href="class_r_t_p_inner_packet___base.html#a36050c23a2a3088662fd068edb3e0d30">getAddress</a>();
    <a class="code" href="class_r_t_c_p.html#a5e94424b09d99ecd8bfa7a9bf9584a0d" title="The rtcp port.">_port</a> = rinp-&gt;<a class="code" href="class_r_t_p_inner_packet___base.html#a0096cd117171d5933bd60d38780d2045">getPort</a>();

    <a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae" title="The RTPSenderInfo about this end system.">_senderInfo</a> = <span class="keyword">new</span> <a class="code" href="class_r_t_p_sender_info.html" title="The class RTPSenderInfo is used by an RTP end system for storing information about itself...">RTPSenderInfo</a>();

    <a class="code" href="class_s_d_e_s_item.html" title="The class SDESItem is used for storing a source description item (type of description, description string) for an RTP end system.">SDESItem</a> *sdesItem = <span class="keyword">new</span> <a class="code" href="class_s_d_e_s_item.html" title="The class SDESItem is used for storing a source description item (type of description, description string) for an RTP end system.">SDESItem</a>(<a class="code" href="class_s_d_e_s_item.html#a226500b98dc486edd2fc5c87c121de71a9fde35435f9f4afa26adc733f785173c">SDESItem::SDES_CNAME</a>, rinp-&gt;<a class="code" href="class_r_t_p_inner_packet___base.html#ab17461827c30b8cdccbd6a59291cfa51">getCommonName</a>());
    <a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae" title="The RTPSenderInfo about this end system.">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_participant_info.html#a77ca14d2ef8a28b1e7725f2923902dae" title="Adds this sdes item to the sdes chunk of this participant.">addSDESItem</a>(sdesItem);

    <span class="comment">// create server socket for receiving rtcp packets</span>
    <a class="code" href="class_r_t_c_p.html#a8b5d9bbd0415a34d04522a65a080fede" title="Request a server socket from the socket layer.">createSocket</a>();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a39e2facd0ec7dca05184d053fc669832"></a><!-- doxytag: member="RTCP::handleLeaveSession" ref="a39e2facd0ec7dca05184d053fc669832" args="(RTPInnerPacket *rinp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_r_t_c_p.html#a39e2facd0ec7dca05184d053fc669832">RTCP::handleLeaveSession</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a> *&#160;</td>
          <td class="paramname"><em>rinp</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Makes the rtcp module send an <a class="el" href="class_r_t_c_p_bye_packet.html">RTCPByePacket</a> in the next <a class="el" href="class_r_t_c_p_compound_packet.html">RTCPCompoundPacket</a> to tell other participants in the <a class="el" href="class_r_t_p.html" title="An RTP is the center of the RTP layer of an endsystem.">RTP</a> session that this end system leaves. </p>

<p>Referenced by <a class="el" href="class_r_t_c_p.html#a45c9f2d30acd3d63602c1086d07aecfc">handleMessageFromRTP()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_r_t_c_p.html#a15f6dc294a91b2366caf4d781c7ec7c7" title="True when this end system is about to leave the session.">_leaveSession</a> = <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae9376f3daed572f57e4f95951a992eef"></a><!-- doxytag: member="RTCP::handleMessage" ref="ae9376f3daed572f57e4f95951a992eef" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_r_t_c_p.html#ae9376f3daed572f57e4f95951a992eef">RTCP::handleMessage</a> </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Message handling. </p>
<p>Dispatches messages by arrival gate. </p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// first distinguish incoming messages by arrival gate</span>
    <span class="keywordflow">if</span> (msg-&gt;isSelfMessage())
    {
        <a class="code" href="class_r_t_c_p.html#aacabb9bc545685dc97a2ffe380a6de41" title="Handles self messages.">handleSelfMessage</a>(msg);
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msg-&gt;getArrivalGateId() == findGate(<span class="stringliteral">&quot;rtpIn&quot;</span>))
    {
        <a class="code" href="class_r_t_c_p.html#a45c9f2d30acd3d63602c1086d07aecfc" title="Handles messages from the RTP module.">handleMessageFromRTP</a>(msg);
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msg-&gt;getArrivalGateId() == findGate(<span class="stringliteral">&quot;udpIn&quot;</span>))
    {
        <a class="code" href="class_r_t_c_p.html#aac36ed16b31f33e8eefd5236b44bd32f" title="Handles messages coming from the socket layer.">handleMessageFromUDP</a>(msg);
    }
    <span class="keywordflow">else</span>
    {
        error(<span class="stringliteral">&quot;Message from unknown gate&quot;</span>);
    }

    <span class="keyword">delete</span> msg;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a45c9f2d30acd3d63602c1086d07aecfc"></a><!-- doxytag: member="RTCP::handleMessageFromRTP" ref="a45c9f2d30acd3d63602c1086d07aecfc" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_r_t_c_p.html#a45c9f2d30acd3d63602c1086d07aecfc">RTCP::handleMessageFromRTP</a> </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handles messages from the <a class="el" href="class_r_t_p.html" title="An RTP is the center of the RTP layer of an endsystem.">RTP</a> module. </p>

<p>Referenced by <a class="el" href="class_r_t_c_p.html#ae9376f3daed572f57e4f95951a992eef">handleMessage()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// from the rtp module all messages are of type RTPInnerPacket</span>
    <a class="code" href="class_r_t_p_inner_packet.html" title="This class is used for communication between submodules of the RTP layer module.">RTPInnerPacket</a> *rinp = check_and_cast&lt;<a class="code" href="class_r_t_p_inner_packet.html" title="This class is used for communication between submodules of the RTP layer module.">RTPInnerPacket</a> *&gt;(msg);

    <span class="comment">// distinguish by type</span>
    <span class="keywordflow">switch</span> (rinp-&gt;<a class="code" href="class_r_t_p_inner_packet___base.html#a0c366129da19a99eecf1acf4c2c69199">getType</a>())
    {
    <span class="keywordflow">case</span> <a class="code" href="_r_t_p_inner_packet__m_8h.html#a1094315dcfb6208f1fb509fc42fb9606a7b72efafd9d1936482d46ee806d5a16c">RTP_INP_INITIALIZE_RTCP</a>:
        <a class="code" href="class_r_t_c_p.html#ad5e877e02b8ee6557cb9bb2dda8e8647" title="Initializes the rtcp module when the session is started.">handleInitializeRTCP</a>(rinp);
        <span class="keywordflow">break</span>;

    <span class="keywordflow">case</span> <a class="code" href="_r_t_p_inner_packet__m_8h.html#a1094315dcfb6208f1fb509fc42fb9606a8ba4b0d836e0e21255d9e60e072c2ade">RTP_INP_SENDER_MODULE_INITIALIZED</a>:
        <a class="code" href="class_r_t_c_p.html#a020222a3483e3637efab0c209ab1bd63" title="Stores information about the new transmission.">handleSenderModuleInitialized</a>(rinp);
        <span class="keywordflow">break</span>;

    <span class="keywordflow">case</span> <a class="code" href="_r_t_p_inner_packet__m_8h.html#a1094315dcfb6208f1fb509fc42fb9606a0869f370426757c839ece5ce05a9ed4d">RTP_INP_DATA_OUT</a>:
        <a class="code" href="class_r_t_c_p.html#a631192d702409bd6efb48c6fbb4e9a2c" title="Stores information about an outgoing RTP data packet.">handleDataOut</a>(rinp);
        <span class="keywordflow">break</span>;

    <span class="keywordflow">case</span> <a class="code" href="_r_t_p_inner_packet__m_8h.html#a1094315dcfb6208f1fb509fc42fb9606abe27912797e277aa831f59cf26840fbe">RTP_INP_DATA_IN</a>:
        <a class="code" href="class_r_t_c_p.html#afb3f7e85e38734864551a76bf682beae" title="Stores information about an outgoing RTP data packet.">handleDataIn</a>(rinp);
        <span class="keywordflow">break</span>;

    <span class="keywordflow">case</span> <a class="code" href="_r_t_p_inner_packet__m_8h.html#a1094315dcfb6208f1fb509fc42fb9606a5952a7c32724bb524615043a09986d3c">RTP_INP_LEAVE_SESSION</a>:
        <a class="code" href="class_r_t_c_p.html#a39e2facd0ec7dca05184d053fc669832" title="Makes the rtcp module send an RTCPByePacket in the next RTCPCompoundPacket to tell other participants...">handleLeaveSession</a>(rinp);
        <span class="keywordflow">break</span>;

    <span class="keywordflow">default</span>:
        <span class="keywordflow">throw</span> cRuntimeError(<span class="stringliteral">&quot;Unknown RTPInnerPacket type&quot;</span>);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="aac36ed16b31f33e8eefd5236b44bd32f"></a><!-- doxytag: member="RTCP::handleMessageFromUDP" ref="aac36ed16b31f33e8eefd5236b44bd32f" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_r_t_c_p.html#aac36ed16b31f33e8eefd5236b44bd32f">RTCP::handleMessageFromUDP</a> </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handles messages coming from the socket layer. </p>

<p>Referenced by <a class="el" href="class_r_t_c_p.html#ae9376f3daed572f57e4f95951a992eef">handleMessage()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// from SocketLayer all message are of type cMessage</span>
    <a class="code" href="class_r_t_c_p.html#aba758ab1ab089113257066ed604f592d" title="Called when this rtcp module receives data from the socket layer.">readRet</a>(<a class="code" href="_i_n_e_t_defs_8h.html#ae5b816f7de3c5248c812bdb6920f4e06">PK</a>(msg));
}
</pre></div>
</div>
</div>
<a class="anchor" id="aacabb9bc545685dc97a2ffe380a6de41"></a><!-- doxytag: member="RTCP::handleSelfMessage" ref="aacabb9bc545685dc97a2ffe380a6de41" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_r_t_c_p.html#aacabb9bc545685dc97a2ffe380a6de41">RTCP::handleSelfMessage</a> </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handles self messages. </p>

<p>Referenced by <a class="el" href="class_r_t_c_p.html#ae9376f3daed572f57e4f95951a992eef">handleMessage()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// it&#39;s time to create an rtcp packet</span>
    <span class="keywordflow">if</span> (!<a class="code" href="class_r_t_c_p.html#a312d956dfe0cee660f64c7eff866f97f" title="True when this end system has chosen its ssrc identifier.">_ssrcChosen</a>)
    {
        <a class="code" href="class_r_t_c_p.html#ae740cefae3be02ec4ff778aff176df85" title="Chooses the ssrc identifier for this end system.">chooseSSRC</a>();
        <a class="code" href="class_r_t_p_inner_packet.html" title="This class is used for communication between submodules of the RTP layer module.">RTPInnerPacket</a> *rinp1 = <span class="keyword">new</span> <a class="code" href="class_r_t_p_inner_packet.html" title="This class is used for communication between submodules of the RTP layer module.">RTPInnerPacket</a>(<span class="stringliteral">&quot;rtcpInitialized()&quot;</span>);
        rinp1-&gt;<a class="code" href="class_r_t_p_inner_packet.html#af9df59692bcc73e29071836f5598e3ea" title="Called by the rtcp module after it has waited for half an rtcp interval for incoming messages from ot...">setRtcpInitializedPkt</a>(<a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae" title="The RTPSenderInfo about this end system.">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_participant_info.html#ad246021768db2a6ec5a2ccfb9da460c6" title="Returns the ssrc identifier of the RTP endsystem.">getSsrc</a>());
        send(rinp1, <span class="stringliteral">&quot;rtpOut&quot;</span>);
    }

    <a class="code" href="class_r_t_c_p.html#a2cc04b02279a36be154bac046869bdd4" title="Creates and sends an RTCPCompoundPacket.">createPacket</a>();

    <span class="keywordflow">if</span> (!<a class="code" href="class_r_t_c_p.html#a15f6dc294a91b2366caf4d781c7ec7c7" title="True when this end system is about to leave the session.">_leaveSession</a>)
    {
        <a class="code" href="class_r_t_c_p.html#ad0c374e283d184b19c7c67f0cef8a82b" title="Calculates the length of the next rtcp interval an issues a self message to remind itself...">scheduleInterval</a>();
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a020222a3483e3637efab0c209ab1bd63"></a><!-- doxytag: member="RTCP::handleSenderModuleInitialized" ref="a020222a3483e3637efab0c209ab1bd63" args="(RTPInnerPacket *rinp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_r_t_c_p.html#a020222a3483e3637efab0c209ab1bd63">RTCP::handleSenderModuleInitialized</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a> *&#160;</td>
          <td class="paramname"><em>rinp</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stores information about the new transmission. </p>

<p>Referenced by <a class="el" href="class_r_t_c_p.html#a45c9f2d30acd3d63602c1086d07aecfc">handleMessageFromRTP()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae" title="The RTPSenderInfo about this end system.">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_sender_info.html#ac4ce23ce45b86179cd97e47bfe0dffcf" title="Sets the time (simTime) when this endsystem has started sending rtp packets.">setStartTime</a>(simTime());
    <a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae" title="The RTPSenderInfo about this end system.">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_sender_info.html#a92394f8ef91777fcf18fdde60d639f6a" title="Sets the clock rate (in ticks per second) this sender increases the rtp time stamp.">setClockRate</a>(rinp-&gt;<a class="code" href="class_r_t_p_inner_packet___base.html#ae47d74b18747bff2dc7538e366fc012e">getClockRate</a>());
    <a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae" title="The RTPSenderInfo about this end system.">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_sender_info.html#a1a19d4b88512c9065930fa49f9640da7" title="Sets the initial rtp time stamp.">setTimeStampBase</a>(rinp-&gt;<a class="code" href="class_r_t_p_inner_packet___base.html#a11d812c4e9fa15fe86cf22f68539326a">getTimeStampBase</a>());
    <a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae" title="The RTPSenderInfo about this end system.">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_sender_info.html#ae8a19011c7e314e1a6f50f2536e29039" title="Sets the initial sequence number.">setSequenceNumberBase</a>(rinp-&gt;<a class="code" href="class_r_t_p_inner_packet___base.html#af307a2999e9f3ca29b33945f3a6a33df">getSequenceNumberBase</a>());
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3e235e77d30ea267a343b1a004af00c0"></a><!-- doxytag: member="RTCP::initialize" ref="a3e235e77d30ea267a343b1a004af00c0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_r_t_c_p.html#a3e235e77d30ea267a343b1a004af00c0">RTCP::initialize</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes variables. </p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// initialize variables</span>
    <a class="code" href="class_r_t_c_p.html#a312d956dfe0cee660f64c7eff866f97f" title="True when this end system has chosen its ssrc identifier.">_ssrcChosen</a> = <span class="keyword">false</span>;
    <a class="code" href="class_r_t_c_p.html#a15f6dc294a91b2366caf4d781c7ec7c7" title="True when this end system is about to leave the session.">_leaveSession</a> = <span class="keyword">false</span>;
    <a class="code" href="class_r_t_c_p.html#a8aff0b568950d3297f3b42235a792c94" title="The UDP socket for sending/receiving rtcp packets.">_udpSocket</a>.<a class="code" href="class_u_d_p_socket.html#a606e9a6e14bcd2e68bb2906b0dc5a6b7" title="Sets the gate on which to send to UDP.">setOutputGate</a>(gate(<span class="stringliteral">&quot;udpOut&quot;</span>));

    <a class="code" href="class_r_t_c_p.html#a71ec6dc615cd6418db3ed9bf24f4c586" title="The number of packets this rtcp module has calculated.">_packetsCalculated</a> = 0;
    <a class="code" href="class_r_t_c_p.html#a3e059e5417461a9698d70366c486041d" title="The average size of an RTCPCompoundPacket.">_averagePacketSize</a> = 0.0;

    <a class="code" href="class_r_t_c_p.html#ad029b55a1f6e19af0713b5c14b24d6db" title="Information about all known RTP end system participating in this RTP session.">_participantInfos</a>.setName(<span class="stringliteral">&quot;ParticipantInfos&quot;</span>);

    <a class="code" href="class_r_t_c_p.html#a408e4413477b8df08505633bda7b361e" title="The output vector for statistical data about the behaviour of rtcp.">rcvdPkSignal</a> = registerSignal(<span class="stringliteral">&quot;rcvdPk&quot;</span>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a20b7146fa351b16ce826f6ddfd2f8761"></a><!-- doxytag: member="RTCP::processIncomingRTCPByePacket" ref="a20b7146fa351b16ce826f6ddfd2f8761" args="(RTCPByePacket *rtcpByePacket, IPv4Address address, int port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_r_t_c_p.html#a20b7146fa351b16ce826f6ddfd2f8761">RTCP::processIncomingRTCPByePacket</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_t_c_p_bye_packet.html">RTCPByePacket</a> *&#160;</td>
          <td class="paramname"><em>rtcpByePacket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_i_pv4_address.html">IPv4Address</a>&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_r_t_c_p.html#a8e45e0ec7a8f0a241521aef900a2af11">processIncomingRTCPPacket()</a>.</p>
<div class="fragment"><pre class="fragment">{
    uint32 ssrc = rtcpByePacket-&gt;<a class="code" href="class_r_t_c_p_bye_packet___base.html#a9c2abae185a6b4e50921cbcf08eae3b4">getSsrc</a>();
    <a class="code" href="class_r_t_p_participant_info.html" title="This class is a super class for classes intended for storing information about RTP end systems...">RTPParticipantInfo</a> *participantInfo = <a class="code" href="class_r_t_c_p.html#afcf77f17784f2636811703bb0c78b47a" title="Returns the RTPParticipantInfo object used for storing information about the RTP end system with this...">findParticipantInfo</a>(ssrc);

    <span class="keywordflow">if</span> (participantInfo != <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> &amp;&amp; participantInfo != <a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae" title="The RTPSenderInfo about this end system.">_senderInfo</a>)
    {
        <a class="code" href="class_r_t_c_p.html#ad029b55a1f6e19af0713b5c14b24d6db" title="Information about all known RTP end system participating in this RTP session.">_participantInfos</a>.remove(participantInfo);

        <span class="keyword">delete</span> participantInfo;
        <span class="comment">// perhaps it would be useful to inform</span>
        <span class="comment">// the profile to remove the corresponding</span>
        <span class="comment">// receiver module</span>
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8e45e0ec7a8f0a241521aef900a2af11"></a><!-- doxytag: member="RTCP::processIncomingRTCPPacket" ref="a8e45e0ec7a8f0a241521aef900a2af11" args="(RTCPCompoundPacket *packet, IPv4Address address, int port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_r_t_c_p.html#a8e45e0ec7a8f0a241521aef900a2af11">RTCP::processIncomingRTCPPacket</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_t_c_p_compound_packet.html">RTCPCompoundPacket</a> *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_i_pv4_address.html">IPv4Address</a>&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Extracts information of a received <a class="el" href="class_r_t_c_p_compound_packet.html">RTCPCompoundPacket</a>. </p>

<p>Referenced by <a class="el" href="class_r_t_c_p.html#aba758ab1ab089113257066ed604f592d">readRet()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_r_t_c_p.html#a9911519c66f47604df0e8bff0d0670d1" title="Recalculates the average size of an RTCPCompoundPacket when one of this size has been sent or receive...">calculateAveragePacketSize</a>(packet-&gt;getByteLength());
    cArray &amp;rtcpPackets = packet-&gt;<a class="code" href="class_r_t_c_p_compound_packet___base.html#af6de2823f3eec5b971eb166c98a182a1">getRtcpPackets</a>();
    simtime_t arrivalTime = packet-&gt;getArrivalTime();

    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; rtcpPackets.size(); i++)
    {
        <a class="code" href="class_r_t_c_p_packet.html">RTCPPacket</a> *rtcpPacket = (<a class="code" href="class_r_t_c_p_packet.html">RTCPPacket</a> *)(rtcpPackets.remove(i));
        <span class="keywordflow">if</span> (rtcpPacket)
        {
            <span class="comment">// remove the rtcp packet from the rtcp compound packet</span>
            <span class="keywordflow">switch</span> (rtcpPacket-&gt;<a class="code" href="class_r_t_c_p_packet___base.html#a55b0764881fffebb539d3593c9bd5cc6">getPacketType</a>())
            {
            <span class="keywordflow">case</span> <a class="code" href="_r_t_c_p_packet1__m_8h.html#adbe99cf156c29f3eac4cc6651a661a3ea1ee6414a252b8ac08dd9badff14eb06b">RTCP_PT_SR</a>:
                <a class="code" href="class_r_t_c_p.html#a05f95ca9553c92fa9029110f211269a8">processIncomingRTCPSenderReportPacket</a>(
                        (<a class="code" href="class_r_t_c_p_sender_report_packet.html">RTCPSenderReportPacket</a> *)rtcpPacket, address, port);
                <span class="keywordflow">break</span>;

            <span class="keywordflow">case</span> <a class="code" href="_r_t_c_p_packet1__m_8h.html#adbe99cf156c29f3eac4cc6651a661a3eac6f56426bf01b9f44c3519ce1922295b">RTCP_PT_RR</a>:
                <a class="code" href="class_r_t_c_p.html#a41b0eb83b537ded273fcf9974f530e0e">processIncomingRTCPReceiverReportPacket</a>(
                        (<a class="code" href="class_r_t_c_p_receiver_report_packet.html">RTCPReceiverReportPacket</a> *)rtcpPacket, address, port);
                <span class="keywordflow">break</span>;

            <span class="keywordflow">case</span> <a class="code" href="_r_t_c_p_packet1__m_8h.html#adbe99cf156c29f3eac4cc6651a661a3ea7e9b4d73c691b125c2fb617745a75649">RTCP_PT_SDES</a>:
                <a class="code" href="class_r_t_c_p.html#a65431723252a084b36f0e1ca9e62c67a">processIncomingRTCPSDESPacket</a>(
                        (<a class="code" href="class_r_t_c_p_s_d_e_s_packet.html">RTCPSDESPacket</a> *)rtcpPacket, address, port, arrivalTime);
                <span class="keywordflow">break</span>;

            <span class="keywordflow">case</span> <a class="code" href="_r_t_c_p_packet1__m_8h.html#adbe99cf156c29f3eac4cc6651a661a3eac5368c08b66ed38834cdeca0750a4bc1">RTCP_PT_BYE</a>:
                <a class="code" href="class_r_t_c_p.html#a20b7146fa351b16ce826f6ddfd2f8761">processIncomingRTCPByePacket</a>(
                        (<a class="code" href="class_r_t_c_p_bye_packet.html">RTCPByePacket</a> *)rtcpPacket, address, port);
                <span class="keywordflow">break</span>;

            <span class="keywordflow">default</span>:
                <span class="comment">// app rtcp packets</span>
                <span class="keywordflow">break</span>;
            }
            <span class="keyword">delete</span> rtcpPacket;
        }
    }
    <span class="keyword">delete</span> packet;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a41b0eb83b537ded273fcf9974f530e0e"></a><!-- doxytag: member="RTCP::processIncomingRTCPReceiverReportPacket" ref="a41b0eb83b537ded273fcf9974f530e0e" args="(RTCPReceiverReportPacket *rtcpReceiverReportPacket, IPv4Address address, int port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_r_t_c_p.html#a41b0eb83b537ded273fcf9974f530e0e">RTCP::processIncomingRTCPReceiverReportPacket</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_t_c_p_receiver_report_packet.html">RTCPReceiverReportPacket</a> *&#160;</td>
          <td class="paramname"><em>rtcpReceiverReportPacket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_i_pv4_address.html">IPv4Address</a>&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_r_t_c_p.html#a8e45e0ec7a8f0a241521aef900a2af11">processIncomingRTCPPacket()</a>.</p>
<div class="fragment"><pre class="fragment">{
    uint32 ssrc = rtcpReceiverReportPacket-&gt;<a class="code" href="class_r_t_c_p_receiver_report_packet___base.html#a552e3bec6cc8b1a06ac3bf5155c124b9">getSsrc</a>();
    <a class="code" href="class_r_t_p_participant_info.html" title="This class is a super class for classes intended for storing information about RTP end systems...">RTPParticipantInfo</a> *participantInfo = <a class="code" href="class_r_t_c_p.html#afcf77f17784f2636811703bb0c78b47a" title="Returns the RTPParticipantInfo object used for storing information about the RTP end system with this...">findParticipantInfo</a>(ssrc);
    <span class="keywordflow">if</span> (participantInfo == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    {
        participantInfo = <span class="keyword">new</span> <a class="code" href="class_r_t_p_receiver_info.html" title="This class, a subclass of RTPParticipantInfo, is used for storing information about other RTP endsyst...">RTPReceiverInfo</a>(ssrc);
        participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info___base.html#a6ae1f8f4064e2a5c39616a14bfbf761a">setAddress</a>(address);
        participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info___base.html#a5c7a94c46b5d5380e286cfa3728f19b0">setRTCPPort</a>(port);
        <a class="code" href="class_r_t_c_p.html#ad029b55a1f6e19af0713b5c14b24d6db" title="Information about all known RTP end system participating in this RTP session.">_participantInfos</a>.add(participantInfo);
    }
    <span class="keywordflow">else</span>
    {
        <span class="keywordflow">if</span> ((participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info___base.html#a853b5d5c3b1f9116cca83c33ef30f095">getAddress</a>() == address) &amp;&amp;
                (participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info___base.html#a53570cf7fbea66e25d4efd63b1119a60">getRTCPPort</a>() == <a class="code" href="_i_pv4_address_8h.html#af1fbd9b1c7fd9da1fdebcf3afd0d111c" title="TCP/UDP port numbers.">PORT_UNDEF</a>))
        {
            participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info___base.html#a5c7a94c46b5d5380e286cfa3728f19b0">setRTCPPort</a>(port);
        }
        <span class="keywordflow">else</span>
        {
            <span class="comment">// check for ssrc conflict</span>
        }
    }

    cArray &amp;receptionReports = rtcpReceiverReportPacket-&gt;<a class="code" href="class_r_t_c_p_receiver_report_packet___base.html#a38694b8c721995c678ea1082e61592af">getReceptionReports</a>();
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; receptionReports.size(); j++)
    {
        <span class="keywordflow">if</span> (receptionReports.exist(j))
        {
            <a class="code" href="class_reception_report.html" title="The class ReceptionReport represents an RTP receiver report stored in an RTPSenderReportPacket or RTP...">ReceptionReport</a> *receptionReport = (<a class="code" href="class_reception_report.html" title="The class ReceptionReport represents an RTP receiver report stored in an RTPSenderReportPacket or RTP...">ReceptionReport</a> *)(receptionReports.remove(j));
            <span class="keywordflow">if</span> (<a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae" title="The RTPSenderInfo about this end system.">_senderInfo</a> &amp;&amp; (receptionReport-&gt;<a class="code" href="class_reception_report___base.html#a77780ad89fc91b5fbf4e7bb02e0f114d">getSsrc</a>() == <a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae" title="The RTPSenderInfo about this end system.">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_participant_info.html#ad246021768db2a6ec5a2ccfb9da460c6" title="Returns the ssrc identifier of the RTP endsystem.">getSsrc</a>()))
            {
                <a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae" title="The RTPSenderInfo about this end system.">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_sender_info.html#a3b4091b1a8649503067aafecbe07199c" title="Processes an incoming ReceptionReport for this sender.">processReceptionReport</a>(receptionReport, simTime());
            }
            <span class="keywordflow">else</span>
                <span class="comment">//cancelAndDelete(receptionReport);</span>
                <span class="keyword">delete</span> receptionReport;
        }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a65431723252a084b36f0e1ca9e62c67a"></a><!-- doxytag: member="RTCP::processIncomingRTCPSDESPacket" ref="a65431723252a084b36f0e1ca9e62c67a" args="(RTCPSDESPacket *rtcpSDESPacket, IPv4Address address, int port, simtime_t arrivalTime)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_r_t_c_p.html#a65431723252a084b36f0e1ca9e62c67a">RTCP::processIncomingRTCPSDESPacket</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_t_c_p_s_d_e_s_packet.html">RTCPSDESPacket</a> *&#160;</td>
          <td class="paramname"><em>rtcpSDESPacket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_i_pv4_address.html">IPv4Address</a>&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t&#160;</td>
          <td class="paramname"><em>arrivalTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_r_t_c_p.html#a8e45e0ec7a8f0a241521aef900a2af11">processIncomingRTCPPacket()</a>.</p>
<div class="fragment"><pre class="fragment">{
    cArray &amp;sdesChunks = rtcpSDESPacket-&gt;<a class="code" href="class_r_t_c_p_s_d_e_s_packet___base.html#a33f5fea56acbdd38c4d94824c5fae19e">getSdesChunks</a>();

    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; sdesChunks.size(); j++)
    {
        <span class="keywordflow">if</span> (sdesChunks.exist(j))
        {
            <span class="comment">// remove the sdes chunk from the cArray of sdes chunks</span>
            <a class="code" href="class_s_d_e_s_chunk.html" title="The class SDESChunk is used for storing SDESItem objects for one rtp end system.">SDESChunk</a> *sdesChunk = (<a class="code" href="class_s_d_e_s_chunk.html" title="The class SDESChunk is used for storing SDESItem objects for one rtp end system.">SDESChunk</a> *)(sdesChunks.remove(j));
            <span class="comment">// this is needed to avoid seg faults</span>
            <span class="comment">//sdesChunk-&gt;setOwner(this);</span>
            uint32 ssrc = sdesChunk-&gt;<a class="code" href="class_s_d_e_s_chunk.html#a4b78ebd41306daa26f8c635d8333a4ae" title="Returns the ssrc identifier this SDESChunk is for.">getSsrc</a>();
            <a class="code" href="class_r_t_p_participant_info.html" title="This class is a super class for classes intended for storing information about RTP end systems...">RTPParticipantInfo</a> *participantInfo = <a class="code" href="class_r_t_c_p.html#afcf77f17784f2636811703bb0c78b47a" title="Returns the RTPParticipantInfo object used for storing information about the RTP end system with this...">findParticipantInfo</a>(ssrc);
            <span class="keywordflow">if</span> (participantInfo == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
            {
                participantInfo = <span class="keyword">new</span> <a class="code" href="class_r_t_p_receiver_info.html" title="This class, a subclass of RTPParticipantInfo, is used for storing information about other RTP endsyst...">RTPReceiverInfo</a>(ssrc);
                participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info___base.html#a6ae1f8f4064e2a5c39616a14bfbf761a">setAddress</a>(address);
                participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info___base.html#a5c7a94c46b5d5380e286cfa3728f19b0">setRTCPPort</a>(port);
                <a class="code" href="class_r_t_c_p.html#ad029b55a1f6e19af0713b5c14b24d6db" title="Information about all known RTP end system participating in this RTP session.">_participantInfos</a>.add(participantInfo);
            }
            <span class="keywordflow">else</span>
            {
                <span class="comment">// check for ssrc conflict</span>
            }
            participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info.html#a67a2ca840ffebca6ffb064ad16bc37b2" title="This method extracts sdes information of the given sdes chunk.and stores it.">processSDESChunk</a>(sdesChunk, arrivalTime);
        }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a05f95ca9553c92fa9029110f211269a8"></a><!-- doxytag: member="RTCP::processIncomingRTCPSenderReportPacket" ref="a05f95ca9553c92fa9029110f211269a8" args="(RTCPSenderReportPacket *rtcpSenderReportPacket, IPv4Address address, int port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_r_t_c_p.html#a05f95ca9553c92fa9029110f211269a8">RTCP::processIncomingRTCPSenderReportPacket</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_t_c_p_sender_report_packet.html">RTCPSenderReportPacket</a> *&#160;</td>
          <td class="paramname"><em>rtcpSenderReportPacket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_i_pv4_address.html">IPv4Address</a>&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="class_r_t_c_p.html#a8e45e0ec7a8f0a241521aef900a2af11">processIncomingRTCPPacket()</a>.</p>
<div class="fragment"><pre class="fragment">{
    uint32 ssrc = rtcpSenderReportPacket-&gt;<a class="code" href="class_r_t_c_p_receiver_report_packet___base.html#a552e3bec6cc8b1a06ac3bf5155c124b9">getSsrc</a>();
    <a class="code" href="class_r_t_p_participant_info.html" title="This class is a super class for classes intended for storing information about RTP end systems...">RTPParticipantInfo</a> *participantInfo = <a class="code" href="class_r_t_c_p.html#afcf77f17784f2636811703bb0c78b47a" title="Returns the RTPParticipantInfo object used for storing information about the RTP end system with this...">findParticipantInfo</a>(ssrc);

    <span class="keywordflow">if</span> (participantInfo == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    {
        participantInfo = <span class="keyword">new</span> <a class="code" href="class_r_t_p_receiver_info.html" title="This class, a subclass of RTPParticipantInfo, is used for storing information about other RTP endsyst...">RTPReceiverInfo</a>(ssrc);
        participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info___base.html#a6ae1f8f4064e2a5c39616a14bfbf761a">setAddress</a>(address);
        participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info___base.html#a5c7a94c46b5d5380e286cfa3728f19b0">setRTCPPort</a>(port);
        <a class="code" href="class_r_t_c_p.html#ad029b55a1f6e19af0713b5c14b24d6db" title="Information about all known RTP end system participating in this RTP session.">_participantInfos</a>.add(participantInfo);
    }
    <span class="keywordflow">else</span>
    {
        <span class="keywordflow">if</span> ((participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info___base.html#a853b5d5c3b1f9116cca83c33ef30f095">getAddress</a>() == address) &amp;&amp;
                (participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info___base.html#a53570cf7fbea66e25d4efd63b1119a60">getRTCPPort</a>() == <a class="code" href="_i_pv4_address_8h.html#af1fbd9b1c7fd9da1fdebcf3afd0d111c" title="TCP/UDP port numbers.">PORT_UNDEF</a>))
        {
            participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info___base.html#a5c7a94c46b5d5380e286cfa3728f19b0">setRTCPPort</a>(port);
        }
        <span class="keywordflow">else</span>
        {
            <span class="comment">// check for ssrc conflict</span>
        }
    }
    participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info.html#ad78d6486d598e1f35467f6a02b9348cc" title="This method extracts information about an RTP endsystem as provided by the given SenderReport.">processSenderReport</a>(rtcpSenderReportPacket-&gt;<a class="code" href="class_r_t_c_p_sender_report_packet___base.html#a67075344bc35ea467fa74a7f731498d3">getSenderReport</a>(), simTime());

    cArray &amp;receptionReports = rtcpSenderReportPacket-&gt;<a class="code" href="class_r_t_c_p_receiver_report_packet___base.html#a38694b8c721995c678ea1082e61592af">getReceptionReports</a>();
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; receptionReports.size(); j++)
    {
        <span class="keywordflow">if</span> (receptionReports.exist(j))
        {
            <a class="code" href="class_reception_report.html" title="The class ReceptionReport represents an RTP receiver report stored in an RTPSenderReportPacket or RTP...">ReceptionReport</a> *receptionReport = (<a class="code" href="class_reception_report.html" title="The class ReceptionReport represents an RTP receiver report stored in an RTPSenderReportPacket or RTP...">ReceptionReport</a> *)(receptionReports.remove(j));
            <span class="keywordflow">if</span> (<a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae" title="The RTPSenderInfo about this end system.">_senderInfo</a> &amp;&amp; (receptionReport-&gt;<a class="code" href="class_reception_report___base.html#a77780ad89fc91b5fbf4e7bb02e0f114d">getSsrc</a>() == <a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae" title="The RTPSenderInfo about this end system.">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_participant_info.html#ad246021768db2a6ec5a2ccfb9da460c6" title="Returns the ssrc identifier of the RTP endsystem.">getSsrc</a>()))
            {
                <a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae" title="The RTPSenderInfo about this end system.">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_sender_info.html#a3b4091b1a8649503067aafecbe07199c" title="Processes an incoming ReceptionReport for this sender.">processReceptionReport</a>(receptionReport, simTime());
            }
            <span class="keywordflow">else</span>
                <span class="comment">//cancelAndDelete(receptionReport);</span>
                <span class="keyword">delete</span> receptionReport;
        }
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8795bc16fad22782b0f36e1c577fd9de"></a><!-- doxytag: member="RTCP::processIncomingRTPPacket" ref="a8795bc16fad22782b0f36e1c577fd9de" args="(RTPPacket *packet, IPv4Address address, int port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_r_t_c_p.html#a8795bc16fad22782b0f36e1c577fd9de">RTCP::processIncomingRTPPacket</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_t_p_packet.html">RTPPacket</a> *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_i_pv4_address.html">IPv4Address</a>&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Extracts information of a received <a class="el" href="class_r_t_p_packet.html" title="This class represents an RTP data packet.">RTPPacket</a>. </p>

<p>Referenced by <a class="el" href="class_r_t_c_p.html#afb3f7e85e38734864551a76bf682beae">handleDataIn()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">bool</span> good = <span class="keyword">false</span>;
    uint32 ssrc = packet-&gt;<a class="code" href="class_r_t_p_packet___base.html#ab0aca5ac91581571d2fec63c2cf6cfd1">getSsrc</a>();
    <a class="code" href="class_r_t_p_participant_info.html" title="This class is a super class for classes intended for storing information about RTP end systems...">RTPParticipantInfo</a> *participantInfo = <a class="code" href="class_r_t_c_p.html#afcf77f17784f2636811703bb0c78b47a" title="Returns the RTPParticipantInfo object used for storing information about the RTP end system with this...">findParticipantInfo</a>(ssrc);
    <span class="keywordflow">if</span> (participantInfo == <a class="code" href="def_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
    {
        participantInfo = <span class="keyword">new</span> <a class="code" href="class_r_t_p_participant_info.html" title="This class is a super class for classes intended for storing information about RTP end systems...">RTPParticipantInfo</a>(ssrc);
        participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info___base.html#a6ae1f8f4064e2a5c39616a14bfbf761a">setAddress</a>(address);
        participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info___base.html#a6980d9cac87670c3f0b443aee5cb7b43">setRTPPort</a>(port);
        <a class="code" href="class_r_t_c_p.html#ad029b55a1f6e19af0713b5c14b24d6db" title="Information about all known RTP end system participating in this RTP session.">_participantInfos</a>.add(participantInfo);
        good = <span class="keyword">true</span>;
    }
    <span class="keywordflow">else</span>
    {
        <span class="comment">// check for ssrc conflict</span>
        <span class="keywordflow">if</span> (participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info___base.html#a853b5d5c3b1f9116cca83c33ef30f095">getAddress</a>() == address)
        {
            <span class="keywordflow">if</span> (participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info___base.html#ac9377144cbf4c6fce23e41671d822a6f">getRTPPort</a>() == port)
            {
                good = <span class="keyword">true</span>;
            }
            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info___base.html#ac9377144cbf4c6fce23e41671d822a6f">getRTPPort</a>() == <a class="code" href="_i_pv4_address_8h.html#af1fbd9b1c7fd9da1fdebcf3afd0d111c" title="TCP/UDP port numbers.">PORT_UNDEF</a>)
            {
                participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info___base.html#a6980d9cac87670c3f0b443aee5cb7b43">setRTPPort</a>(port);
                good = <span class="keyword">true</span>;
            }
        }
    }
    <span class="keywordflow">if</span> (good)
    {
        participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info.html#a885542e6091b42105033ae66d7850d91" title="This method should be extended by a subclass for extracting information about the originating endsyst...">processRTPPacket</a>(packet, getId(),  packet-&gt;getArrivalTime());
    }
    <span class="keywordflow">else</span>
    {
        ev &lt;&lt; <span class="stringliteral">&quot;Incoming packet address/port conflict, packet dropped.\n&quot;</span>;
        <span class="keyword">delete</span> packet;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8799abb9a95f0c3e6c884df9daa3735f"></a><!-- doxytag: member="RTCP::processOutgoingRTPPacket" ref="a8799abb9a95f0c3e6c884df9daa3735f" args="(RTPPacket *packet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_r_t_c_p.html#a8799abb9a95f0c3e6c884df9daa3735f">RTCP::processOutgoingRTPPacket</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_t_p_packet.html">RTPPacket</a> *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Extracts information of a sent <a class="el" href="class_r_t_p_packet.html" title="This class represents an RTP data packet.">RTPPacket</a>. </p>

<p>Referenced by <a class="el" href="class_r_t_c_p.html#a631192d702409bd6efb48c6fbb4e9a2c">handleDataOut()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae" title="The RTPSenderInfo about this end system.">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_sender_info.html#a70690a4364d8ac55b306f79f0b2cf834" title="Stores information about this outgoing RTPPacket.">processRTPPacket</a>(packet, getId(), simTime());
}
</pre></div>
</div>
</div>
<a class="anchor" id="aba758ab1ab089113257066ed604f592d"></a><!-- doxytag: member="RTCP::readRet" ref="aba758ab1ab089113257066ed604f592d" args="(cPacket *sifpIn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_r_t_c_p.html#aba758ab1ab089113257066ed604f592d">RTCP::readRet</a> </td>
          <td>(</td>
          <td class="paramtype">cPacket *&#160;</td>
          <td class="paramname"><em>sifpIn</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called when this rtcp module receives data from the socket layer. </p>

<p>Referenced by <a class="el" href="class_r_t_c_p.html#aac36ed16b31f33e8eefd5236b44bd32f">handleMessageFromUDP()</a>.</p>
<div class="fragment"><pre class="fragment">{
    emit(<a class="code" href="class_r_t_c_p.html#a408e4413477b8df08505633bda7b361e" title="The output vector for statistical data about the behaviour of rtcp.">rcvdPkSignal</a>, sifpIn);
    <a class="code" href="class_r_t_c_p_compound_packet.html">RTCPCompoundPacket</a> *packet = check_and_cast&lt;<a class="code" href="class_r_t_c_p_compound_packet.html">RTCPCompoundPacket</a> *&gt;(sifpIn-&gt;decapsulate());
    <a class="code" href="class_r_t_c_p.html#a8e45e0ec7a8f0a241521aef900a2af11" title="Extracts information of a received RTCPCompoundPacket.">processIncomingRTCPPacket</a>(packet, <a class="code" href="class_i_pv4_address.html" title="IPv4 address.">IPv4Address</a>(<a class="code" href="class_r_t_c_p.html#a8763574867ebbfe55b72c1fb196f5614" title="The destination address.">_destinationAddress</a>), <a class="code" href="class_r_t_c_p.html#a5e94424b09d99ecd8bfa7a9bf9584a0d" title="The rtcp port.">_port</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad0c374e283d184b19c7c67f0cef8a82b"></a><!-- doxytag: member="RTCP::scheduleInterval" ref="ad0c374e283d184b19c7c67f0cef8a82b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="timer__queue_8h.html#a07640d68b3fdfaa5c48a36265e8f10b8">void</a> <a class="el" href="class_r_t_c_p.html#ad0c374e283d184b19c7c67f0cef8a82b">RTCP::scheduleInterval</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Calculates the length of the next rtcp interval an issues a self message to remind itself. </p>

<p>Referenced by <a class="el" href="class_r_t_c_p.html#aacabb9bc545685dc97a2ffe380a6de41">handleSelfMessage()</a>.</p>
<div class="fragment"><pre class="fragment">{
    simtime_t intervalLength = <a class="code" href="class_r_t_c_p.html#a3e059e5417461a9698d70366c486041d" title="The average size of an RTCPCompoundPacket.">_averagePacketSize</a> * (simtime_t)(<a class="code" href="class_r_t_c_p.html#ad029b55a1f6e19af0713b5c14b24d6db" title="Information about all known RTP end system participating in this RTP session.">_participantInfos</a>.size()) /
            (simtime_t)(<a class="code" href="class_r_t_c_p.html#ac0c26bf355a113db3fc7516e5ef9f6f4" title="The bandwidth for this RTP session.">_bandwidth</a> * <a class="code" href="class_r_t_c_p.html#aba2346f5ac50ddbce83c972712113611" title="The percentage of bandwidth for rtcp.">_rtcpPercentage</a> * (<a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae" title="The RTPSenderInfo about this end system.">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_participant_info.html#a092d10a76104fe77fab01038b6d75436" title="Returns true if this endsystem has sent at least one RTP data packet during the last two rtcp interva...">isSender</a>() ? 1.0 : 0.75) / 100.0);

    <span class="comment">// interval length must be at least 5 seconds</span>
    <span class="keywordflow">if</span> (intervalLength &lt; 5.0)
        intervalLength = 5.0;

    <span class="comment">// to avoid rtcp packet bursts multiply calculated interval length</span>
    <span class="comment">// with a random number between 0.5 and 1.5</span>
    intervalLength = intervalLength * (0.5 + dblrand());

    intervalLength /= (double) (2.71828-1.5); <span class="comment">// [RFC 3550] , by Ahmed ayadi</span>

    cMessage *reminderMessage = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;Interval&quot;</span>);
    scheduleAt(simTime() + intervalLength, reminderMessage);
}
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a3e059e5417461a9698d70366c486041d"></a><!-- doxytag: member="RTCP::_averagePacketSize" ref="a3e059e5417461a9698d70366c486041d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="class_r_t_c_p.html#a3e059e5417461a9698d70366c486041d">RTCP::_averagePacketSize</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The average size of an <a class="el" href="class_r_t_c_p_compound_packet.html">RTCPCompoundPacket</a>. </p>

<p>Referenced by <a class="el" href="class_r_t_c_p.html#a9911519c66f47604df0e8bff0d0670d1">calculateAveragePacketSize()</a>, <a class="el" href="class_r_t_c_p.html#a3e235e77d30ea267a343b1a004af00c0">initialize()</a>, and <a class="el" href="class_r_t_c_p.html#ad0c374e283d184b19c7c67f0cef8a82b">scheduleInterval()</a>.</p>

</div>
</div>
<a class="anchor" id="ac0c26bf355a113db3fc7516e5ef9f6f4"></a><!-- doxytag: member="RTCP::_bandwidth" ref="ac0c26bf355a113db3fc7516e5ef9f6f4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_r_t_c_p.html#ac0c26bf355a113db3fc7516e5ef9f6f4">RTCP::_bandwidth</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The bandwidth for this <a class="el" href="class_r_t_p.html" title="An RTP is the center of the RTP layer of an endsystem.">RTP</a> session. </p>

<p>Referenced by <a class="el" href="class_r_t_c_p.html#ad5e877e02b8ee6557cb9bb2dda8e8647">handleInitializeRTCP()</a>, and <a class="el" href="class_r_t_c_p.html#ad0c374e283d184b19c7c67f0cef8a82b">scheduleInterval()</a>.</p>

</div>
</div>
<a class="anchor" id="a8763574867ebbfe55b72c1fb196f5614"></a><!-- doxytag: member="RTCP::_destinationAddress" ref="a8763574867ebbfe55b72c1fb196f5614" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_pv4_address.html">IPv4Address</a> <a class="el" href="class_r_t_c_p.html#a8763574867ebbfe55b72c1fb196f5614">RTCP::_destinationAddress</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The destination address. </p>

<p>Referenced by <a class="el" href="class_r_t_c_p.html#a2cc04b02279a36be154bac046869bdd4">createPacket()</a>, <a class="el" href="class_r_t_c_p.html#ad5e877e02b8ee6557cb9bb2dda8e8647">handleInitializeRTCP()</a>, and <a class="el" href="class_r_t_c_p.html#aba758ab1ab089113257066ed604f592d">readRet()</a>.</p>

</div>
</div>
<a class="anchor" id="a15f6dc294a91b2366caf4d781c7ec7c7"></a><!-- doxytag: member="RTCP::_leaveSession" ref="a15f6dc294a91b2366caf4d781c7ec7c7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_r_t_c_p.html#a15f6dc294a91b2366caf4d781c7ec7c7">RTCP::_leaveSession</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>True when this end system is about to leave the session. </p>

<p>Referenced by <a class="el" href="class_r_t_c_p.html#a2cc04b02279a36be154bac046869bdd4">createPacket()</a>, <a class="el" href="class_r_t_c_p.html#a39e2facd0ec7dca05184d053fc669832">handleLeaveSession()</a>, <a class="el" href="class_r_t_c_p.html#aacabb9bc545685dc97a2ffe380a6de41">handleSelfMessage()</a>, and <a class="el" href="class_r_t_c_p.html#a3e235e77d30ea267a343b1a004af00c0">initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="a37a772bdd0760827d4ec3854dbc29228"></a><!-- doxytag: member="RTCP::_mtu" ref="a37a772bdd0760827d4ec3854dbc29228" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_r_t_c_p.html#a37a772bdd0760827d4ec3854dbc29228">RTCP::_mtu</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The maximum size an RTCPCompundPacket can have. </p>

<p>Referenced by <a class="el" href="class_r_t_c_p.html#ad5e877e02b8ee6557cb9bb2dda8e8647">handleInitializeRTCP()</a>.</p>

</div>
</div>
<a class="anchor" id="a71ec6dc615cd6418db3ed9bf24f4c586"></a><!-- doxytag: member="RTCP::_packetsCalculated" ref="a71ec6dc615cd6418db3ed9bf24f4c586" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_r_t_c_p.html#a71ec6dc615cd6418db3ed9bf24f4c586">RTCP::_packetsCalculated</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The number of packets this rtcp module has calculated. </p>

<p>Referenced by <a class="el" href="class_r_t_c_p.html#a9911519c66f47604df0e8bff0d0670d1">calculateAveragePacketSize()</a>, and <a class="el" href="class_r_t_c_p.html#a3e235e77d30ea267a343b1a004af00c0">initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="ad029b55a1f6e19af0713b5c14b24d6db"></a><!-- doxytag: member="RTCP::_participantInfos" ref="ad029b55a1f6e19af0713b5c14b24d6db" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cArray <a class="el" href="class_r_t_c_p.html#ad029b55a1f6e19af0713b5c14b24d6db">RTCP::_participantInfos</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Information about all known <a class="el" href="class_r_t_p.html" title="An RTP is the center of the RTP layer of an endsystem.">RTP</a> end system participating in this <a class="el" href="class_r_t_p.html" title="An RTP is the center of the RTP layer of an endsystem.">RTP</a> session. </p>

<p>Referenced by <a class="el" href="class_r_t_c_p.html#ae740cefae3be02ec4ff778aff176df85">chooseSSRC()</a>, <a class="el" href="class_r_t_c_p.html#a2cc04b02279a36be154bac046869bdd4">createPacket()</a>, <a class="el" href="class_r_t_c_p.html#afcf77f17784f2636811703bb0c78b47a">findParticipantInfo()</a>, <a class="el" href="class_r_t_c_p.html#a3e235e77d30ea267a343b1a004af00c0">initialize()</a>, <a class="el" href="class_r_t_c_p.html#a20b7146fa351b16ce826f6ddfd2f8761">processIncomingRTCPByePacket()</a>, <a class="el" href="class_r_t_c_p.html#a41b0eb83b537ded273fcf9974f530e0e">processIncomingRTCPReceiverReportPacket()</a>, <a class="el" href="class_r_t_c_p.html#a65431723252a084b36f0e1ca9e62c67a">processIncomingRTCPSDESPacket()</a>, <a class="el" href="class_r_t_c_p.html#a05f95ca9553c92fa9029110f211269a8">processIncomingRTCPSenderReportPacket()</a>, <a class="el" href="class_r_t_c_p.html#a8795bc16fad22782b0f36e1c577fd9de">processIncomingRTPPacket()</a>, and <a class="el" href="class_r_t_c_p.html#ad0c374e283d184b19c7c67f0cef8a82b">scheduleInterval()</a>.</p>

</div>
</div>
<a class="anchor" id="a5e94424b09d99ecd8bfa7a9bf9584a0d"></a><!-- doxytag: member="RTCP::_port" ref="a5e94424b09d99ecd8bfa7a9bf9584a0d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_r_t_c_p.html#a5e94424b09d99ecd8bfa7a9bf9584a0d">RTCP::_port</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The rtcp port. </p>

<p>Referenced by <a class="el" href="class_r_t_c_p.html#a2cc04b02279a36be154bac046869bdd4">createPacket()</a>, <a class="el" href="class_r_t_c_p.html#a8b5d9bbd0415a34d04522a65a080fede">createSocket()</a>, <a class="el" href="class_r_t_c_p.html#ad5e877e02b8ee6557cb9bb2dda8e8647">handleInitializeRTCP()</a>, and <a class="el" href="class_r_t_c_p.html#aba758ab1ab089113257066ed604f592d">readRet()</a>.</p>

</div>
</div>
<a class="anchor" id="aba2346f5ac50ddbce83c972712113611"></a><!-- doxytag: member="RTCP::_rtcpPercentage" ref="aba2346f5ac50ddbce83c972712113611" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_r_t_c_p.html#aba2346f5ac50ddbce83c972712113611">RTCP::_rtcpPercentage</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The percentage of bandwidth for rtcp. </p>

<p>Referenced by <a class="el" href="class_r_t_c_p.html#ad5e877e02b8ee6557cb9bb2dda8e8647">handleInitializeRTCP()</a>, and <a class="el" href="class_r_t_c_p.html#ad0c374e283d184b19c7c67f0cef8a82b">scheduleInterval()</a>.</p>

</div>
</div>
<a class="anchor" id="a24fc77e46e9ef00d873a5197694681ae"></a><!-- doxytag: member="RTCP::_senderInfo" ref="a24fc77e46e9ef00d873a5197694681ae" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_r_t_p_sender_info.html">RTPSenderInfo</a>* <a class="el" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae">RTCP::_senderInfo</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The <a class="el" href="class_r_t_p_sender_info.html" title="The class RTPSenderInfo is used by an RTP end system for storing information about itself...">RTPSenderInfo</a> about this end system. </p>

<p>Referenced by <a class="el" href="class_r_t_c_p.html#ae740cefae3be02ec4ff778aff176df85">chooseSSRC()</a>, <a class="el" href="class_r_t_c_p.html#a2cc04b02279a36be154bac046869bdd4">createPacket()</a>, <a class="el" href="class_r_t_c_p.html#ad5e877e02b8ee6557cb9bb2dda8e8647">handleInitializeRTCP()</a>, <a class="el" href="class_r_t_c_p.html#aacabb9bc545685dc97a2ffe380a6de41">handleSelfMessage()</a>, <a class="el" href="class_r_t_c_p.html#a020222a3483e3637efab0c209ab1bd63">handleSenderModuleInitialized()</a>, <a class="el" href="class_r_t_c_p.html#a20b7146fa351b16ce826f6ddfd2f8761">processIncomingRTCPByePacket()</a>, <a class="el" href="class_r_t_c_p.html#a41b0eb83b537ded273fcf9974f530e0e">processIncomingRTCPReceiverReportPacket()</a>, <a class="el" href="class_r_t_c_p.html#a05f95ca9553c92fa9029110f211269a8">processIncomingRTCPSenderReportPacket()</a>, <a class="el" href="class_r_t_c_p.html#a8799abb9a95f0c3e6c884df9daa3735f">processOutgoingRTPPacket()</a>, <a class="el" href="class_r_t_c_p.html#ae47dff2f8e8e2810242c85920aa1ee65">RTCP()</a>, <a class="el" href="class_r_t_c_p.html#ad0c374e283d184b19c7c67f0cef8a82b">scheduleInterval()</a>, and <a class="el" href="class_r_t_c_p.html#ab9a1ae0bfe0eeec26865849c35b72295">~RTCP()</a>.</p>

</div>
</div>
<a class="anchor" id="a312d956dfe0cee660f64c7eff866f97f"></a><!-- doxytag: member="RTCP::_ssrcChosen" ref="a312d956dfe0cee660f64c7eff866f97f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_r_t_c_p.html#a312d956dfe0cee660f64c7eff866f97f">RTCP::_ssrcChosen</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>True when this end system has chosen its ssrc identifier. </p>

<p>Referenced by <a class="el" href="class_r_t_c_p.html#ae740cefae3be02ec4ff778aff176df85">chooseSSRC()</a>, <a class="el" href="class_r_t_c_p.html#aacabb9bc545685dc97a2ffe380a6de41">handleSelfMessage()</a>, <a class="el" href="class_r_t_c_p.html#a3e235e77d30ea267a343b1a004af00c0">initialize()</a>, and <a class="el" href="class_r_t_c_p.html#ab9a1ae0bfe0eeec26865849c35b72295">~RTCP()</a>.</p>

</div>
</div>
<a class="anchor" id="a8aff0b568950d3297f3b42235a792c94"></a><!-- doxytag: member="RTCP::_udpSocket" ref="a8aff0b568950d3297f3b42235a792c94" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_u_d_p_socket.html">UDPSocket</a> <a class="el" href="class_r_t_c_p.html#a8aff0b568950d3297f3b42235a792c94">RTCP::_udpSocket</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The <a class="el" href="class_u_d_p.html" title="Implements the UDP protocol: encapsulates/decapsulates user data into/from UDP.">UDP</a> socket for sending/receiving rtcp packets. </p>

<p>Referenced by <a class="el" href="class_r_t_c_p.html#a2cc04b02279a36be154bac046869bdd4">createPacket()</a>, <a class="el" href="class_r_t_c_p.html#a8b5d9bbd0415a34d04522a65a080fede">createSocket()</a>, and <a class="el" href="class_r_t_c_p.html#a3e235e77d30ea267a343b1a004af00c0">initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="a408e4413477b8df08505633bda7b361e"></a><!-- doxytag: member="RTCP::rcvdPkSignal" ref="a408e4413477b8df08505633bda7b361e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simsignal_t <a class="el" href="class_r_t_c_p.html#a408e4413477b8df08505633bda7b361e">RTCP::rcvdPkSignal</a> = SIMSIGNAL_NULL<code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The output vector for statistical data about the behaviour of rtcp. </p>
<p>Every participant's rtcp module writes its calculated rtcp interval (without variation </p>

<p>Referenced by <a class="el" href="class_r_t_c_p.html#a3e235e77d30ea267a343b1a004af00c0">initialize()</a>, and <a class="el" href="class_r_t_c_p.html#aba758ab1ab089113257066ed604f592d">readRet()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_r_t_c_p_8h.html">RTCP.h</a></li>
<li><a class="el" href="_r_t_c_p_8cc.html">RTCP.cc</a></li>
</ul>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="class_r_t_c_p.html">RTCP</a>      </li>

    <li class="footer">Generated on Tue Aug 7 2012 16:01:29 for INET Framework for OMNeT++/OMNEST by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
