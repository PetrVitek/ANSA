<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>INET Framework for OMNeT++/OMNEST: RTCP Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>


</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">INET Framework for OMNeT++/OMNEST
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_r_t_c_p.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">RTCP Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="RTCP" -->
<p><code>#include &lt;<a class="el" href="_r_t_c_p_8h_source.html">RTCP.h</a>&gt;</code></p>

<p><a href="class_r_t_c_p-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#ae47dff2f8e8e2810242c85920aa1ee65">RTCP</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a3e235e77d30ea267a343b1a004af00c0">initialize</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#ab9a1ae0bfe0eeec26865849c35b72295">~RTCP</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#ae9376f3daed572f57e4f95951a992eef">handleMessage</a> (cMessage *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a45c9f2d30acd3d63602c1086d07aecfc">handleMessageFromRTP</a> (cMessage *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#aac36ed16b31f33e8eefd5236b44bd32f">handleMessageFromUDP</a> (cMessage *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#aacabb9bc545685dc97a2ffe380a6de41">handleSelfMessage</a> (cMessage *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a030ff0bbd87d4eb8b2468171484c8ad1">initializeRTCP</a> (<a class="el" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a> *rinp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#ac9cac5c0e069ad71fdfbea85965afb1f">senderModuleInitialized</a> (<a class="el" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a> *rinp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a8e1974da707407c20944f52d3e6d684c">dataOut</a> (<a class="el" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a> *packet)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#aa1240cef092398ea0b2c4bba82ca28b2">dataIn</a> (<a class="el" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a> *rinp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a2610172ad88f25c94fba8d0ad40d119e">leaveSession</a> (<a class="el" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a> *rinp)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a19a9c3795f2cd2f47d29ffc295f7927f">connectRet</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#aba758ab1ab089113257066ed604f592d">readRet</a> (cPacket *sifpIn)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a8b5d9bbd0415a34d04522a65a080fede">createSocket</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#ae740cefae3be02ec4ff778aff176df85">chooseSSRC</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#ad0c374e283d184b19c7c67f0cef8a82b">scheduleInterval</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a2cc04b02279a36be154bac046869bdd4">createPacket</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a8799abb9a95f0c3e6c884df9daa3735f">processOutgoingRTPPacket</a> (<a class="el" href="class_r_t_p_packet.html">RTPPacket</a> *packet)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#afd8c3688162068e8e82ff99e1dc4c93b">processIncomingRTPPacket</a> (<a class="el" href="class_r_t_p_packet.html">RTPPacket</a> *packet, <a class="el" href="class_i_p_address.html">IPAddress</a> address, int port)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a8ac3a8c05cbd68c631cf99e417b3ab0a">processIncomingRTCPPacket</a> (<a class="el" href="class_r_t_c_p_compound_packet.html">RTCPCompoundPacket</a> *packet, <a class="el" href="class_i_p_address.html">IPAddress</a> address, int port)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_r_t_p_participant_info.html">RTPParticipantInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#afcf77f17784f2636811703bb0c78b47a">findParticipantInfo</a> (uint32 ssrc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a9911519c66f47604df0e8bff0d0670d1">calculateAveragePacketSize</a> (int size)</td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a37a772bdd0760827d4ec3854dbc29228">_mtu</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#ac0c26bf355a113db3fc7516e5ef9f6f4">_bandwidth</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#aba2346f5ac50ddbce83c972712113611">_rtcpPercentage</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_i_p_address.html">IPAddress</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a821bbdef483a7dc0a8793d8f4020cbcc">_destinationAddress</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a5e94424b09d99ecd8bfa7a9bf9584a0d">_port</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a312d956dfe0cee660f64c7eff866f97f">_ssrcChosen</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a15f6dc294a91b2366caf4d781c7ec7c7">_leaveSession</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_r_t_p_sender_info.html">RTPSenderInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae">_senderInfo</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cArray *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a1bd493c0345308c51d020001b7e79ee2">_participantInfos</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a3156bbe02720bd521d253ef8497bf0b1">_socketFdIn</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#af32f3ab0cf350b43f5cb606d5c275d86">_socketFdOut</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a71ec6dc615cd6418db3ed9bf24f4c586">_packetsCalculated</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a3e059e5417461a9698d70366c486041d">_averagePacketSize</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cOutVector *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_c_p.html#a165677f6f01930cd573e5d60f4daf0a6">_rtcpIntervalOutVector</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>The class <a class="el" href="class_r_t_c_p.html">RTCP</a> is responsible for creating, receiving and processing of rtcp packets. It also keeps track of this and other rtp end systems. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8h_source.html#l00037">37</a> of file <a class="el" href="_r_t_c_p_8h_source.html">RTCP.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae47dff2f8e8e2810242c85920aa1ee65"></a><!-- doxytag: member="RTCP::RTCP" ref="ae47dff2f8e8e2810242c85920aa1ee65" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_r_t_c_p.html#ae47dff2f8e8e2810242c85920aa1ee65">RTCP::RTCP</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_t_c_p_8cc_source.html#l00035">35</a> of file <a class="el" href="_r_t_c_p_8cc_source.html">RTCP.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_r_t_c_p.html#a1bd493c0345308c51d020001b7e79ee2">_participantInfos</a> = NULL;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab9a1ae0bfe0eeec26865849c35b72295"></a><!-- doxytag: member="RTCP::~RTCP" ref="ab9a1ae0bfe0eeec26865849c35b72295" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_r_t_c_p.html#ab9a1ae0bfe0eeec26865849c35b72295">RTCP::~RTCP</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_t_c_p_8cc_source.html#l00055">55</a> of file <a class="el" href="_r_t_c_p_8cc_source.html">RTCP.cc</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">delete</span> <a class="code" href="class_r_t_c_p.html#a1bd493c0345308c51d020001b7e79ee2">_participantInfos</a>;
}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a9911519c66f47604df0e8bff0d0670d1"></a><!-- doxytag: member="RTCP::calculateAveragePacketSize" ref="a9911519c66f47604df0e8bff0d0670d1" args="(int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_r_t_c_p.html#a9911519c66f47604df0e8bff0d0670d1">RTCP::calculateAveragePacketSize</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Recalculates the average size of an <a class="el" href="class_r_t_c_p_compound_packet.html">RTCPCompoundPacket</a> when one of this size has been sent or received. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8cc_source.html#l00532">532</a> of file <a class="el" href="_r_t_c_p_8cc_source.html">RTCP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_t_c_p_8cc_source.html#l00262">createPacket()</a>, and <a class="el" href="_r_t_c_p_8cc_source.html#l00371">processIncomingRTCPPacket()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// add size of ip and udp header to given size before calculating</span>
    <a class="code" href="class_r_t_c_p.html#a3e059e5417461a9698d70366c486041d">_averagePacketSize</a> = ((double)(<a class="code" href="class_r_t_c_p.html#a71ec6dc615cd6418db3ed9bf24f4c586">_packetsCalculated</a>) * <a class="code" href="class_r_t_c_p.html#a3e059e5417461a9698d70366c486041d">_averagePacketSize</a> + (double)(size + 20 + 8)) / (<span class="keywordtype">double</span>)(++<a class="code" href="class_r_t_c_p.html#a71ec6dc615cd6418db3ed9bf24f4c586">_packetsCalculated</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae740cefae3be02ec4ff778aff176df85"></a><!-- doxytag: member="RTCP::chooseSSRC" ref="ae740cefae3be02ec4ff778aff176df85" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_r_t_c_p.html#ae740cefae3be02ec4ff778aff176df85">RTCP::chooseSSRC</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Chooses the ssrc identifier for this end system. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8cc_source.html#l00247">247</a> of file <a class="el" href="_r_t_c_p_8cc_source.html">RTCP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_t_c_p_8cc_source.html#l00116">handleSelfMessage()</a>.</p>
<div class="fragment"><pre class="fragment">                     {

    uint32 ssrc = 0;
    <span class="keywordtype">bool</span> ssrcConflict = <span class="keyword">false</span>;
    <span class="keywordflow">do</span> {
        ssrc = intrand(0x7fffffff);
        ssrcConflict = <a class="code" href="class_r_t_c_p.html#afcf77f17784f2636811703bb0c78b47a">findParticipantInfo</a>(ssrc) != NULL;
    } <span class="keywordflow">while</span> (ssrcConflict);
    ev &lt;&lt; <span class="stringliteral">&quot;chooseSSRC&quot;</span> &lt;&lt; ssrc;
    <a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_participant_info.html#a7177dc7905b7c1c5daab5f57f0b1c90a">setSSRC</a>(ssrc);
    <a class="code" href="class_r_t_c_p.html#a1bd493c0345308c51d020001b7e79ee2">_participantInfos</a>-&gt;add(<a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae">_senderInfo</a>);
    <a class="code" href="class_r_t_c_p.html#a312d956dfe0cee660f64c7eff866f97f">_ssrcChosen</a> = <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a19a9c3795f2cd2f47d29ffc295f7927f"></a><!-- doxytag: member="RTCP::connectRet" ref="a19a9c3795f2cd2f47d29ffc295f7927f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_r_t_c_p.html#a19a9c3795f2cd2f47d29ffc295f7927f">RTCP::connectRet</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called when the socket layer has finished a connect. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8cc_source.html#l00186">186</a> of file <a class="el" href="_r_t_c_p_8cc_source.html">RTCP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_t_c_p_8cc_source.html#l00201">createSocket()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// schedule first rtcp packet</span>
    <span class="keywordtype">double</span> intervalLength = 2.5 * (dblrand() + 0.5);
    cMessage *reminderMessage = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;Interval&quot;</span>);
    scheduleAt(simTime() + intervalLength, reminderMessage);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2cc04b02279a36be154bac046869bdd4"></a><!-- doxytag: member="RTCP::createPacket" ref="a2cc04b02279a36be154bac046869bdd4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_r_t_c_p.html#a2cc04b02279a36be154bac046869bdd4">RTCP::createPacket</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Creates and sends an <a class="el" href="class_r_t_c_p_compound_packet.html">RTCPCompoundPacket</a>. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8cc_source.html#l00262">262</a> of file <a class="el" href="_r_t_c_p_8cc_source.html">RTCP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_t_c_p_8cc_source.html#l00116">handleSelfMessage()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// first packet in an rtcp compound packet must</span>
    <span class="comment">// be a sender or receiver report</span>
    <a class="code" href="class_r_t_c_p_receiver_report_packet.html">RTCPReceiverReportPacket</a> *reportPacket;

    <span class="comment">// if this rtcp end system is a sender (see SenderInformation::isSender() for</span>
    <span class="comment">// details) insert a sender report</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_participant_info.html#a45525d038fe36283e57c9be39804120b">isSender</a>()) {
        <a class="code" href="class_r_t_c_p_sender_report_packet.html">RTCPSenderReportPacket</a> *senderReportPacket = <span class="keyword">new</span> <a class="code" href="class_r_t_c_p_sender_report_packet.html">RTCPSenderReportPacket</a>(<span class="stringliteral">&quot;SenderReportPacket&quot;</span>);
        senderReportPacket-&gt;<a class="code" href="class_r_t_c_p_sender_report_packet.html#aa84410692fb821605b54014cd75d333e">setSenderReport</a>(<a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_sender_info.html#ad3adce49b84ea2ac18f4e1b8aa599904">senderReport</a>(simTime()));
        reportPacket = senderReportPacket;
    }
    <span class="keywordflow">else</span>
        reportPacket = <span class="keyword">new</span> <a class="code" href="class_r_t_c_p_receiver_report_packet.html">RTCPReceiverReportPacket</a>(<span class="stringliteral">&quot;ReceiverReportPacket&quot;</span>);
    reportPacket-&gt;<a class="code" href="class_r_t_c_p_receiver_report_packet.html#a43606d9fcf02bdc5d5b17bc84df9a1a5">setSSRC</a>(<a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_participant_info.html#aa571cb44afcaac38d9d91cb678b229c9">getSSRC</a>());


    <span class="comment">// insert receiver reports for packets from other sources</span>
    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a> = 0; <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a> &lt; <a class="code" href="class_r_t_c_p.html#a1bd493c0345308c51d020001b7e79ee2">_participantInfos</a>-&gt;size(); <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>++) {

        <span class="keywordflow">if</span> (<a class="code" href="class_r_t_c_p.html#a1bd493c0345308c51d020001b7e79ee2">_participantInfos</a>-&gt;exist(<a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>)) {
            <a class="code" href="class_r_t_p_participant_info.html">RTPParticipantInfo</a> *participantInfo = (<a class="code" href="class_r_t_p_participant_info.html">RTPParticipantInfo</a> *)(<a class="code" href="class_r_t_c_p.html#a1bd493c0345308c51d020001b7e79ee2">_participantInfos</a>-&gt;get(<a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>));
            <span class="keywordflow">if</span> (participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info.html#aa571cb44afcaac38d9d91cb678b229c9">getSSRC</a>() != <a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_participant_info.html#aa571cb44afcaac38d9d91cb678b229c9">getSSRC</a>()) {
                <a class="code" href="class_reception_report.html">ReceptionReport</a> *report = ((<a class="code" href="class_r_t_p_receiver_info.html">RTPReceiverInfo</a> *)participantInfo)-&gt;receptionReport(simTime());
                <span class="keywordflow">if</span> (report != NULL) {
                    reportPacket-&gt;<a class="code" href="class_r_t_c_p_receiver_report_packet.html#a1e0ca4e59064efaa6f06e44ee469ece3">addReceptionReport</a>(report);
                }
            }
            participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info.html#adf514b2c4e9d39b048c04ea352858730">nextInterval</a>(simTime());

            <span class="keywordflow">if</span> (participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info.html#a0d06aeea1debd1107de412d3778b7993">toBeDeleted</a>(simTime())) {
                <a class="code" href="class_r_t_c_p.html#a1bd493c0345308c51d020001b7e79ee2">_participantInfos</a>-&gt;remove(participantInfo);
                <span class="keyword">delete</span> participantInfo;
                <span class="comment">// perhaps inform the profile</span>
            }
        }
    }
    <span class="comment">// insert source description items (at least common name)</span>
    <a class="code" href="class_r_t_c_p_s_d_e_s_packet.html">RTCPSDESPacket</a> *sdesPacket = <span class="keyword">new</span> <a class="code" href="class_r_t_c_p_s_d_e_s_packet.html">RTCPSDESPacket</a>(<span class="stringliteral">&quot;SDESPacket&quot;</span>);

    <a class="code" href="class_s_d_e_s_chunk.html">SDESChunk</a> *<a class="code" href="structchunk.html">chunk</a> = <a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_participant_info.html#a2b2c35d6ba75ce5c6de079dc4cc64aa1">getSDESChunk</a>();
    sdesPacket-&gt;<a class="code" href="class_r_t_c_p_s_d_e_s_packet.html#aad4bed0e2efc76b83a75c355104843ff">addSDESChunk</a>(chunk);

    <a class="code" href="class_r_t_c_p_compound_packet.html">RTCPCompoundPacket</a> *compoundPacket = <span class="keyword">new</span> <a class="code" href="class_r_t_c_p_compound_packet.html">RTCPCompoundPacket</a>(<span class="stringliteral">&quot;RTCPCompoundPacket&quot;</span>);

    compoundPacket-&gt;<a class="code" href="class_r_t_c_p_compound_packet.html#a39b607e24de376606edfc539c9ad16f9">addRTCPPacket</a>(reportPacket);
    compoundPacket-&gt;<a class="code" href="class_r_t_c_p_compound_packet.html#a39b607e24de376606edfc539c9ad16f9">addRTCPPacket</a>(sdesPacket);

    <span class="comment">// create rtcp app/bye packets if needed</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_r_t_c_p.html#a15f6dc294a91b2366caf4d781c7ec7c7">_leaveSession</a>) {
        <a class="code" href="class_r_t_c_p_bye_packet.html">RTCPByePacket</a> *byePacket = <span class="keyword">new</span> <a class="code" href="class_r_t_c_p_bye_packet.html">RTCPByePacket</a>(<span class="stringliteral">&quot;ByePacket&quot;</span>);
        byePacket-&gt;<a class="code" href="class_r_t_c_p_bye_packet.html#a8cbf2a161fadd31a14dd0e5453c94e91">setSSRC</a>(<a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_participant_info.html#aa571cb44afcaac38d9d91cb678b229c9">getSSRC</a>());
        compoundPacket-&gt;<a class="code" href="class_r_t_c_p_compound_packet.html#a39b607e24de376606edfc539c9ad16f9">addRTCPPacket</a>(byePacket);
    }

    <a class="code" href="class_r_t_c_p.html#a9911519c66f47604df0e8bff0d0670d1">calculateAveragePacketSize</a>(compoundPacket-&gt;getByteLength());

    cPacket *msg = <span class="keyword">new</span> cPacket(<span class="stringliteral">&quot;RTCPCompoundPacket&quot;</span>);
    msg-&gt;encapsulate(compoundPacket);
    msg-&gt;setKind(<a class="code" href="_u_d_p_control_info__m_8h.html#a33f565d232e66cb696ba21aa616c2a87a33e7476202418b695b319318e70c894e">UDP_C_DATA</a>);
    <a class="code" href="class_u_d_p_control_info.html">UDPControlInfo</a> *ctrl = <span class="keyword">new</span> <a class="code" href="class_u_d_p_control_info.html">UDPControlInfo</a>();
    ctrl-&gt;<a class="code" href="class_u_d_p_control_info.html#a4173f10b3aa9a7e1f8ae84e95ef353dd">setSockId</a>(<a class="code" href="class_r_t_c_p.html#af32f3ab0cf350b43f5cb606d5c275d86">_socketFdOut</a>);
    ctrl-&gt;<a class="code" href="class_u_d_p_control_info.html#a7a0b58d8f2fbce599b12c2c0e065d6f0">setDestAddr</a>(<a class="code" href="class_r_t_c_p.html#a821bbdef483a7dc0a8793d8f4020cbcc">_destinationAddress</a>);
    ctrl-&gt;<a class="code" href="class_u_d_p_control_info.html#ae0ec2e547fefb2ba11925b1197c74bde">setDestPort</a>(<a class="code" href="class_r_t_c_p.html#a5e94424b09d99ecd8bfa7a9bf9584a0d">_port</a>);
    msg-&gt;setControlInfo(ctrl);

    send(msg, <span class="stringliteral">&quot;udpOut&quot;</span>);

    <span class="keywordflow">if</span> (<a class="code" href="class_r_t_c_p.html#a15f6dc294a91b2366caf4d781c7ec7c7">_leaveSession</a>) {
        <a class="code" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a> *rinp = <span class="keyword">new</span> <a class="code" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a>(<span class="stringliteral">&quot;sessionLeft()&quot;</span>);
        rinp-&gt;<a class="code" href="class_r_t_p_inner_packet.html#a99a575d15fc3f0e38103405b7bf5630a">sessionLeft</a>();
        send(rinp, <span class="stringliteral">&quot;rtpOut&quot;</span>);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8b5d9bbd0415a34d04522a65a080fede"></a><!-- doxytag: member="RTCP::createSocket" ref="a8b5d9bbd0415a34d04522a65a080fede" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_r_t_c_p.html#a8b5d9bbd0415a34d04522a65a080fede">RTCP::createSocket</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Request a server socket from the socket layer. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8cc_source.html#l00201">201</a> of file <a class="el" href="_r_t_c_p_8cc_source.html">RTCP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_t_c_p_8cc_source.html#l00137">initializeRTCP()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// TODO UDPAppBase should be ported to use UDPSocket sometime, but for now</span>
    <span class="comment">// we just manage the UDP socket by hand...</span>
    <span class="keywordflow">if</span> (<a class="code" href="class_r_t_c_p.html#a3156bbe02720bd521d253ef8497bf0b1">_socketFdIn</a> == -1) {
        <a class="code" href="class_r_t_c_p.html#a3156bbe02720bd521d253ef8497bf0b1">_socketFdIn</a> = <a class="code" href="class_u_d_p_socket.html#a33867fc36dae0097215522ece28cd376">UDPSocket::generateSocketId</a>();
        <a class="code" href="class_u_d_p_control_info.html">UDPControlInfo</a> *ctrl = <span class="keyword">new</span> <a class="code" href="class_u_d_p_control_info.html">UDPControlInfo</a>();
        <a class="code" href="class_i_p_address.html">IPAddress</a> ipaddr(<a class="code" href="class_r_t_c_p.html#a821bbdef483a7dc0a8793d8f4020cbcc">_destinationAddress</a>);

        <span class="keywordflow">if</span> (ipaddr.isMulticast()) {
            ctrl-&gt;<a class="code" href="class_u_d_p_control_info.html#a6798ce843ebca015e43efe5f351d9a1a">setSrcAddr</a>(<a class="code" href="class_i_p_address.html">IPAddress</a>(<a class="code" href="class_r_t_c_p.html#a821bbdef483a7dc0a8793d8f4020cbcc">_destinationAddress</a>));
            ctrl-&gt;<a class="code" href="class_u_d_p_control_info.html#a56d5e47d4f0d1f519975a9f5ad8cc48d">setSrcPort</a>(<a class="code" href="class_r_t_c_p.html#a5e94424b09d99ecd8bfa7a9bf9584a0d">_port</a>);
        }
        <span class="keywordflow">else</span> {
             ctrl-&gt;<a class="code" href="class_u_d_p_control_info.html#a56d5e47d4f0d1f519975a9f5ad8cc48d">setSrcPort</a>(<a class="code" href="class_r_t_c_p.html#a5e94424b09d99ecd8bfa7a9bf9584a0d">_port</a>);
             ctrl-&gt;<a class="code" href="class_u_d_p_control_info.html#a4173f10b3aa9a7e1f8ae84e95ef353dd">setSockId</a>(<a class="code" href="class_r_t_c_p.html#af32f3ab0cf350b43f5cb606d5c275d86">_socketFdOut</a>);
        }
        ctrl-&gt;<a class="code" href="class_u_d_p_control_info.html#a4173f10b3aa9a7e1f8ae84e95ef353dd">setSockId</a>((<span class="keywordtype">int</span>)<a class="code" href="class_r_t_c_p.html#a3156bbe02720bd521d253ef8497bf0b1">_socketFdIn</a>);
        cMessage *msg = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;UDP_C_BIND&quot;</span>, <a class="code" href="_u_d_p_control_info__m_8h.html#a33f565d232e66cb696ba21aa616c2a87aadaa32df8db2d6eaa9cf5779f6f7e8c1">UDP_C_BIND</a>);
        msg-&gt;setControlInfo(ctrl);
        send(msg,<span class="stringliteral">&quot;udpOut&quot;</span>);

        <a class="code" href="class_r_t_c_p.html#a19a9c3795f2cd2f47d29ffc295f7927f">connectRet</a>();
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa1240cef092398ea0b2c4bba82ca28b2"></a><!-- doxytag: member="RTCP::dataIn" ref="aa1240cef092398ea0b2c4bba82ca28b2" args="(RTPInnerPacket *rinp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_r_t_c_p.html#aa1240cef092398ea0b2c4bba82ca28b2">RTCP::dataIn</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a> *&#160;</td>
          <td class="paramname"><em>rinp</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stores information about an outgoing rtp data packet. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8cc_source.html#l00172">172</a> of file <a class="el" href="_r_t_c_p_8cc_source.html">RTCP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_t_c_p_8cc_source.html#l00081">handleMessageFromRTP()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_r_t_p_packet.html">RTPPacket</a> *rtpPacket = check_and_cast&lt;<a class="code" href="class_r_t_p_packet.html">RTPPacket</a> *&gt;(rinp-&gt;decapsulate());
    <span class="comment">//rtpPacket-&gt;dump();</span>
    <a class="code" href="class_r_t_c_p.html#afd8c3688162068e8e82ff99e1dc4c93b">processIncomingRTPPacket</a>(rtpPacket, rinp-&gt;<a class="code" href="class_r_t_p_inner_packet.html#a7c2935515610e3115a422cba8a9b0ae7">getAddress</a>(), rinp-&gt;<a class="code" href="class_r_t_p_inner_packet.html#aaea79a8df1d5041967adde45e2162c69">getPort</a>());
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8e1974da707407c20944f52d3e6d684c"></a><!-- doxytag: member="RTCP::dataOut" ref="a8e1974da707407c20944f52d3e6d684c" args="(RTPInnerPacket *packet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_r_t_c_p.html#a8e1974da707407c20944f52d3e6d684c">RTCP::dataOut</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a> *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stores information about an outgoing rtp data packet. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8cc_source.html#l00165">165</a> of file <a class="el" href="_r_t_c_p_8cc_source.html">RTCP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_t_c_p_8cc_source.html#l00081">handleMessageFromRTP()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_r_t_p_packet.html">RTPPacket</a> *rtpPacket = check_and_cast&lt;<a class="code" href="class_r_t_p_packet.html">RTPPacket</a> *&gt;(packet-&gt;decapsulate());
    <a class="code" href="class_r_t_c_p.html#a8799abb9a95f0c3e6c884df9daa3735f">processOutgoingRTPPacket</a>(rtpPacket);
}
</pre></div>
</div>
</div>
<a class="anchor" id="afcf77f17784f2636811703bb0c78b47a"></a><!-- doxytag: member="RTCP::findParticipantInfo" ref="afcf77f17784f2636811703bb0c78b47a" args="(uint32 ssrc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_r_t_p_participant_info.html">RTPParticipantInfo</a> * <a class="el" href="class_r_t_c_p.html#afcf77f17784f2636811703bb0c78b47a">RTCP::findParticipantInfo</a> </td>
          <td>(</td>
          <td class="paramtype">uint32&#160;</td>
          <td class="paramname"><em>ssrc</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the <a class="el" href="class_r_t_p_participant_info.html">RTPParticipantInfo</a> object used for storing information about the rtp end system with this ssrc identifier. Returns NULL if this end system is unknown. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8cc_source.html#l00519">519</a> of file <a class="el" href="_r_t_c_p_8cc_source.html">RTCP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_t_c_p_8cc_source.html#l00247">chooseSSRC()</a>, <a class="el" href="_r_t_c_p_8cc_source.html#l00371">processIncomingRTCPPacket()</a>, and <a class="el" href="_r_t_c_p_8cc_source.html#l00345">processIncomingRTPPacket()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">char</span> *ssrcString = <a class="code" href="class_r_t_p_participant_info.html#aadc8ba99aff7c392738703dc4a8c4797">RTPParticipantInfo::ssrcToName</a>(ssrc);
    <span class="keywordtype">int</span> participantIndex = <a class="code" href="class_r_t_c_p.html#a1bd493c0345308c51d020001b7e79ee2">_participantInfos</a>-&gt;find(ssrcString);
    <span class="keywordflow">if</span> (participantIndex != -1) {
        <span class="keywordflow">return</span> (<a class="code" href="class_r_t_p_participant_info.html">RTPParticipantInfo</a> *)(<a class="code" href="class_r_t_c_p.html#a1bd493c0345308c51d020001b7e79ee2">_participantInfos</a>-&gt;get(participantIndex));
    }
    <span class="keywordflow">else</span> {
        <span class="keywordflow">return</span> NULL;
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae9376f3daed572f57e4f95951a992eef"></a><!-- doxytag: member="RTCP::handleMessage" ref="ae9376f3daed572f57e4f95951a992eef" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_r_t_c_p.html#ae9376f3daed572f57e4f95951a992eef">RTCP::handleMessage</a> </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Message handling. Dispatches messages by arrival gate. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8cc_source.html#l00060">60</a> of file <a class="el" href="_r_t_c_p_8cc_source.html">RTCP.cc</a>.</p>
<div class="fragment"><pre class="fragment">{

    <span class="comment">// first distinguish incoming messages by arrival gate</span>
    <span class="keywordflow">if</span> (msg-&gt;getArrivalGateId() == findGate(<span class="stringliteral">&quot;rtpIn&quot;</span>)) {
        <a class="code" href="class_r_t_c_p.html#a45c9f2d30acd3d63602c1086d07aecfc">handleMessageFromRTP</a>(msg);
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msg-&gt;getArrivalGateId() == findGate(<span class="stringliteral">&quot;udpIn&quot;</span>)) {
        <a class="code" href="class_r_t_c_p.html#aac36ed16b31f33e8eefd5236b44bd32f">handleMessageFromUDP</a>(msg);
    }
    <span class="keywordflow">else</span> {
        <a class="code" href="class_r_t_c_p.html#aacabb9bc545685dc97a2ffe380a6de41">handleSelfMessage</a>(msg);
    }

    <span class="keyword">delete</span> msg;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a45c9f2d30acd3d63602c1086d07aecfc"></a><!-- doxytag: member="RTCP::handleMessageFromRTP" ref="a45c9f2d30acd3d63602c1086d07aecfc" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_r_t_c_p.html#a45c9f2d30acd3d63602c1086d07aecfc">RTCP::handleMessageFromRTP</a> </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Handles messages from the rtp module. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8cc_source.html#l00081">81</a> of file <a class="el" href="_r_t_c_p_8cc_source.html">RTCP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_t_c_p_8cc_source.html#l00060">handleMessage()</a>.</p>
<div class="fragment"><pre class="fragment">{

    <span class="comment">// from the rtp module all messages are of type RTPInnerPacket</span>
    <a class="code" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a> *rinp = check_and_cast&lt;<a class="code" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a> *&gt;(msg);

    <span class="comment">// distinguish by type</span>
    <span class="keywordflow">if</span> (rinp-&gt;<a class="code" href="class_r_t_p_inner_packet.html#a8de46bdf80e04331223d83af5f507d80">getType</a>() == <a class="code" href="class_r_t_p_inner_packet.html#abaed016d76395b99a11347dd05fd8888a5288c999e7efcec542c5a78d3e5133de">RTPInnerPacket::RTP_INP_INITIALIZE_RTCP</a>) {
        <a class="code" href="class_r_t_c_p.html#a030ff0bbd87d4eb8b2468171484c8ad1">initializeRTCP</a>(rinp);
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rinp-&gt;<a class="code" href="class_r_t_p_inner_packet.html#a8de46bdf80e04331223d83af5f507d80">getType</a>() == <a class="code" href="class_r_t_p_inner_packet.html#abaed016d76395b99a11347dd05fd8888aa7cdbe45405af9b4532642c98bc45358">RTPInnerPacket::RTP_INP_SENDER_MODULE_INITIALIZED</a>) {
        <a class="code" href="class_r_t_c_p.html#ac9cac5c0e069ad71fdfbea85965afb1f">senderModuleInitialized</a>(rinp);
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rinp-&gt;<a class="code" href="class_r_t_p_inner_packet.html#a8de46bdf80e04331223d83af5f507d80">getType</a>() == <a class="code" href="class_r_t_p_inner_packet.html#abaed016d76395b99a11347dd05fd8888ad9e60ccc5022412d2cbbcc82bf78ba67">RTPInnerPacket::RTP_INP_DATA_OUT</a>) {
        <a class="code" href="class_r_t_c_p.html#a8e1974da707407c20944f52d3e6d684c">dataOut</a>(rinp);
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rinp-&gt;<a class="code" href="class_r_t_p_inner_packet.html#a8de46bdf80e04331223d83af5f507d80">getType</a>() == <a class="code" href="class_r_t_p_inner_packet.html#abaed016d76395b99a11347dd05fd8888afd9da6decfe75fcbfcfacfc57143adcf">RTPInnerPacket::RTP_INP_DATA_IN</a>) {
        <a class="code" href="class_r_t_c_p.html#aa1240cef092398ea0b2c4bba82ca28b2">dataIn</a>(rinp);
    }
    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rinp-&gt;<a class="code" href="class_r_t_p_inner_packet.html#a8de46bdf80e04331223d83af5f507d80">getType</a>() == <a class="code" href="class_r_t_p_inner_packet.html#abaed016d76395b99a11347dd05fd8888a901b072177df54efe0296f2a3a40e207">RTPInnerPacket::RTP_INP_LEAVE_SESSION</a>) {
        <a class="code" href="class_r_t_c_p.html#a2610172ad88f25c94fba8d0ad40d119e">leaveSession</a>(rinp);
    }
    <span class="keywordflow">else</span> {
        error(<span class="stringliteral">&quot;unknown RTPInnerPacket type&quot;</span>);
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="aac36ed16b31f33e8eefd5236b44bd32f"></a><!-- doxytag: member="RTCP::handleMessageFromUDP" ref="aac36ed16b31f33e8eefd5236b44bd32f" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_r_t_c_p.html#aac36ed16b31f33e8eefd5236b44bd32f">RTCP::handleMessageFromUDP</a> </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Handles messages coming from the socket layer. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8cc_source.html#l00109">109</a> of file <a class="el" href="_r_t_c_p_8cc_source.html">RTCP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_t_c_p_8cc_source.html#l00060">handleMessage()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// from SocketLayer all message are of type cMessage</span>
    <a class="code" href="class_r_t_c_p.html#aba758ab1ab089113257066ed604f592d">readRet</a>(<a class="code" href="_i_n_e_t_defs_8h.html#ae5b816f7de3c5248c812bdb6920f4e06">PK</a>(msg));
}
</pre></div>
</div>
</div>
<a class="anchor" id="aacabb9bc545685dc97a2ffe380a6de41"></a><!-- doxytag: member="RTCP::handleSelfMessage" ref="aacabb9bc545685dc97a2ffe380a6de41" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_r_t_c_p.html#aacabb9bc545685dc97a2ffe380a6de41">RTCP::handleSelfMessage</a> </td>
          <td>(</td>
          <td class="paramtype">cMessage *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Handles self messages. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8cc_source.html#l00116">116</a> of file <a class="el" href="_r_t_c_p_8cc_source.html">RTCP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_t_c_p_8cc_source.html#l00060">handleMessage()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="comment">// it&#39;s time to create an rtcp packet</span>
    <span class="keywordflow">if</span> (!<a class="code" href="class_r_t_c_p.html#a312d956dfe0cee660f64c7eff866f97f">_ssrcChosen</a>) {
        <a class="code" href="class_r_t_c_p.html#ae740cefae3be02ec4ff778aff176df85">chooseSSRC</a>();
        <a class="code" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a> *rinp1 = <span class="keyword">new</span> <a class="code" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a>(<span class="stringliteral">&quot;rtcpInitialized()&quot;</span>);
        rinp1-&gt;<a class="code" href="class_r_t_p_inner_packet.html#a68dbbcee1910c17967f6b5565595860b">rtcpInitialized</a>(<a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_participant_info.html#aa571cb44afcaac38d9d91cb678b229c9">getSSRC</a>());
        send(rinp1, <span class="stringliteral">&quot;rtpOut&quot;</span>);
    }

    <a class="code" href="class_r_t_c_p.html#a2cc04b02279a36be154bac046869bdd4">createPacket</a>();

    <span class="keywordflow">if</span> (!<a class="code" href="class_r_t_c_p.html#a15f6dc294a91b2366caf4d781c7ec7c7">_leaveSession</a>) {
        <a class="code" href="class_r_t_c_p.html#ad0c374e283d184b19c7c67f0cef8a82b">scheduleInterval</a>();
    }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3e235e77d30ea267a343b1a004af00c0"></a><!-- doxytag: member="RTCP::initialize" ref="a3e235e77d30ea267a343b1a004af00c0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_r_t_c_p.html#a3e235e77d30ea267a343b1a004af00c0">RTCP::initialize</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initializes variables. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8cc_source.html#l00040">40</a> of file <a class="el" href="_r_t_c_p_8cc_source.html">RTCP.cc</a>.</p>
<div class="fragment"><pre class="fragment">{

    <span class="comment">// initialize variables</span>
    <a class="code" href="class_r_t_c_p.html#a312d956dfe0cee660f64c7eff866f97f">_ssrcChosen</a> = <span class="keyword">false</span>;
    <a class="code" href="class_r_t_c_p.html#a15f6dc294a91b2366caf4d781c7ec7c7">_leaveSession</a> = <span class="keyword">false</span>;
    <a class="code" href="class_r_t_c_p.html#a3156bbe02720bd521d253ef8497bf0b1">_socketFdIn</a> = -1;
    <a class="code" href="class_r_t_c_p.html#af32f3ab0cf350b43f5cb606d5c275d86">_socketFdOut</a> = -1;

    <a class="code" href="class_r_t_c_p.html#a71ec6dc615cd6418db3ed9bf24f4c586">_packetsCalculated</a> = 0;
    <a class="code" href="class_r_t_c_p.html#a3e059e5417461a9698d70366c486041d">_averagePacketSize</a> = 0.0;

    <a class="code" href="class_r_t_c_p.html#a1bd493c0345308c51d020001b7e79ee2">_participantInfos</a> = <span class="keyword">new</span> cArray(<span class="stringliteral">&quot;ParticipantInfos&quot;</span>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a030ff0bbd87d4eb8b2468171484c8ad1"></a><!-- doxytag: member="RTCP::initializeRTCP" ref="a030ff0bbd87d4eb8b2468171484c8ad1" args="(RTPInnerPacket *rinp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_r_t_c_p.html#a030ff0bbd87d4eb8b2468171484c8ad1">RTCP::initializeRTCP</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a> *&#160;</td>
          <td class="paramname"><em>rinp</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initializes the rtcp module when the session is started. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8cc_source.html#l00137">137</a> of file <a class="el" href="_r_t_c_p_8cc_source.html">RTCP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_t_c_p_8cc_source.html#l00081">handleMessageFromRTP()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_r_t_c_p.html#a37a772bdd0760827d4ec3854dbc29228">_mtu</a> = rinp-&gt;<a class="code" href="class_r_t_p_inner_packet.html#af622535a6cc9b941389bf20845b23290">getMTU</a>();
    <a class="code" href="class_r_t_c_p.html#ac0c26bf355a113db3fc7516e5ef9f6f4">_bandwidth</a> = rinp-&gt;<a class="code" href="class_r_t_p_inner_packet.html#a8a3a5527f5a42e6a1ccb1cf86c7d55d8">getBandwidth</a>();
    <a class="code" href="class_r_t_c_p.html#aba2346f5ac50ddbce83c972712113611">_rtcpPercentage</a> = rinp-&gt;<a class="code" href="class_r_t_p_inner_packet.html#a13da1d6b34e56f32750bea7775160000">getRtcpPercentage</a>();
    <a class="code" href="class_r_t_c_p.html#a821bbdef483a7dc0a8793d8f4020cbcc">_destinationAddress</a> = rinp-&gt;<a class="code" href="class_r_t_p_inner_packet.html#a7c2935515610e3115a422cba8a9b0ae7">getAddress</a>();
    <a class="code" href="class_r_t_c_p.html#a5e94424b09d99ecd8bfa7a9bf9584a0d">_port</a> = rinp-&gt;<a class="code" href="class_r_t_p_inner_packet.html#aaea79a8df1d5041967adde45e2162c69">getPort</a>();

    <a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae">_senderInfo</a> = <span class="keyword">new</span> <a class="code" href="class_r_t_p_sender_info.html">RTPSenderInfo</a>();

    <a class="code" href="class_s_d_e_s_item.html">SDESItem</a> *sdesItem = <span class="keyword">new</span> <a class="code" href="class_s_d_e_s_item.html">SDESItem</a>(<a class="code" href="class_s_d_e_s_item.html#a226500b98dc486edd2fc5c87c121de71a9fde35435f9f4afa26adc733f785173c">SDESItem::SDES_CNAME</a>, rinp-&gt;<a class="code" href="class_r_t_p_inner_packet.html#a35bb9c6e60ced0c71eaf49ed8ae5715d">getCommonName</a>());
    <a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_participant_info.html#a77ca14d2ef8a28b1e7725f2923902dae">addSDESItem</a>(sdesItem);


    <span class="comment">// create server socket for receiving rtcp packets</span>
    <a class="code" href="class_r_t_c_p.html#a8b5d9bbd0415a34d04522a65a080fede">createSocket</a>();
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2610172ad88f25c94fba8d0ad40d119e"></a><!-- doxytag: member="RTCP::leaveSession" ref="a2610172ad88f25c94fba8d0ad40d119e" args="(RTPInnerPacket *rinp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_r_t_c_p.html#a2610172ad88f25c94fba8d0ad40d119e">RTCP::leaveSession</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a> *&#160;</td>
          <td class="paramname"><em>rinp</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Makes the rtcp module send an <a class="el" href="class_r_t_c_p_bye_packet.html">RTCPByePacket</a> in the next <a class="el" href="class_r_t_c_p_compound_packet.html">RTCPCompoundPacket</a> to tell other participants in the rtp session that this end system leaves. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8cc_source.html#l00180">180</a> of file <a class="el" href="_r_t_c_p_8cc_source.html">RTCP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_t_c_p_8cc_source.html#l00081">handleMessageFromRTP()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_r_t_c_p.html#a15f6dc294a91b2366caf4d781c7ec7c7">_leaveSession</a> = <span class="keyword">true</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8ac3a8c05cbd68c631cf99e417b3ab0a"></a><!-- doxytag: member="RTCP::processIncomingRTCPPacket" ref="a8ac3a8c05cbd68c631cf99e417b3ab0a" args="(RTCPCompoundPacket *packet, IPAddress address, int port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_r_t_c_p.html#a8ac3a8c05cbd68c631cf99e417b3ab0a">RTCP::processIncomingRTCPPacket</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_t_c_p_compound_packet.html">RTCPCompoundPacket</a> *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_i_p_address.html">IPAddress</a>&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Extracts information of a received <a class="el" href="class_r_t_c_p_compound_packet.html">RTCPCompoundPacket</a>. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8cc_source.html#l00371">371</a> of file <a class="el" href="_r_t_c_p_8cc_source.html">RTCP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_t_c_p_8cc_source.html#l00195">readRet()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_r_t_c_p.html#a9911519c66f47604df0e8bff0d0670d1">calculateAveragePacketSize</a>(packet-&gt;getByteLength());
    cArray *rtcpPackets = packet-&gt;<a class="code" href="class_r_t_c_p_compound_packet.html#ab85d13a1c00084cb73aa920bbc15f9bb">getRtcpPackets</a>();

    simtime_t arrivalTime = packet-&gt;getArrivalTime();
    <span class="keyword">delete</span> packet;

   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a> = 0; <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a> &lt; rtcpPackets-&gt;size(); <a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>++) {
        <span class="keywordflow">if</span> (rtcpPackets-&gt;exist(<a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>)) {
            <span class="comment">// remove the rtcp packet from the rtcp compound packet</span>
            <a class="code" href="class_r_t_c_p_packet.html">RTCPPacket</a> *rtcpPacket = (<a class="code" href="class_r_t_c_p_packet.html">RTCPPacket</a> *)(rtcpPackets-&gt;remove(<a class="code" href="namespacecesnet.html#a2d959620f0e772e579c21833995d082e">i</a>));
            <span class="keywordflow">if</span> (rtcpPacket-&gt;<a class="code" href="class_r_t_c_p_packet.html#a75f5962cc1f5d92a190e9f70dedccf50">getPacketType</a>() == <a class="code" href="class_r_t_c_p_packet.html#a98ec68fc260027c7516b8557b1db19d8a10ef15a0e7d4a9786090682e80e95155" title="sender report">RTCPPacket::RTCP_PT_SR</a>) {
                <a class="code" href="class_r_t_c_p_sender_report_packet.html">RTCPSenderReportPacket</a> *rtcpSenderReportPacket = (<a class="code" href="class_r_t_c_p_sender_report_packet.html">RTCPSenderReportPacket</a> *)rtcpPacket;
                uint32 ssrc = rtcpSenderReportPacket-&gt;<a class="code" href="class_r_t_c_p_receiver_report_packet.html#a3bda5758c2e150a46964a9590d2a5683">getSSRC</a>();
                <a class="code" href="class_r_t_p_participant_info.html">RTPParticipantInfo</a> *participantInfo = <a class="code" href="class_r_t_c_p.html#afcf77f17784f2636811703bb0c78b47a">findParticipantInfo</a>(ssrc);

                <span class="keywordflow">if</span> (participantInfo == NULL) {
                    participantInfo = <span class="keyword">new</span> <a class="code" href="class_r_t_p_receiver_info.html">RTPReceiverInfo</a>(ssrc);
                    participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info.html#abcc22ceeee417b82cf689bb19e88bccc">setAddress</a>(address);
                    participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info.html#a66d287cf74135ee0080072d3716f06b8">setRTCPPort</a>(port);
                    <a class="code" href="class_r_t_c_p.html#a1bd493c0345308c51d020001b7e79ee2">_participantInfos</a>-&gt;add(participantInfo);
                }
                <span class="keywordflow">else</span> {
                    <span class="keywordflow">if</span> (participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info.html#a8706e6bf55147488badf1a4fe0e01fba">getAddress</a>() == address) {
                        <span class="keywordflow">if</span> (participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info.html#ab7eb326d3ca3fd7169b1c0f62b7ead4d">getRTCPPort</a>() == <a class="code" href="_i_p_address_8h.html#af1fbd9b1c7fd9da1fdebcf3afd0d111c">PORT_UNDEF</a>) {
                            participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info.html#a66d287cf74135ee0080072d3716f06b8">setRTCPPort</a>(port);
                        }
                        <span class="keywordflow">else</span> {
                            <span class="comment">// check for ssrc conflict</span>
                        }
                    }
                    <span class="keywordflow">else</span> {
                        <span class="comment">// check for ssrc conflict</span>
                    }
                }
                participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info.html#a74e5147325d35ecec0daeb69a90a72cd">processSenderReport</a>(rtcpSenderReportPacket-&gt;<a class="code" href="class_r_t_c_p_sender_report_packet.html#a70d965fecd78f7111f5c848e5c65b36e">getSenderReport</a>(), simTime());

                cArray *receptionReports = rtcpSenderReportPacket-&gt;<a class="code" href="class_r_t_c_p_receiver_report_packet.html#af9a6cf813c52f33eb228701b5b684c50">getReceptionReports</a>();
                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; receptionReports-&gt;size(); j++) {
                    <span class="keywordflow">if</span> (receptionReports-&gt;exist(j)) {
                        <a class="code" href="class_reception_report.html">ReceptionReport</a> *receptionReport = (<a class="code" href="class_reception_report.html">ReceptionReport</a> *)(receptionReports-&gt;remove(j));
                        <span class="keywordflow">if</span> (<a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae">_senderInfo</a>) {
                            <span class="keywordflow">if</span> (receptionReport-&gt;<a class="code" href="class_reception_report.html#adff1713e63303ab13235b1280ad863bb">getSSRC</a>() == <a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_participant_info.html#aa571cb44afcaac38d9d91cb678b229c9">getSSRC</a>()) {
                                <a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_sender_info.html#a3b4091b1a8649503067aafecbe07199c">processReceptionReport</a>(receptionReport, simTime());
                            }
                        }
                        <span class="keywordflow">else</span>
                            <span class="comment">//cancelAndDelete(receptionReport);</span>
                            <span class="keyword">delete</span> receptionReport;
                    }
                }
                <span class="keyword">delete</span> receptionReports;

            }
            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rtcpPacket-&gt;<a class="code" href="class_r_t_c_p_packet.html#a75f5962cc1f5d92a190e9f70dedccf50">getPacketType</a>() == <a class="code" href="class_r_t_c_p_packet.html#a98ec68fc260027c7516b8557b1db19d8a2612b897b7ad4b49abea1afe94195e1b" title="receiver report">RTCPPacket::RTCP_PT_RR</a>) {
                <a class="code" href="class_r_t_c_p_receiver_report_packet.html">RTCPReceiverReportPacket</a> *rtcpReceiverReportPacket = (<a class="code" href="class_r_t_c_p_receiver_report_packet.html">RTCPReceiverReportPacket</a> *)rtcpPacket;
                uint32 ssrc = rtcpReceiverReportPacket-&gt;<a class="code" href="class_r_t_c_p_receiver_report_packet.html#a3bda5758c2e150a46964a9590d2a5683">getSSRC</a>();
                <a class="code" href="class_r_t_p_participant_info.html">RTPParticipantInfo</a> *participantInfo = <a class="code" href="class_r_t_c_p.html#afcf77f17784f2636811703bb0c78b47a">findParticipantInfo</a>(ssrc);
                <span class="keywordflow">if</span> (participantInfo == NULL) {
                    participantInfo = <span class="keyword">new</span> <a class="code" href="class_r_t_p_receiver_info.html">RTPReceiverInfo</a>(ssrc);
                    participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info.html#abcc22ceeee417b82cf689bb19e88bccc">setAddress</a>(address);
                    participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info.html#a66d287cf74135ee0080072d3716f06b8">setRTCPPort</a>(port);
                    <a class="code" href="class_r_t_c_p.html#a1bd493c0345308c51d020001b7e79ee2">_participantInfos</a>-&gt;add(participantInfo);
                }
                <span class="keywordflow">else</span> {
                    <span class="keywordflow">if</span> (participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info.html#a8706e6bf55147488badf1a4fe0e01fba">getAddress</a>() == address) {
                        <span class="keywordflow">if</span> (participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info.html#ab7eb326d3ca3fd7169b1c0f62b7ead4d">getRTCPPort</a>() == <a class="code" href="_i_p_address_8h.html#af1fbd9b1c7fd9da1fdebcf3afd0d111c">PORT_UNDEF</a>) {
                            participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info.html#a66d287cf74135ee0080072d3716f06b8">setRTCPPort</a>(port);
                        }
                        <span class="keywordflow">else</span> {
                            <span class="comment">// check for ssrc conflict</span>
                        }
                    }
                    <span class="keywordflow">else</span> {
                        <span class="comment">// check for ssrc conflict</span>
                    }
                }

                cArray *receptionReports = rtcpReceiverReportPacket-&gt;<a class="code" href="class_r_t_c_p_receiver_report_packet.html#af9a6cf813c52f33eb228701b5b684c50">getReceptionReports</a>();
                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; receptionReports-&gt;size(); j++) {
                    <span class="keywordflow">if</span> (receptionReports-&gt;exist(j)) {
                        <a class="code" href="class_reception_report.html">ReceptionReport</a> *receptionReport = (<a class="code" href="class_reception_report.html">ReceptionReport</a> *)(receptionReports-&gt;remove(j));
                        <span class="keywordflow">if</span> (<a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae">_senderInfo</a>) {

                            <span class="keywordflow">if</span> (receptionReport-&gt;<a class="code" href="class_reception_report.html#adff1713e63303ab13235b1280ad863bb">getSSRC</a>() == <a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_participant_info.html#aa571cb44afcaac38d9d91cb678b229c9">getSSRC</a>()) {
                                <a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_sender_info.html#a3b4091b1a8649503067aafecbe07199c">processReceptionReport</a>(receptionReport, simTime());
                            }
                        }

                         <span class="keywordflow">else</span>
                            <span class="comment">//cancelAndDelete(receptionReport);</span>
                             <span class="keyword">delete</span> receptionReport;
                    }
                }
                <span class="keyword">delete</span> receptionReports;
            }
            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rtcpPacket-&gt;<a class="code" href="class_r_t_c_p_packet.html#a75f5962cc1f5d92a190e9f70dedccf50">getPacketType</a>() == <a class="code" href="class_r_t_c_p_packet.html#a98ec68fc260027c7516b8557b1db19d8ab7976cf73e226c418b2d055def4bcbee" title="source description">RTCPPacket::RTCP_PT_SDES</a>) {
                <a class="code" href="class_r_t_c_p_s_d_e_s_packet.html">RTCPSDESPacket</a> *rtcpSDESPacket = (<a class="code" href="class_r_t_c_p_s_d_e_s_packet.html">RTCPSDESPacket</a> *)rtcpPacket;
                cArray *sdesChunks = rtcpSDESPacket-&gt;<a class="code" href="class_r_t_c_p_s_d_e_s_packet.html#a85fb3e667fd7aa3cd29f5d61e4e0d759">getSdesChunks</a>();

                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; sdesChunks-&gt;size(); j++) {
                    <span class="keywordflow">if</span> (sdesChunks-&gt;exist(j)) {
                        <span class="comment">// remove the sdes chunk from the cArray of sdes chunks</span>
                        <a class="code" href="class_s_d_e_s_chunk.html">SDESChunk</a> *sdesChunk = (<a class="code" href="class_s_d_e_s_chunk.html">SDESChunk</a> *)(sdesChunks-&gt;remove(j));
                        <span class="comment">// this is needed to avoid seg faults</span>
                        <span class="comment">//sdesChunk-&gt;setOwner(this);</span>
                        uint32 ssrc = sdesChunk-&gt;<a class="code" href="class_s_d_e_s_chunk.html#ac98898efca170771b0b910906dc7872a">getSSRC</a>();
                        <a class="code" href="class_r_t_p_participant_info.html">RTPParticipantInfo</a> *participantInfo = <a class="code" href="class_r_t_c_p.html#afcf77f17784f2636811703bb0c78b47a">findParticipantInfo</a>(ssrc);
                        <span class="keywordflow">if</span> (participantInfo == NULL) {
                            participantInfo = <span class="keyword">new</span> <a class="code" href="class_r_t_p_receiver_info.html">RTPReceiverInfo</a>(ssrc);
                            participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info.html#abcc22ceeee417b82cf689bb19e88bccc">setAddress</a>(address);
                            participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info.html#a66d287cf74135ee0080072d3716f06b8">setRTCPPort</a>(port);
                            <a class="code" href="class_r_t_c_p.html#a1bd493c0345308c51d020001b7e79ee2">_participantInfos</a>-&gt;add(participantInfo);
                        }
                        <span class="keywordflow">else</span> {
                            <span class="comment">// check for ssrc conflict</span>
                        }
                        participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info.html#a67a2ca840ffebca6ffb064ad16bc37b2">processSDESChunk</a>(sdesChunk, arrivalTime);
                    }
                }
                <span class="keyword">delete</span> sdesChunks;

            }
            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rtcpPacket-&gt;<a class="code" href="class_r_t_c_p_packet.html#a75f5962cc1f5d92a190e9f70dedccf50">getPacketType</a>() == <a class="code" href="class_r_t_c_p_packet.html#a98ec68fc260027c7516b8557b1db19d8a9762de482a05d60b5dd85fa9574cbee4" title="bye">RTCPPacket::RTCP_PT_BYE</a>) {
                <a class="code" href="class_r_t_c_p_bye_packet.html">RTCPByePacket</a> *rtcpByePacket = (<a class="code" href="class_r_t_c_p_bye_packet.html">RTCPByePacket</a> *)rtcpPacket;
                uint32 ssrc = rtcpByePacket-&gt;<a class="code" href="class_r_t_c_p_bye_packet.html#ab91e8bdf1a2862d424eeb1f34a702fa1">getSSRC</a>();
                <a class="code" href="class_r_t_p_participant_info.html">RTPParticipantInfo</a> *participantInfo = <a class="code" href="class_r_t_c_p.html#afcf77f17784f2636811703bb0c78b47a">findParticipantInfo</a>(ssrc);

                <span class="keywordflow">if</span> (participantInfo != NULL &amp;&amp; participantInfo != <a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae">_senderInfo</a>) {
                    <a class="code" href="class_r_t_c_p.html#a1bd493c0345308c51d020001b7e79ee2">_participantInfos</a>-&gt;remove(participantInfo);

                    <span class="keyword">delete</span> participantInfo;
                    <span class="comment">// perhaps it would be useful to inform</span>
                    <span class="comment">// the profile to remove the corresponding</span>
                    <span class="comment">// receiver module</span>
                }
            }
            <span class="keywordflow">else</span> {
                <span class="comment">// app rtcp packets</span>
            }
        <span class="keyword">delete</span> rtcpPacket;
        }
    }
    <span class="keyword">delete</span> rtcpPackets;
}
</pre></div>
</div>
</div>
<a class="anchor" id="afd8c3688162068e8e82ff99e1dc4c93b"></a><!-- doxytag: member="RTCP::processIncomingRTPPacket" ref="afd8c3688162068e8e82ff99e1dc4c93b" args="(RTPPacket *packet, IPAddress address, int port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_r_t_c_p.html#afd8c3688162068e8e82ff99e1dc4c93b">RTCP::processIncomingRTPPacket</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_t_p_packet.html">RTPPacket</a> *&#160;</td>
          <td class="paramname"><em>packet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_i_p_address.html">IPAddress</a>&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Extracts information of a received <a class="el" href="class_r_t_p_packet.html">RTPPacket</a>. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8cc_source.html#l00345">345</a> of file <a class="el" href="_r_t_c_p_8cc_source.html">RTCP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_t_c_p_8cc_source.html#l00172">dataIn()</a>.</p>
<div class="fragment"><pre class="fragment">{
    uint32 ssrc = packet-&gt;<a class="code" href="class_r_t_p_packet.html#a3f12154608f2c3d1a94b3153da23ffd2">getSSRC</a>();
    <a class="code" href="class_r_t_p_participant_info.html">RTPParticipantInfo</a> *participantInfo = <a class="code" href="class_r_t_c_p.html#afcf77f17784f2636811703bb0c78b47a">findParticipantInfo</a>(ssrc);
    <span class="keywordflow">if</span> (participantInfo == NULL) {
        participantInfo = <span class="keyword">new</span> <a class="code" href="class_r_t_p_participant_info.html">RTPParticipantInfo</a>(ssrc);
        participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info.html#abcc22ceeee417b82cf689bb19e88bccc">setAddress</a>(address);
        participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info.html#ad6e2ee4a5e394d640e69327a1f724996">setRTPPort</a>(port);
        <a class="code" href="class_r_t_c_p.html#a1bd493c0345308c51d020001b7e79ee2">_participantInfos</a>-&gt;add(participantInfo);
    }
    <span class="keywordflow">else</span> {
        <span class="comment">// check for ssrc conflict</span>
        <span class="keywordflow">if</span> (participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info.html#a8706e6bf55147488badf1a4fe0e01fba">getAddress</a>() != address) {
            <span class="comment">// we have an address conflict</span>
        }
        <span class="keywordflow">if</span> (participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info.html#a6a5c1784bca7d27be46ad8a6f6542357">getRTPPort</a>() == <a class="code" href="_i_p_address_8h.html#af1fbd9b1c7fd9da1fdebcf3afd0d111c">PORT_UNDEF</a>) {
            participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info.html#ad6e2ee4a5e394d640e69327a1f724996">setRTPPort</a>(port);
        }
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info.html#a6a5c1784bca7d27be46ad8a6f6542357">getRTPPort</a>() != port) {
            <span class="comment">// we have an rtp port conflict</span>
        }
    }
    participantInfo-&gt;<a class="code" href="class_r_t_p_participant_info.html#a885542e6091b42105033ae66d7850d91">processRTPPacket</a>(packet, getId(),  packet-&gt;getArrivalTime());
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8799abb9a95f0c3e6c884df9daa3735f"></a><!-- doxytag: member="RTCP::processOutgoingRTPPacket" ref="a8799abb9a95f0c3e6c884df9daa3735f" args="(RTPPacket *packet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_r_t_c_p.html#a8799abb9a95f0c3e6c884df9daa3735f">RTCP::processOutgoingRTPPacket</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_t_p_packet.html">RTPPacket</a> *&#160;</td>
          <td class="paramname"><em>packet</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Extracts information of a sent <a class="el" href="class_r_t_p_packet.html">RTPPacket</a>. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8cc_source.html#l00339">339</a> of file <a class="el" href="_r_t_c_p_8cc_source.html">RTCP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_t_c_p_8cc_source.html#l00165">dataOut()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_sender_info.html#a70690a4364d8ac55b306f79f0b2cf834">processRTPPacket</a>(packet, getId(), simTime());
}
</pre></div>
</div>
</div>
<a class="anchor" id="aba758ab1ab089113257066ed604f592d"></a><!-- doxytag: member="RTCP::readRet" ref="aba758ab1ab089113257066ed604f592d" args="(cPacket *sifpIn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_r_t_c_p.html#aba758ab1ab089113257066ed604f592d">RTCP::readRet</a> </td>
          <td>(</td>
          <td class="paramtype">cPacket *&#160;</td>
          <td class="paramname"><em>sifpIn</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called when this rtcp module receives data from the socket layer. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8cc_source.html#l00195">195</a> of file <a class="el" href="_r_t_c_p_8cc_source.html">RTCP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_t_c_p_8cc_source.html#l00109">handleMessageFromUDP()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_r_t_c_p_compound_packet.html">RTCPCompoundPacket</a> *packet = (<a class="code" href="class_r_t_c_p_compound_packet.html">RTCPCompoundPacket</a> *)(sifpIn-&gt;decapsulate());
    <a class="code" href="class_r_t_c_p.html#a8ac3a8c05cbd68c631cf99e417b3ab0a">processIncomingRTCPPacket</a>(packet, <a class="code" href="class_i_p_address.html">IPAddress</a>(<a class="code" href="class_r_t_c_p.html#a821bbdef483a7dc0a8793d8f4020cbcc">_destinationAddress</a>), <a class="code" href="class_r_t_c_p.html#a5e94424b09d99ecd8bfa7a9bf9584a0d">_port</a>);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad0c374e283d184b19c7c67f0cef8a82b"></a><!-- doxytag: member="RTCP::scheduleInterval" ref="ad0c374e283d184b19c7c67f0cef8a82b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_r_t_c_p.html#ad0c374e283d184b19c7c67f0cef8a82b">RTCP::scheduleInterval</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Calculates the length of the next rtcp interval an issues a self message to remind itself. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8cc_source.html#l00228">228</a> of file <a class="el" href="_r_t_c_p_8cc_source.html">RTCP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_t_c_p_8cc_source.html#l00116">handleSelfMessage()</a>.</p>
<div class="fragment"><pre class="fragment">                           {

    simtime_t intervalLength = <a class="code" href="class_r_t_c_p.html#a3e059e5417461a9698d70366c486041d">_averagePacketSize</a> * (simtime_t)(<a class="code" href="class_r_t_c_p.html#a1bd493c0345308c51d020001b7e79ee2">_participantInfos</a>-&gt;size()) / (simtime_t)(<a class="code" href="class_r_t_c_p.html#ac0c26bf355a113db3fc7516e5ef9f6f4">_bandwidth</a> * <a class="code" href="class_r_t_c_p.html#aba2346f5ac50ddbce83c972712113611">_rtcpPercentage</a> * (<a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_participant_info.html#a45525d038fe36283e57c9be39804120b">isSender</a>() ? 1.0 : 0.75) / 100.0);

    <span class="comment">// interval length must be at least 5 seconds</span>
    <span class="keywordflow">if</span> (intervalLength &lt; 5.0)
        intervalLength = 5.0;

    <span class="comment">// to avoid rtcp packet bursts multiply calculated interval length</span>
    <span class="comment">// with a random number between 0.5 and 1.5</span>
    intervalLength = intervalLength * (0.5 + dblrand());

    intervalLength /= (double) (2.71828-1.5); <span class="comment">// [RFC 3550] , by Ahmed ayadi</span>

    cMessage *reminderMessage = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;Interval&quot;</span>);
    scheduleAt(simTime() + intervalLength, reminderMessage);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac9cac5c0e069ad71fdfbea85965afb1f"></a><!-- doxytag: member="RTCP::senderModuleInitialized" ref="ac9cac5c0e069ad71fdfbea85965afb1f" args="(RTPInnerPacket *rinp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_r_t_c_p.html#ac9cac5c0e069ad71fdfbea85965afb1f">RTCP::senderModuleInitialized</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a> *&#160;</td>
          <td class="paramname"><em>rinp</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stores information about the new transmission. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8cc_source.html#l00156">156</a> of file <a class="el" href="_r_t_c_p_8cc_source.html">RTCP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_t_c_p_8cc_source.html#l00081">handleMessageFromRTP()</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_sender_info.html#ac4ce23ce45b86179cd97e47bfe0dffcf">setStartTime</a>(simTime());
    <a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_sender_info.html#a92394f8ef91777fcf18fdde60d639f6a">setClockRate</a>(rinp-&gt;<a class="code" href="class_r_t_p_inner_packet.html#aeea95a47abc9d6f82aa402f55b64424c">getClockRate</a>());
    <a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_sender_info.html#a1a19d4b88512c9065930fa49f9640da7">setTimeStampBase</a>(rinp-&gt;<a class="code" href="class_r_t_p_inner_packet.html#a713d7c6f5267b6190000dab770d32706">getTimeStampBase</a>());
    <a class="code" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae">_senderInfo</a>-&gt;<a class="code" href="class_r_t_p_sender_info.html#ae8a19011c7e314e1a6f50f2536e29039">setSequenceNumberBase</a>(rinp-&gt;<a class="code" href="class_r_t_p_inner_packet.html#a43192598ab8517ff98c1cbab4a8785bf">getSequenceNumberBase</a>());
}
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a3e059e5417461a9698d70366c486041d"></a><!-- doxytag: member="RTCP::_averagePacketSize" ref="a3e059e5417461a9698d70366c486041d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="class_r_t_c_p.html#a3e059e5417461a9698d70366c486041d">RTCP::_averagePacketSize</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The average size of an <a class="el" href="class_r_t_c_p_compound_packet.html">RTCPCompoundPacket</a>. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8h_source.html#l00175">175</a> of file <a class="el" href="_r_t_c_p_8h_source.html">RTCP.h</a>.</p>

<p>Referenced by <a class="el" href="_r_t_c_p_8cc_source.html#l00532">calculateAveragePacketSize()</a>, <a class="el" href="_r_t_c_p_8cc_source.html#l00040">initialize()</a>, and <a class="el" href="_r_t_c_p_8cc_source.html#l00228">scheduleInterval()</a>.</p>

</div>
</div>
<a class="anchor" id="ac0c26bf355a113db3fc7516e5ef9f6f4"></a><!-- doxytag: member="RTCP::_bandwidth" ref="ac0c26bf355a113db3fc7516e5ef9f6f4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_r_t_c_p.html#ac0c26bf355a113db3fc7516e5ef9f6f4">RTCP::_bandwidth</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The bandwidth for this rtp session. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8h_source.html#l00118">118</a> of file <a class="el" href="_r_t_c_p_8h_source.html">RTCP.h</a>.</p>

<p>Referenced by <a class="el" href="_r_t_c_p_8cc_source.html#l00137">initializeRTCP()</a>, and <a class="el" href="_r_t_c_p_8cc_source.html#l00228">scheduleInterval()</a>.</p>

</div>
</div>
<a class="anchor" id="a821bbdef483a7dc0a8793d8f4020cbcc"></a><!-- doxytag: member="RTCP::_destinationAddress" ref="a821bbdef483a7dc0a8793d8f4020cbcc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_p_address.html">IPAddress</a> <a class="el" href="class_r_t_c_p.html#a821bbdef483a7dc0a8793d8f4020cbcc">RTCP::_destinationAddress</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The destination address. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8h_source.html#l00128">128</a> of file <a class="el" href="_r_t_c_p_8h_source.html">RTCP.h</a>.</p>

<p>Referenced by <a class="el" href="_r_t_c_p_8cc_source.html#l00262">createPacket()</a>, <a class="el" href="_r_t_c_p_8cc_source.html#l00201">createSocket()</a>, <a class="el" href="_r_t_c_p_8cc_source.html#l00137">initializeRTCP()</a>, and <a class="el" href="_r_t_c_p_8cc_source.html#l00195">readRet()</a>.</p>

</div>
</div>
<a class="anchor" id="a15f6dc294a91b2366caf4d781c7ec7c7"></a><!-- doxytag: member="RTCP::_leaveSession" ref="a15f6dc294a91b2366caf4d781c7ec7c7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_r_t_c_p.html#a15f6dc294a91b2366caf4d781c7ec7c7">RTCP::_leaveSession</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>True when this end system is about to leave the session. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8h_source.html#l00143">143</a> of file <a class="el" href="_r_t_c_p_8h_source.html">RTCP.h</a>.</p>

<p>Referenced by <a class="el" href="_r_t_c_p_8cc_source.html#l00262">createPacket()</a>, <a class="el" href="_r_t_c_p_8cc_source.html#l00116">handleSelfMessage()</a>, <a class="el" href="_r_t_c_p_8cc_source.html#l00040">initialize()</a>, and <a class="el" href="_r_t_c_p_8cc_source.html#l00180">leaveSession()</a>.</p>

</div>
</div>
<a class="anchor" id="a37a772bdd0760827d4ec3854dbc29228"></a><!-- doxytag: member="RTCP::_mtu" ref="a37a772bdd0760827d4ec3854dbc29228" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_r_t_c_p.html#a37a772bdd0760827d4ec3854dbc29228">RTCP::_mtu</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The maximum size an RTCPCompundPacket can have. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8h_source.html#l00113">113</a> of file <a class="el" href="_r_t_c_p_8h_source.html">RTCP.h</a>.</p>

<p>Referenced by <a class="el" href="_r_t_c_p_8cc_source.html#l00137">initializeRTCP()</a>.</p>

</div>
</div>
<a class="anchor" id="a71ec6dc615cd6418db3ed9bf24f4c586"></a><!-- doxytag: member="RTCP::_packetsCalculated" ref="a71ec6dc615cd6418db3ed9bf24f4c586" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_r_t_c_p.html#a71ec6dc615cd6418db3ed9bf24f4c586">RTCP::_packetsCalculated</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The number of packets this rtcp module has calculated. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8h_source.html#l00170">170</a> of file <a class="el" href="_r_t_c_p_8h_source.html">RTCP.h</a>.</p>

<p>Referenced by <a class="el" href="_r_t_c_p_8cc_source.html#l00532">calculateAveragePacketSize()</a>, and <a class="el" href="_r_t_c_p_8cc_source.html#l00040">initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="a1bd493c0345308c51d020001b7e79ee2"></a><!-- doxytag: member="RTCP::_participantInfos" ref="a1bd493c0345308c51d020001b7e79ee2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cArray* <a class="el" href="class_r_t_c_p.html#a1bd493c0345308c51d020001b7e79ee2">RTCP::_participantInfos</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Information about all known rtp end system participating in this rtp session. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8h_source.html#l00154">154</a> of file <a class="el" href="_r_t_c_p_8h_source.html">RTCP.h</a>.</p>

<p>Referenced by <a class="el" href="_r_t_c_p_8cc_source.html#l00247">chooseSSRC()</a>, <a class="el" href="_r_t_c_p_8cc_source.html#l00262">createPacket()</a>, <a class="el" href="_r_t_c_p_8cc_source.html#l00519">findParticipantInfo()</a>, <a class="el" href="_r_t_c_p_8cc_source.html#l00040">initialize()</a>, <a class="el" href="_r_t_c_p_8cc_source.html#l00371">processIncomingRTCPPacket()</a>, <a class="el" href="_r_t_c_p_8cc_source.html#l00345">processIncomingRTPPacket()</a>, <a class="el" href="_r_t_c_p_8cc_source.html#l00035">RTCP()</a>, <a class="el" href="_r_t_c_p_8cc_source.html#l00228">scheduleInterval()</a>, and <a class="el" href="_r_t_c_p_8cc_source.html#l00055">~RTCP()</a>.</p>

</div>
</div>
<a class="anchor" id="a5e94424b09d99ecd8bfa7a9bf9584a0d"></a><!-- doxytag: member="RTCP::_port" ref="a5e94424b09d99ecd8bfa7a9bf9584a0d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_r_t_c_p.html#a5e94424b09d99ecd8bfa7a9bf9584a0d">RTCP::_port</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The rtcp port. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8h_source.html#l00133">133</a> of file <a class="el" href="_r_t_c_p_8h_source.html">RTCP.h</a>.</p>

<p>Referenced by <a class="el" href="_r_t_c_p_8cc_source.html#l00262">createPacket()</a>, <a class="el" href="_r_t_c_p_8cc_source.html#l00201">createSocket()</a>, <a class="el" href="_r_t_c_p_8cc_source.html#l00137">initializeRTCP()</a>, and <a class="el" href="_r_t_c_p_8cc_source.html#l00195">readRet()</a>.</p>

</div>
</div>
<a class="anchor" id="a165677f6f01930cd573e5d60f4daf0a6"></a><!-- doxytag: member="RTCP::_rtcpIntervalOutVector" ref="a165677f6f01930cd573e5d60f4daf0a6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* <a class="el" href="class_r_t_c_p.html#a165677f6f01930cd573e5d60f4daf0a6">RTCP::_rtcpIntervalOutVector</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The output vector for statistical data about the behaviour of rtcp. Every participant's rtcp module writes its calculated rtcp interval (without variation </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8h_source.html#l00182">182</a> of file <a class="el" href="_r_t_c_p_8h_source.html">RTCP.h</a>.</p>

</div>
</div>
<a class="anchor" id="aba2346f5ac50ddbce83c972712113611"></a><!-- doxytag: member="RTCP::_rtcpPercentage" ref="aba2346f5ac50ddbce83c972712113611" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_r_t_c_p.html#aba2346f5ac50ddbce83c972712113611">RTCP::_rtcpPercentage</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The percentage of bandwidth for rtcp. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8h_source.html#l00123">123</a> of file <a class="el" href="_r_t_c_p_8h_source.html">RTCP.h</a>.</p>

<p>Referenced by <a class="el" href="_r_t_c_p_8cc_source.html#l00137">initializeRTCP()</a>, and <a class="el" href="_r_t_c_p_8cc_source.html#l00228">scheduleInterval()</a>.</p>

</div>
</div>
<a class="anchor" id="a24fc77e46e9ef00d873a5197694681ae"></a><!-- doxytag: member="RTCP::_senderInfo" ref="a24fc77e46e9ef00d873a5197694681ae" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_r_t_p_sender_info.html">RTPSenderInfo</a>* <a class="el" href="class_r_t_c_p.html#a24fc77e46e9ef00d873a5197694681ae">RTCP::_senderInfo</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The <a class="el" href="class_r_t_p_sender_info.html">RTPSenderInfo</a> about this end system. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8h_source.html#l00148">148</a> of file <a class="el" href="_r_t_c_p_8h_source.html">RTCP.h</a>.</p>

<p>Referenced by <a class="el" href="_r_t_c_p_8cc_source.html#l00247">chooseSSRC()</a>, <a class="el" href="_r_t_c_p_8cc_source.html#l00262">createPacket()</a>, <a class="el" href="_r_t_c_p_8cc_source.html#l00116">handleSelfMessage()</a>, <a class="el" href="_r_t_c_p_8cc_source.html#l00137">initializeRTCP()</a>, <a class="el" href="_r_t_c_p_8cc_source.html#l00371">processIncomingRTCPPacket()</a>, <a class="el" href="_r_t_c_p_8cc_source.html#l00339">processOutgoingRTPPacket()</a>, <a class="el" href="_r_t_c_p_8cc_source.html#l00228">scheduleInterval()</a>, and <a class="el" href="_r_t_c_p_8cc_source.html#l00156">senderModuleInitialized()</a>.</p>

</div>
</div>
<a class="anchor" id="a3156bbe02720bd521d253ef8497bf0b1"></a><!-- doxytag: member="RTCP::_socketFdIn" ref="a3156bbe02720bd521d253ef8497bf0b1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_r_t_c_p.html#a3156bbe02720bd521d253ef8497bf0b1">RTCP::_socketFdIn</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The server socket for receiving rtcp packets. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8h_source.html#l00159">159</a> of file <a class="el" href="_r_t_c_p_8h_source.html">RTCP.h</a>.</p>

<p>Referenced by <a class="el" href="_r_t_c_p_8cc_source.html#l00201">createSocket()</a>, and <a class="el" href="_r_t_c_p_8cc_source.html#l00040">initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="af32f3ab0cf350b43f5cb606d5c275d86"></a><!-- doxytag: member="RTCP::_socketFdOut" ref="af32f3ab0cf350b43f5cb606d5c275d86" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_r_t_c_p.html#af32f3ab0cf350b43f5cb606d5c275d86">RTCP::_socketFdOut</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The client socket for sending rtcp packets. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8h_source.html#l00164">164</a> of file <a class="el" href="_r_t_c_p_8h_source.html">RTCP.h</a>.</p>

<p>Referenced by <a class="el" href="_r_t_c_p_8cc_source.html#l00262">createPacket()</a>, <a class="el" href="_r_t_c_p_8cc_source.html#l00201">createSocket()</a>, and <a class="el" href="_r_t_c_p_8cc_source.html#l00040">initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="a312d956dfe0cee660f64c7eff866f97f"></a><!-- doxytag: member="RTCP::_ssrcChosen" ref="a312d956dfe0cee660f64c7eff866f97f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_r_t_c_p.html#a312d956dfe0cee660f64c7eff866f97f">RTCP::_ssrcChosen</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>True when this end system has chosen its ssrc identifier. </p>

<p>Definition at line <a class="el" href="_r_t_c_p_8h_source.html#l00138">138</a> of file <a class="el" href="_r_t_c_p_8h_source.html">RTCP.h</a>.</p>

<p>Referenced by <a class="el" href="_r_t_c_p_8cc_source.html#l00247">chooseSSRC()</a>, <a class="el" href="_r_t_c_p_8cc_source.html#l00116">handleSelfMessage()</a>, and <a class="el" href="_r_t_c_p_8cc_source.html#l00040">initialize()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_r_t_c_p_8h_source.html">RTCP.h</a></li>
<li><a class="el" href="_r_t_c_p_8cc_source.html">RTCP.cc</a></li>
</ul>
</div><!-- contents -->
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="class_r_t_c_p.html">RTCP</a>      </li>

    <li class="footer">Generated on Thu Aug 30 2012 22:56:52 for INET Framework for OMNeT++/OMNEST by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
